<!DOCTYPE html>
<!--[if IE 8]><html class="ie ie8"> <![endif]-->
<!--[if IE 9]><html class="ie ie9"> <![endif]-->
<!--[if gt IE 9]><!-->	<html> <!--<![endif]-->

<!-- Mirrored from www.tutorialspoint.com/mysql/mysql-quick-guide.htm by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Aug 2017 15:30:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<!-- Basic -->
<meta charset="utf-8">
<title>MySQL Quick Guide</title>
<meta name="description" content="MySQL Quick Guide - Learn MySQL from basic to advanced covering database programming clauses command functions administration queries and usage along with PHP in simple steps. This tutorial takes you starting from basic to advance MySQL concepts." />
<meta name="keywords" content="Learning, MySQL, Programming, Database, Clauses, Commands, Functions, MySQL Between Clause, Queries, Simple, Steps, Basic, Advanced, Concepts." />
<base  />
<link rel="shortcut icon" href="../favicon.ico" type="image/x-icon" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes">
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="website" />
<meta property="fb:app_id" content="471319149685276" />
<meta property="og:site_name" content="www.tutorialspoint.com" />
<meta name="robots" content="index, follow"/>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="author" content="tutorialspoint.com">
<script type="text/javascript" src="../theme/js/script-min-v4.js"></script>
<link rel="stylesheet" href="../theme/css/style-min5e1f.css?v=2">
<!-- Head Libs -->
<!--[if IE 8]>
<link rel="stylesheet" type="text/css" href="/theme/css/ie8.css">
<![endif]-->
<style>
select{ border:0 !important; outline: 1px inset black !important; outline-offset: -1px !important; }
ul.nav-list.primary>li a.videolink{    background: none; margin: 0px; padding: 0px; border: 1px solid #d6d6d6;}
div.feature-box div.feature-box-icon, .col-md-3 .course-box, li.heading, div.footer-copyright { background: #004e61 url(../images/pattern.png) repeat center center !important;}
.sub-main-menu .sub-menuu div:hover, .sub-main-menu .viewall, header nav ul.nav-main li a:hover, button.btn-responsive-nav, header div.search button.btn-default { background: #004e61 !important;}
.submenu-item{ border-bottom: 2px solid #004e61 !important; border-top: 2px solid #004e61 !important }
.ace_scroller{overflow: auto!important;}
</style>
<script>
$(document).ready(function() {
  $('input[name="q"]').keydown(function(event){
    if(event.keyCode == 13) {
      event.preventDefault();
      return false;
    }
  });
});
</script>
</head>
<body onload="prettyPrint()">
<div class="wrapLoader">
   <div class="imgLoader">
      <img  src="../images/loading-cg.gif" alt="" width="70" height="70" />
   </div>
</div>
<header>
   <div class="container">			
      <h1 class="logo">
      <a href="../index-2.html" title="tutorialspoint">
      <img alt="tutorialspoint" src="images/logo.png">
      </a>
      </h1>			
      <nav>
         <ul class="nav nav-pills nav-top">
            <li><a href="../about/about_careers.html" style="background: #fffb09; font-weight: bold;"><i class="icon icon-suitcase"></i> Jobs</a></li>
            <li> <a href="http://www.sendfiles.net/"><i class="fa fa-send"></i> &nbsp;SENDFiles</a> </li>
            <li> <a href="../whiteboard.html"><img src="../theme/css/icons/image-editor.png" alt="Whiteboard" title="Whiteboard"> &nbsp;Whiteboard</a> </li>
            <li> <a href="../netmeeting.html"><i class="fa-camera"></i> &nbsp;Net Meeting</a> </li>
            <li> <a href="../online_dev_tools.html"> <i class="dev-tools-menu" style="opacity:.5"></i> Tools </a> </li>
            <li> <a href="../articles/index.html"><i class="icon icon-file-text-o"></i> &nbsp;Articles</a> </li>            
            <li class="top-icons">
              <ul class="social-icons">
              <li class="facebook"><a href="https://www.facebook.com/tutorialspointindia" target="_blank" data-placement="bottom" title="tutorialspoint @ Facebook">Facebook</a></li>
              <li class="googleplus"><a href="https://plus.google.com/u/0/116678774017490391259/posts" target="_blank" data-placement="bottom" title="tutorialspoint @ Google+">Google+</a></li>
              <li class="twitter"><a href="https://www.twitter.com/tutorialspoint" target="_blank" data-placement="bottom" title="tutorialspoint @ Twitter">Twitter</a></li>
              <li class="linkedin"><a href="https://www.linkedin.com/company/tutorialspoint" target="_blank" data-placement="bottom" title="tutorialspoint @ Linkedin">Linkedin</a></li>
              <li class="youtube"><a href="https://www.youtube.com/channel/UCVLbzhxVTiTLiVKeGV7WEBg" target="_blank" data-placement="bottom" title="tutorialspoint YouTube">YouTube</a></li>
              </ul>
           </li>
         </ul>
      </nav>
         <!-- search code here  --> 
      <button class="btn btn-responsive-nav btn-inverse" data-toggle="collapse" data-target=".nav-main-collapse" id="pull" style="top: 24px!important"> <i class="icon icon-bars"></i> </button>
   </div>
  
   <div class="navbar nav-main">
      <div class="container">
         <nav class="nav-main mega-menu">
            <ul class="nav nav-pills nav-main" id="mainMenu">
               <li class="dropdown no-sub-menu"> <a class="dropdown" href="../index-2.html"><i class="icon icon-home"></i> Home</a> </li>   
               <li class="dropdown" id="liTL"><a class="dropdown" href="javascript:void(0);"><span class="tut-lib"> Tutorials Library <i class="fa-caret-down"></i></span></a></li>
               <li class="dropdown no-sub-menu"><a class="dropdown" href="../codingground.html"><i class="fa-code"></i> Coding Ground </a> </li>
               <li class="dropdown no-sub-menu"><a class="dropdown" href="../tutor_connect/index.html"><i class="fa-user"> </i> Tutor Connect</a></li>
               <li class="dropdown no-sub-menu"><a class="dropdown" href="../videotutorials/index.html"><i class="fa-toggle-right"></i> Videos </a></li>
               <li class="dropdown no-sub-menu">
                  <div class="searchform-popup">
                     <input class="header-search-box" type="text" id="search-string" name="q" placeholder="Search your favorite tutorials..." onfocus="if (this.value == 'Search your favorite tutorials...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search your favorite tutorials...';}" autocomplete="off">
                     <div class="magnifying-glass"><i class="icon-search"></i> Search </div>
                 </div>
               </li>
            </ul>
         </nav>
         <div class="submenu-item sub-main-menu" id="top-sub-menu"></div>
         
      </div>
   </div>	
</header>
<div style="clear:both;"></div>
<div role="main" class="main">
<div class="container">
<div class="row">
<div class="col-md-2">
<aside class="sidebar">
<div class="mini-logo">
<img src="images/mysql-mini-logo.jpg" alt="MySQL Tutorial" />
</div>
<ul class="nav nav-list primary left-menu" >
<li class="heading">Learn MySQL</li>
<li><a href="index.html">MySQL - Home</a></li>
<li><a href="mysql-introduction.html">MySQL - Introduction</a></li>
<li><a href="mysql-installation.html">MySQL - Installation</a></li>
<li><a href="mysql-administration.html" >MySQL - Administration</a></li>
<li><a href="mysql-php-syntax.html">MySQL - PHP Syntax</a></li>
<li><a href="mysql-connection.html">MySQL - Connection</a></li>
<li><a href="mysql-create-database.html">MySQL - Create Database</a></li>
<li><a href="mysql-drop-database.html">MySQL - Drop Database</a></li>
<li><a href="mysql-select-database.html">MySQL - Select Database</a></li>
<li><a href="mysql-data-types.html">MySQL - Data Types</a></li>
<li><a href="mysql-create-tables.html">MySQL - Create Tables</a></li>
<li><a href="mysql-drop-tables.html">MySQL - Drop Tables</a></li>
<li><a href="mysql-insert-query.html">MySQL - Insert Query</a></li>
<li><a href="mysql-select-query.html">MySQL - Select Query</a></li>
<li><a href="mysql-where-clause.html">MySQL - Where Clause</a></li>
<li><a href="mysql-update-query.html">MySQL - Update Query</a></li>
<li><a href="mysql-delete-query.html">MySQL - Delete Query</a></li>
<li><a href="mysql-like-clause.html">MySQL - Like Clause</a></li>
<li><a href="mysql-sorting-results.html">MySQL - Sorting Results</a></li>
<li><a href="mysql-using-joins.html">MySQL - Using Join</a></li>
<li><a href="mysql-null-values.html">MySQL - NULL Values</a></li>
<li><a href="mysql-regexps.html">MySQL - Regexps</a></li>
<li><a href="mysql-transactions.html">MySQL - Transactions</a></li>
<li><a href="mysql-alter-command.html">MySQL - Alter Command</a></li>
<li><a href="mysql-indexes.html">MySQL - Indexes</a></li>
<li><a href="mysql-temporary-tables.html">MySQL - Temporary Tables</a></li>
<li><a href="mysql-clone-tables.html">MySQL - Clone Tables</a></li>
<li><a href="mysql-database-info.html">MySQL - Database Info</a></li>
<li><a href="mysql-using-sequences.html">MySQL - Using Sequences</a></li>
<li><a href="mysql-handling-duplicates.html">MySQL - Handling Duplicates</a></li>
<li><a href="mysql-sql-injection.html">MySQL - SQL Injection</a></li>
<li><a href="mysql-database-export.html">MySQL - Database Export</a></li>
<li><a href="mysql-database-import.html">MySQL - Database Import</a></li>
</ul>
<ul class="nav nav-list primary left-menu" >
<li class="heading">MySQL Useful Resources</li>
<li><a href="mysql-useful-functions.html">MySQL - Useful Functions</a></li>
<li><a href="mysql-quick-guide.html">MySQL - Quick Guide</a></li>
<li><a href="mysql-useful-resources.html">MySQL - Useful Resources</a></li>
<li><a href="mysql-discussion.html">MySQL - Discussion</a></li>
</ul>
<ul class="nav nav-list primary push-bottom left-menu special">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="../developers_best_practices/index.html">Developer's Best Practices</a></li>
<li><a target="_top" href="../questions_and_answers.html">Questions and Answers</a></li>
<li><a target="_top" href="../effective_resume_writing.html">Effective Resume Writing</a></li>
<li><a target="_top" href="../hr_interview_questions/index.html">HR Interview Questions</a></li>
<li><a target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</aside>
</div>
<!-- PRINTING STARTS HERE -->
<div class="row">
<div class="content">
<div class="col-md-7 middle-col">
<h1>MySQL - Quick Guide</h1>
<div class="topgooglead">
<hr />
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt"> 
</script>
</div>
<hr />
<div class="pre-btn">
<a href="mysql-useful-functions.html"><i class="icon icon-arrow-circle-o-left big-font"></i> Previous Page</a>
</div>
<div class="nxt-btn">
<a href="mysql-useful-resources.html">Next Page <i class="icon icon-arrow-circle-o-right big-font"></i>&nbsp;</a>
</div>
<div class="clearer"></div>
<hr />
<h1>MySQL - Introduction</h1>
<h2>What is a Database?</h2>
<p>A database is a separate application that stores a collection of data. Each database has one or more distinct APIs for creating, accessing, managing, searching and replicating the data it holds.</p>
<p>Other kinds of data stores can also be used, such as files on the file system or large hash tables in memory but data fetching and writing would not be so fast and easy with those type of systems.</p>
<p>Nowadays, we use relational database management systems (RDBMS) to store and manage huge volume of data. This is called relational database because all the data is stored into different tables and relations are established using primary keys or other keys known as <b>Foreign Keys</b>.</p>
<p>A <b>Relational  DataBase Management System (RDBMS)</b> is a software that &minus;</p>
<ul class="list">
<li><p>Enables you to implement a database with tables, columns and indexes.</p></li>
<li><p>Guarantees the Referential Integrity between rows of various tables.</p></li>
<li><p>Updates the indexes automatically.</p></li>
<li><p>Interprets an SQL query and combines information from various tables.</p></li>
</ul>
<h2>RDBMS Terminology</h2>
<p>Before we proceed to explain the MySQL database system, let us revise a few definitions related to the database.</p>
<ul class="list">
<li><p><b>Database</b> &minus; A database is a collection of tables, with related data.</p></li>
<li><p><b>Table</b> &minus; A table is a matrix with data. A table in a database looks like a simple spreadsheet.</p></li>
<li><p><b>Column</b> &minus; One column (data element) contains data of one and the same kind, for example the column postcode.</p></li>
<li><p><b>Row</b> &minus; A row (= tuple, entry or record) is a group of related data, for example the data of one subscription.</p></li>
<li><p><b>Redundancy</b> &minus; Storing data twice, redundantly to make the system faster.</p></li>
<li><p><b>Primary Key</b> &minus; A primary key is unique. A key value can not occur twice in one table. With a key, you can only find one row. </p></li>
<li><p><b>Foreign Key</b> &minus; A  foreign key is the linking pin between two tables.</p></li>
<li><p><b>Compound Key</b> &minus; A compound key (composite key) is a key that consists of multiple columns, because one column is not sufficiently unique.</p></li>
<li><p><b>Index</b> &minus; An index in a database resembles an index at the back of a book.</p></li>
<li><p><b>Referential Integrity</b> &minus; Referential Integrity makes sure that a foreign key value always points to an existing row.</p></li>
</ul>
<h2>MySQL Database</h2>
<p>MySQL is a fast, easy-to-use RDBMS being used for many small and big businesses. MySQL is developed, marketed and supported by MySQL AB, which is a Swedish company. MySQL is becoming so popular because of many good reasons &minus;</p>
<ul class="list">
<li><p>MySQL is released under an open-source license. So you have nothing to pay to use it.</p></li>
<li><p>MySQL is  a very powerful program in its own right. It handles a large subset of the functionality of the most expensive and powerful database packages.</p></li>
<li><p>MySQL uses a standard form of the well-known SQL data language.</p></li>
<li><p>MySQL works on many operating systems and with many languages including PHP, PERL, C, C++, JAVA, etc.</p></li>
<li><p>MySQL works very quickly and works well even with large data sets.</p></li>
<li><p>MySQL is very friendly to PHP, the most appreciated language for web development.</p></li>
<li><p>MySQL supports large databases, up to 50 million rows or more in a table. The default file size limit for a table is 4GB, but you can increase this (if your operating system can handle it) to a theoretical limit of 8 million terabytes (TB).</p></li>
<li><p>MySQL is customizable. The open-source GPL license allows programmers to modify the MySQL software to fit their own specific environments.</p></li>
</ul>
<h2>Before You Begin</h2>
<p>Before you begin this tutorial, you should have a basic knowledge of the information covered in our PHP and HTML tutorials.</p>
<p>This tutorial focuses heavily on using MySQL in a PHP environment. Many examples given in this tutorial will be useful for PHP Programmers.</p>
<p>We recommend you check our <a href="../php/index.html">PHP Tutorial</a> for your reference.</p>
<h1>MySQL - Installation</h1>
<p>All downloads for MySQL are located at <a href="http://www.mysql.com/downloads/" target="_blank">MySQL Downloads</a>. Pick the version number of <b>MySQL Community Server</b> which is required along with the platform you will be running it on.</p>
<h2>Installing MySQL on Linux/UNIX</h2>
<p>The recommended way to install MySQL on a Linux system is via RPM. MySQL AB makes the following RPMs available for download on its website &minus;</p>
<ul class="list">
<li><p><b>MySQL</b> &minus; The MySQL database server manages the databases and tables, controls user access and processes the SQL queries.</p></li>
<li><p><b>MySQL-client</b> &minus; MySQL client programs, which make it possible to connect to and interact with the server.</p></li>
<li><p><b>MySQL-devel</b> &minus; Libraries and header files that come in handy when compiling other programs that use MySQL.</p></li>
<li><p><b>MySQL-shared</b> &minus; Shared libraries for the MySQL client.</p></li>
<li><p><b>MySQL-bench</b> &minus; Benchmark and performance testing tools for the MySQL database server.</p></li>
</ul>
<p>The MySQL RPMs listed here are all built on a <b>SuSE Linux system</b>, but they will usually work on other Linux variants with no difficulty.</p>
<p>Now, you will need to adhere to the steps given below, to proceed with the installation &minus;</p>
<ul class="list">
<li><p>Login to the system using the <b>root</b> user.</p></li>
<li><p>Switch to the directory containing the RPMs.</p></li>
<li><p>Install the MySQL database server by executing the following command. Remember to replace the filename in italics with the file name of your RPM.</p></li>
</ul>
<pre class="result notranslate">
[root@host]# rpm -i MySQL-5.0.9-0.i386.rpm
</pre>
<p>The above command takes care of installing the MySQL server, creating a user of MySQL, creating necessary configuration and starting the MySQL server automatically.</p>
<p>You can find all the MySQL related binaries in /usr/bin and /usr/sbin. All the tables and databases will be created in the /var/lib/mysql directory.</p>
<ul class="list">
<li><p>The following code box has an optional but recommended step to install the remaining RPMs in the same manner &minus;</p></li>
</ul>
<pre class="result notranslate">
[root@host]# rpm -i MySQL-client-5.0.9-0.i386.rpm
[root@host]# rpm -i MySQL-devel-5.0.9-0.i386.rpm
[root@host]# rpm -i MySQL-shared-5.0.9-0.i386.rpm
[root@host]# rpm -i MySQL-bench-5.0.9-0.i386.rpm
</pre>
<h2>Installing MySQL on Windows</h2>
<p>The default installation on any version of Windows is now much easier than it used to be, as MySQL now comes neatly packaged with an installer. Simply download the installer package, unzip it anywhere and run the setup.exe file.</p>
<p>The default installer setup.exe will walk you through the trivial process and by default will install everything under C:\mysql.</p>
<p>Test the server by firing it up from the command prompt the first time. Go to the location of the <b>mysqld server</b> which is probably C:\mysql\bin, and type &minus;</p>
<pre class="result notranslate">
mysqld.exe --console
</pre>
<p><b>NOTE</b> &minus; If you are on NT, then you will have to use mysqld-nt.exe instead of mysqld.exe</p>
<p>If all went well, you will see some messages about startup and <b>InnoDB</b>. If not, you may have a permissions issue. Make sure that the directory that holds your data is accessible to whatever user (probably MySQL) the database processes run under.</p>
<p>MySQL will not add itself to the start menu, and there is no particularly nice GUI way to stop the server either. Therefore, if you tend to start the server by double clicking the mysqld executable, you should remember to halt the process by hand by using mysqladmin, Task List, Task Manager, or other Windows-specific means.</p>
<h2>Verifying MySQL Installation</h2>
<p>After MySQL, has been successfully installed, the base tables have been initialized and the server has been started: you can verify that everything is working as it should be via some simple tests.</p>
<h3>Use the mysqladmin Utility to Obtain Server Status</h3>
<p>Use <b>mysqladmin</b> binary to check the server version. This binary would be available in /usr/bin on linux and in C:\mysql\bin on windows.</p>
<pre class="result notranslate">
[root@host]# mysqladmin --version
</pre>
<p>It will produce the following result on Linux. It may vary depending on your installation &minus;</p>
<pre class="result notranslate">
mysqladmin  Ver 8.23 Distrib 5.0.9-0, for redhat-linux-gnu on i386
</pre>
<p>If you do not get such a message, then there may be some problem in your installation and you would need some help to fix it.</p>
<h3>Execute simple SQL commands using the MySQL Client</h3>
<p>You can connect to your MySQL server through the MySQL client and by using the <b>mysql</b> command. At this moment, you do not need to give any password as by default it will be set as blank.</p>
<p>You can just use following command &minus;</p>
<pre class="result notranslate">
[root@host]# mysql
</pre>
<p>It should be rewarded with a mysql&gt; prompt. Now, you are connected to the MySQL server and you can execute all the SQL commands at the mysql&gt; prompt as follows &minus;</p>
<pre class="prettyprint notranslate">
mysql&gt; SHOW DATABASES;
+----------+
| Database |
+----------+
|   mysql  | 
|   test   |  
+----------+
2 rows in set (0.13 sec)
</pre>
<h2>Post-installation Steps</h2>
<p>MySQL ships with a blank password for the root MySQL user. As soon as you have successfully installed the database and the client, you need to set a root password as given in the following code block &minus;</p>
<pre class="result notranslate">
[root@host]# mysqladmin -u root password "new_password";
</pre>
<p>Now to make a connection to your MySQL server, you would have to use the following command &minus;</p>
<pre class="result notranslate">
[root@host]# mysql -u root -p
Enter password:*******
</pre>
<p>UNIX users will also want to put your MySQL directory in your PATH, so you won't have to keep typing out the full path everytime you want to use the command-line client.</p>
<p>For bash, it would be something like &minus;</p>
<pre class="result notranslate">
export PATH = $PATH:/usr/bin:/usr/sbin
</pre>
<h2>Running MySQL at Boot Time</h2>
<p>If you want to run the MySQL server at boot time, then make sure you have the following entry in the /etc/rc.local file.</p>
<pre class="result notranslate">
/etc/init.d/mysqld start
</pre>
<p>Also,you should have the mysqld binary in the /etc/init.d/ directory.</p>
<h1>MySQL - Administration</h1>
<h2>Running and Shutting down MySQL Server</h2>
<p>First check if your MySQL server is running or not. You can use the following command to check it &minus;</p>
<pre class="result notranslate">
ps -ef | grep mysqld
</pre>
<p>If your MySql is running, then you will see <b>mysqld</b> process listed out in your result. If server is not running, then you can start it by using the following command &minus;</p>
<pre class="result notranslate">
root@host# cd /usr/bin
./safe_mysqld &amp;
</pre>
<p>Now, if you want to shut down an already running MySQL server, then you can do it by using the following command &minus;</p>
<pre class="result notranslate">
root@host# cd /usr/bin
./mysqladmin -u root -p shutdown
Enter password: ******
</pre>
<h2>Setting Up a MySQL User Account</h2>
<p>For adding a new user to MySQL, you just need to add a new entry to the <b>user</b> table in the database <b>mysql</b>. </p>
<p>The following program is an example of adding a new user <b>guest</b> with SELECT, INSERT and UPDATE privileges with the password <b>guest123;</b> the SQL query is &minus;</p>
<pre class="prettyprint notranslate">
root@host# mysql -u root -p
Enter password:*******
mysql&gt; use mysql;
Database changed

mysql&gt; INSERT INTO user 
          (host, user, password, 
           select_priv, insert_priv, update_priv) 
           VALUES ('localhost', 'guest', 
           PASSWORD('guest123'), 'Y', 'Y', 'Y');
Query OK, 1 row affected (0.20 sec)

mysql&gt; FLUSH PRIVILEGES;
Query OK, 1 row affected (0.01 sec)

mysql&gt; SELECT host, user, password FROM user WHERE user = 'guest';
+-----------+---------+------------------+
|    host   |   user  |     password     |    
+-----------+---------+------------------+
| localhost |  guest  | 6f8c114b58f2ce9e |
+-----------+---------+------------------+
1 row in set (0.00 sec)
</pre>
<p>When adding a new user, remember to encrypt the new password using PASSWORD() function provided by MySQL. As you can see in the above example, the password mypass is encrypted to 6f8c114b58f2ce9e.</p>
<p>Notice the FLUSH PRIVILEGES statement. This tells the server to reload the grant tables. If you don't use it, then you won't be able to connect to MySQL using the new user account at least until the server is rebooted.</p>
<p>You can also specify other privileges to a new user by setting the values of following columns in user table to 'Y' when executing the INSERT query or you can update them later using UPDATE query.</p>
<ul class="list">
<li>Select_priv</li>
<li>Insert_priv</li>
<li>Update_priv</li>
<li>Delete_priv</li>
<li>Create_priv</li>
<li>Drop_priv</li>
<li>Reload_priv</li>
<li>Shutdown_priv</li>
<li>Process_priv</li>
<li>File_priv</li>
<li>Grant_priv</li>
<li>References_priv</li>
<li>Index_priv</li>
<li>Alter_priv</li>
</ul>
<p>Another way of adding user account is by using GRANT SQL command. The following example will add user <b>zara</b> with password <b>zara123</b> for a particular database, which is named as <b>TUTORIALS</b>.</p>
<pre class="prettyprint notranslate">
root@host# mysql -u root -p password;
Enter password:*******
mysql&gt; use mysql;
Database changed

mysql&gt; GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP
    -&gt; ON TUTORIALS.*
    -&gt; TO 'zara'@'localhost'
    -&gt; IDENTIFIED BY 'zara123';
</pre>
<p>This will also create an entry in the MySQL database table called as <b>user</b>.</p>
<p><b>NOTE</b> &minus; MySQL does not terminate a command until you give a semi colon (;) at the end of the SQL command.</p>
<h2>The /etc/my.cnf File Configuration</h2>
<p>In most of the cases, you should not touch this file. By default, it will have the following entries &minus;</p>
<pre class="prettyprint notranslate">
[mysqld]
datadir = /var/lib/mysql
socket = /var/lib/mysql/mysql.sock

[mysql.server]
user = mysql
basedir = /var/lib

[safe_mysqld]
err-log = /var/log/mysqld.log
pid-file = /var/run/mysqld/mysqld.pid
</pre>
<p>Here, you can specify a different directory for the error log, otherwise  you should not change any entry in this table.</p>
<h2>Administrative MySQL Command</h2>
<p>Here is the list of the important MySQL commands, which you will use time to time to work with MySQL database &minus;</p>
<ul class="list">
<li><p><b>USE Databasename</b> &minus; This will be used to select a database in the MySQL workarea.</p></li>
<li><p><b>SHOW DATABASES</b> &minus; Lists out the databases that are accessible by the MySQL DBMS.</p></li>
<li><p><b>SHOW TABLES</b> &minus; Shows the tables in the database once a database has been selected with the use command.</p></li>
<li><p><b>SHOW COLUMNS FROM <i>tablename:</i></b> Shows the attributes, types of attributes, key information, whether NULL is permitted, defaults, and other information for a table.</p></li>
<li><p><b>SHOW INDEX FROM tablename</b> &minus; Presents the details of all indexes on the table, including the PRIMARY KEY.</p></li>
<li><p><b>SHOW TABLE STATUS LIKE tablename\G</b> &minus; Reports details of the MySQL DBMS performance and statistics.</p></li>
</ul>
<p>In the next chapter, we will discuss regarding how PHP Syntax is used in MySQL.</p>
<h1>MySQL - PHP Syntax</h1>
<p>MySQL works very well in combination of various programming languages like PERL, C, C++, JAVA and PHP. Out of these languages, PHP is the most popular one because of its web application development capabilities.</p>
<p>This tutorial focuses heavily on using MySQL in a PHP environment. If you are interested in MySQL with PERL, then you can consider reading the <a href="../perl/perl_database.html" target="_blank">PERL</a> Tutorial.</p>
<p>PHP provides various functions to access the MySQL database and to manipulate the data records inside the MySQL database. You would require to call the PHP functions in the same way you call any other PHP function.</p>
<p>The PHP functions for use with MySQL have the following general format &minus;</p>
<pre class="result notranslate">
mysql_<i>function</i>(value,value,...);
</pre>
<p>The second part of the function name is specific to the function, usually a word that describes what the function does. The following are two of the functions, which we will use in our tutorial &minus;</p>
<pre class="result notranslate">
mysqli_connect($connect);
mysqli_query($connect,"SQL statement");
</pre>
<p>The following example shows a generic syntax of PHP to call any MySQL function.</p>
<pre class="prettyprint notranslate">
&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;PHP with MySQL&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;?php
         $retval = mysql_<i>function</i>(value, [value,...]);
         if( !$retval ) {
            die ( "Error: a related error message" );
         }
         // Otherwise MySQL  or PHP Statements
      ?&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Starting from the next chapter, we will see all the important MySQL functionality along with PHP.</p> 
<h1>MySQL - Connection</h1>
<h2>MySQL Connection Using MySQL Binary</h2>
<p>You can establish the MySQL database using the <b>mysql</b> binary at the command prompt.</p>
<h3>Example</h3>
<p>Here is a simple example to connect to the MySQL server from the command prompt &minus;</p>
<pre class="prettyprint notranslate">
[root@host]# mysql -u root -p
Enter password:******
</pre>
<p>This will give you the mysql&gt; command prompt where you will be able to execute any SQL command. Following is the result of above command &minus;</p>
<p>The following code block shows the result of above code &minus;</p>
<pre class="result notranslate">
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 2854760 to server version: 5.0.9

Type 'help;' or '\h' for help. Type '\c' to clear the buffer.
</pre>
<p>In the above example, we have used <b>root</b> as a user but you can use any other user as well. Any user will be able to perform all the SQL operations, which are allowed to that user.</p>
<p>You can disconnect from the MySQL database any time using the <b>exit</b> command at mysql&gt; prompt.</p>
<pre class="result notranslate">
mysql&gt; exit
Bye
</pre>
<h2>MySQL Connection Using PHP Script</h2>
<p>PHP provides <b>mysql_connect()</b> function to open a database connection. This function takes five parameters and returns a MySQL link identifier on success or FALSE on failure.</p>
<h3>Syntax</h3>
<pre class="result notranslate">
connection mysql_connect(server,user,passwd,new_link,client_flag);
</pre>
<p></p>
<table class="table table-bordered"> 
<tr>
<th style="width:11%;">S. No.</th>
<th style="text-align:center;">Parameter &amp; Description</th>
</tr>  
<tr>
<td style="text-align:center;vertical-align:middle;">1</td>
<td>
<p><b>server</b></p>
<p>Optional &minus; The host name running the database server. If not specified, then the default value will be <b>localhost:3306</b>.</p>
</td>
</tr>
<tr>
<td style="text-align:center;vertical-align:middle;">2</td>
<td>
<p><b>user</b></p>
<p>Optional &minus; The username accessing the database. If not specified, then the default will be the name of the user that owns the server process.</p>
</td>
</tr>
<tr>
<td style="text-align:center;vertical-align:middle;">3</td>
<td>
<p><b>passwd</b></p>
<p>Optional &minus; The password of the user accessing the database. If not specified, then the default will be an empty password.</p>
</td>
</tr>
<tr>
<td style="text-align:center;vertical-align:middle;">4</td>
<td>
<p><b>new_link</b></p>
<p>Optional &minus; If a second call is made to mysql_connect() with the same arguments, no new connection will be established; instead, the identifier of the already opened connection will be returned.</p>
</td>
</tr>
<tr>
<td style="text-align:center;vertical-align:middle;">5</td>
<td>
<p><b>client_flags</b></p>
<p>Optional &minus; A combination of the following constants &minus;</p>
<ul class="list">
<li><p>MYSQL_CLIENT_SSL &minus; Use SSL encryption.</p></li>
<li><p>MYSQL_CLIENT_COMPRESS &minus; Use compression protocol.</p></li>
<li><p>MYSQL_CLIENT_IGNORE_SPACE &minus; Allow space after function names.</p></li>
<li><p>MYSQL_CLIENT_INTERACTIVE &minus; Allow interactive timeout seconds of inactivity before closing the connection.</p></li>
</ul>
</td>
</tr>
</table>
<p>You can disconnect from the MySQL database anytime using another PHP function <b>mysql_close()</b>. This function takes a single parameter, which is a connection returned by the <b>mysql_connect()</b> function.</p>
<h3>Syntax</h3>
<pre class="prettyprint notranslate">
bool mysql_close ( resource $link_identifier );
</pre>
<p>If a resource is not specified, then the last opened database is closed. This function returns true if it closes the connection successfully otherwise it returns false.</p>
<h3>Example</h3>
<p>Try the following example to connect to a MySQL server &minus;</p>
<pre class="prettyprint notranslate">
&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;Connecting MySQL Server&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;?php
         $dbhost = 'localhost:3306';
         $dbuser = 'guest';
         $dbpass = 'guest123';
         $conn = mysql_connect($dbhost, $dbuser, $dbpass);
         if(! $conn ) {
            die('Could not connect: ' . mysql_error());
         }
         echo 'Connected successfully';
         mysql_close($conn);
      ?&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<h1>MySQL - Create Database</h1>
<h2>Create Database Using mysqladmin</h2>
<p>You would need special privileges  to create or to delete a MySQL database. So assuming you have access to the root user, you can create any database using the mysql <b>mysqladmin</b> binary.</p>
<h3>Example</h3>
<p>Here is a simple example to create a database called <b>TUTORIALS</b> &minus;</p>
<pre class="result notranslate">
[root@host]# mysqladmin -u root -p create TUTORIALS
Enter password:******
</pre>
<p>This will create a MySQL database called TUTORIALS.</p>
<h2>Create a Database using PHP Script</h2>
<p>PHP uses <b>mysql_query</b> function to create or delete a MySQL database. This function takes two parameters and returns TRUE on success or FALSE on failure.</p>
<h3>Syntax</h3>
<pre class="result notranslate">
bool mysql_query( sql, connection );
</pre>
<p></p>
<table class="table table-bordered">
<tr>
<th style="width:11%;">S. No.</th>
<th style="text-align:center;">Parameter &amp; Description</th>
</tr>
<tr>
<td>sql</td>
<td>Required - SQL query to create  or delete a MySQL database</td>
</tr>
<tr>
<td>connection</td>
<td>Optional - if not specified, then the last opened connection by mysql_connect will be used.</td>
</tr>
</table>
<h3>Example</h3>
<p>The following example to create a database &minus;</p>
<pre class="prettyprint notranslate">
&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;Creating MySQL Database&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;?php
         $dbhost = 'localhost:3036';
         $dbuser = 'root';
         $dbpass = 'rootpassword';
         $conn = mysql_connect($dbhost, $dbuser, $dbpass);
         if(! $conn ) {
            die('Could not connect: ' . mysql_error());
         }
         echo 'Connected successfully&lt;br /&gt;';
         $sql = 'CREATE DATABASE TUTORIALS';
         $retval = mysql_query( $sql, $conn );
         if(! $retval ) {
            die('Could not create database: ' . mysql_error());
         }
         echo "Database TUTORIALS created successfully\n";
         mysql_close($conn);
      ?&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<h1>Drop MySQL Database</h1>
<h2>Drop a Database using mysqladmin</h2>
<p>You would need special privileges  to create or to delete a MySQL database. So, assuming you have access to the root user, you can create any database using the mysql <b>mysqladmin</b> binary.</p>
<p>Be careful while deleting any database because you will lose your all the data available in your database.</p>
<p>Here is an example to delete a database(TUTORIALS) created in the previous chapter &minus;</p>
<pre class="result notranslate">
[root@host]# mysqladmin -u root -p drop TUTORIALS
Enter password:******
</pre>
<p>This will give you a warning and it will confirm if you really want to delete this database or not.</p>
<pre class="result notranslate">
Dropping the database is potentially a very bad thing to do.
Any data stored in the database will be destroyed.

Do you really want to drop the 'TUTORIALS' database [y/N] y
Database "TUTORIALS" dropped
</pre>
<h2>Drop Database using PHP Script</h2>
<p>PHP uses <b>mysql_query</b> function to create or delete a MySQL database. This function takes two parameters and returns TRUE on success or FALSE on failure.</p>
<h3>Syntax</h3>
<pre class="result notranslate">
bool mysql_query( sql, connection );
</pre>
<br />
<table class="table table-bordered">
<tr>
<th style="text-align:center;">Parameter</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td>sql</td>
<td>Required &minus; SQL query to create  or delete a MySQL database</td>
</tr>
<tr>
<td>connection</td>
<td>Optional &minus; if not specified, then the last opened connection by mysql_connect will be used.</td>
</tr>
</table>
<h3>Example</h3>
<p>Try the following example to delete a database &minus;</p>
<pre class="prettyprint notranslate">
&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;Deleting MySQL Database&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;?php
         $dbhost = 'localhost:3036';
         $dbuser = 'root';
         $dbpass = 'rootpassword';
         $conn = mysql_connect($dbhost, $dbuser, $dbpass);
         if(! $conn ) {
            die('Could not connect: ' . mysql_error());
         }
         echo 'Connected successfully&lt;br /&gt;';
         $sql = 'DROP DATABASE TUTORIALS';
         $retval = mysql_query( $sql, $conn );
         if(! $retval ) {
            die('Could not delete database: ' . mysql_error());
         }
         echo "Database TUTORIALS deleted successfully\n";
         mysql_close($conn);
      ?&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p><b>WARNING</b> &minus; While deleting a database using the PHP script, it does not prompt you for any confirmation. So be careful while deleting a MySQL database.</p>
<h1>Selecting MySQL Database</h1>
<p>Once you get connected with the MySQL server, it is required to select a database to work with. This is because there might be more than one database available with the MySQL Server.</p>
<h2>Selecting MySQL Database from the Command Prompt</h2>
<p>It is very simple to select a database from the mysql&gt; prompt. You can use the SQL command <b>use</b> to select a database.</p>
<h3>Example</h3>
<p>Here is an example to select a database called <b>TUTORIALS</b> &minus;</p>
<pre class="result notranslate">
[root@host]# mysql -u root -p
Enter password:******
mysql&gt; use TUTORIALS;
Database changed
mysql&gt; 
</pre>
<p>Now, you have selected the TUTORIALS database and all the subsequent operations will be performed on the TUTORIALS database.</p>
<p><b>NOTE</b> &minus; All the database names, table names, table fields name are case sensitive. So you would have to use the proper names while giving any SQL command.</p>
<h2>Selecting a MySQL Database Using PHP Script</h2>
<p>PHP provides function <b>mysql_select_db</b> to select a database. It returns TRUE on success or FALSE on failure.</p>
<h3>Syntax</h3>
<pre class="result notranslate">
bool mysql_select_db( db_name, connection );
</pre>
<br />
<table class="table table-bordered"> 
<tr>
<th style="text-align:center;">S. No.</th>
<th style="text-align:center;">Parameter &amp; Description</th>
</tr>  
<tr>
<td>db_name</td>
<td>Required &minus; MySQL Database name to be selected</td>
</tr>
<tr>
<td>connection</td>
<td>Optional &minus; if not specified, then the last opened connection by mysql_connect will be used.</td>
</tr>
</table>
<h3>Example</h3>
<p>Here is an example showing you how to select a database.</p>
<pre class="prettyprint notranslate">
&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;Selecting MySQL Database&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;?php
         $dbhost = 'localhost:3036';
         $dbuser = 'guest';
         $dbpass = 'guest123';
         $conn = mysql_connect($dbhost, $dbuser, $dbpass);
         if(! $conn ) {
            die('Could not connect: ' . mysql_error());
         }
         echo 'Connected successfully';
         mysql_select_db( 'TUTORIALS' );
         mysql_close($conn);
      ?&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<h1>MySQL - Data Types</h1>
<p>Properly defining the fields in a table is important to the overall optimization of your database. You should use only the type and size of field you really need to use. For example, do not define a field 10 characters wide, if you know you are only going to use 2 characters. These type of fields (or columns) are also referred to as data types, after the <b>type of data</b> you will be storing in those fields.</p>
<p>MySQL uses many different data types broken into three categories &minus;</p>
<ul class="list">
<li>Numeric</li>
<li>Date and Time</li>
<li>String Types.</li>
</ul>
<p>Let us now discuss them in detail.</p>
<h2>Numeric Data Types</h2>
<p>MySQL uses all the standard ANSI SQL numeric data types, so if you're coming to MySQL from a different database system, these definitions will look familiar to you. The following list shows the common numeric data types and their descriptions &minus;</p>
<ul class="list">
<li><p><b>INT</b> &minus; A normal-sized integer that can be signed or unsigned. If signed, the allowable range is from -2147483648 to 2147483647. If unsigned, the allowable range is from 0 to 4294967295. You can specify a width of up to 11 digits.</p></li>
<li><p><b>TINYINT</b> &minus; A very small integer that can be signed or unsigned. If signed, the allowable range is from -128 to 127. If unsigned, the allowable range is from 0 to 255. You can specify a width of up to 4 digits.</p></li>
<li><p><b>SMALLINT</b> &minus; A small integer that can be signed or unsigned. If signed, the allowable range is from -32768 to 32767. If unsigned, the allowable range is from 0 to 65535. You can specify a width of up to 5 digits.</p></li>
<li><p><b>MEDIUMINT</b> &minus; A medium-sized integer that can be signed or unsigned. If signed, the allowable range is from -8388608 to 8388607. If unsigned, the allowable range is from 0 to 16777215. You can specify a width of up to 9 digits.</p></li>
<li><p><b>BIGINT</b> &minus; A large integer that can be signed or unsigned. If signed, the allowable range is from -9223372036854775808 to 9223372036854775807. If unsigned, the allowable range is from 0 to 18446744073709551615. You can specify a width of up to 20 digits.</p></li>
<li><p><b>FLOAT(M,D)</b> &minus; A floating-point number that cannot be unsigned. You can define the display length (M) and the number of decimals (D). This is not required and will default to 10,2, where 2 is the number of decimals and 10 is the total number of digits (including decimals). Decimal precision can go to 24 places for a FLOAT.</p></li>
<li><p><b>DOUBLE(M,D)</b> &minus; A double precision floating-point number that cannot be unsigned. You can define the display length (M) and the number of decimals (D). This is not required and will default to 16,4, where 4 is the number of decimals. Decimal precision can go to 53 places for a DOUBLE. REAL is a synonym for DOUBLE.</p></li>
<li><p><b>DECIMAL(M,D)</b> &minus; An unpacked floating-point number that cannot be unsigned. In the unpacked decimals, each decimal corresponds to one byte. Defining the display length (M) and the number of decimals (D) is required. NUMERIC is a synonym
for DECIMAL.</p></li>
</ul>
<h2>Date and Time Types</h2>
<p>The MySQL date and time datatypes are as follows &minus;</p>
<ul class="list">
<li><p><b>DATE</b> &minus; A date in YYYY-MM-DD format, between 1000-01-01 and 9999-12-31. For example, December 30<sup>th</sup>, 1973 would be stored as 1973-12-30.</p></li>
<li><p><b>DATETIME</b> &minus; A date and time combination in YYYY-MM-DD HH:MM:SS format, between 1000-01-01 00:00:00 and 9999-12-31 23:59:59. For example, 3:30 in the afternoon on December 30<sup>th</sup>, 1973 would be stored as 1973-12-30 15:30:00.</p></li>
<li><p><b>TIMESTAMP</b> &minus; A timestamp between midnight, January 1<sup>st</sup>, 1970 and sometime in 2037. This looks like the previous DATETIME format, only without the hyphens between numbers; 3:30 in the afternoon on December 30<sup>th</sup>, 1973 would be stored as 19731230153000 ( YYYYMMDDHHMMSS ).</p></li>
<li><p><b>TIME</b> &minus; Stores the time in a HH:MM:SS format.</p></li>
<li><p><b>YEAR(M)</b> &minus; Stores a year in a 2-digit or a 4-digit format. If the length is specified as 2 (for example YEAR(2)), YEAR can be between 1970 to 2069 (70 to 69). If the length is specified as 4, then YEAR can be 1901 to 2155. The default length is 4.</p></li>
</ul>
<h2>String Types</h2>
<p>Although the numeric and date types are fun, most data you'll store will be in a string format. This list describes the common string datatypes in MySQL.</p>
<ul class="list">
<li><p><b>CHAR(M)</b> &minus; A fixed-length string between 1 and 255 characters in length (for example CHAR(5)), right-padded with spaces to the specified length when stored. Defining a length is not required, but the default is 1.</p></li>
<li><p><b>VARCHAR(M)</b> &minus; A variable-length string between 1 and 255 characters in length. For example, VARCHAR(25). You must define a length when creating a VARCHAR field.</p></li>
<li><p><b>BLOB or TEXT</b> &minus; A field with a maximum length of 65535 characters. BLOBs are "Binary Large Objects" and are used to store large amounts of binary data, such as images or other types of files. Fields defined as TEXT also hold large amounts of data. The difference between the two is that the sorts and comparisons on the stored data are <b>case sensitive</b> on BLOBs and are <b>not case sensitive</b> in TEXT fields. You do not specify a length with BLOB or TEXT.</p></li>
<li><p><b>TINYBLOB or TINYTEXT</b> &minus; A BLOB or TEXT column with a maximum length of 255 characters. You do not specify a length with TINYBLOB or TINYTEXT.</p></li>
<li><p><b>MEDIUMBLOB or MEDIUMTEXT</b> &minus; A BLOB or TEXT column with a maximum length of 16777215 characters. You do not
specify a length with MEDIUMBLOB or MEDIUMTEXT.</p></li>
<li><p><b>LONGBLOB or LONGTEXT</b> &minus; A BLOB or TEXT column with a maximum length of 4294967295 characters. You do not specify a length with LONGBLOB or LONGTEXT.</p></li>
<li><p><b>ENUM</b> &minus; An enumeration, which is a fancy term for list. When defining an ENUM, you are creating a list of items from which the value must be selected (or it can be NULL). For example, if you wanted your field to contain "A" or "B" or "C", you would define your ENUM as ENUM ('A', 'B', 'C') and only those values (or NULL) could ever populate that field.</p></li>
</ul>
<p>In the next chapter, we will discuss how to create tables in MySQL.</p>
<h1>Create MySQL Tables</h1>
<p>To begin with, the table creation command requires the following details &minus;</p>
<ul class="list">
<li>Name of the table</li>
<li>Name of the fields</li>
<li>Definitions for each field</li>
</ul>
<h3>Syntax</h3>
<p>Here is a generic SQL syntax to create a MySQL table &minus;</p>
<pre class="result notranslate">
CREATE TABLE table_name (column_name column_type);
</pre>
<p>Now, we will create the following table in the <b>TUTORIALS</b> database.</p>
<pre class="prettyprint notranslate">
tutorials_tbl(
   tutorial_id INT NOT NULL AUTO_INCREMENT,
   tutorial_title VARCHAR(100) NOT NULL,
   tutorial_author VARCHAR(40) NOT NULL,
   submission_date DATE,
   PRIMARY KEY ( tutorial_id )
);
</pre>
<p>Here, a few items need explanation &minus;</p>
<ul class="list">
<li><p>Field Attribute <b>NOT NULL</b> is being used because we do not want this field to be NULL. So, if a user will try to create a record with a NULL value, then MySQL will raise an error.</p></li>
<li><p>Field Attribute <b>AUTO_INCREMENT</b> tells MySQL to go ahead and add the next available number to the id field.</p></li>
<li><p>Keyword <b>PRIMARY KEY</b> is used to define a column as a primary key. You can use multiple columns separated by a comma to define a primary key.</p></li>
</ul>
<h2>Creating Tables from Command Prompt</h2>
<p>It is easy to create a MySQL table from the mysql&gt; prompt. You will use the SQL command <b>CREATE TABLE</b> to create a table.</p>
<h3>Example</h3>
<p>Here is an example, which will create <b>tutorials_tbl</b> &minus;</p>
<pre class="prettyprint notranslate">
root@host# mysql -u root -p
Enter password:*******
mysql&gt; use TUTORIALS;
Database changed
mysql&gt; CREATE TABLE tutorials_tbl(
   -&gt; tutorial_id INT NOT NULL AUTO_INCREMENT,
   -&gt; tutorial_title VARCHAR(100) NOT NULL,
   -&gt; tutorial_author VARCHAR(40) NOT NULL,
   -&gt; submission_date DATE,
   -&gt; PRIMARY KEY ( tutorial_id )
   -&gt; );
Query OK, 0 rows affected (0.16 sec)
mysql&gt;
</pre>
<p><b>NOTE</b> &minus; MySQL does not terminate a command until you give a semicolon (;) at the end of SQL command.</p>
<h2>Creating Tables Using PHP Script</h2>
<p>To create new table in any existing database you would need to use PHP function <b>mysql_query()</b>. You will pass its second argument with a proper SQL command to create a table.</p>
<h3>Example</h3>
<p>The following program is an example to create a table using PHP script &minus;</p>
<pre class="prettyprint notranslate">
&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;Creating MySQL Tables&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;?php
         $dbhost = 'localhost:3036';
         $dbuser = 'root';
         $dbpass = 'rootpassword';
         $conn = mysql_connect($dbhost, $dbuser, $dbpass);
         if(! $conn ) {
            die('Could not connect: ' . mysql_error());
         }
         echo 'Connected successfully&lt;br /&gt;';
         $sql = "CREATE TABLE tutorials_tbl( ".
            "tutorial_id INT NOT NULL AUTO_INCREMENT, ".
            "tutorial_title VARCHAR(100) NOT NULL, ".
            "tutorial_author VARCHAR(40) NOT NULL, ".
            "submission_date DATE, ".
            "PRIMARY KEY ( tutorial_id )); ";
         mysql_select_db( 'TUTORIALS' );
         $retval = mysql_query( $sql, $conn );
         if(! $retval ) {
            die('Could not create table: ' . mysql_error());
         }
         echo "Table created successfully\n";
         mysql_close($conn);
      ?&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<h1>Drop MySQL Tables</h1>
<p>It is very easy to drop an existing MySQL table, but you need to be very careful while deleting any existing table because the data lost will not be recovered after deleting a table.</p>
<h3>Syntax</h3>
<p>Here is a generic SQL syntax to drop a MySQL table &minus;</p>
<pre class="result notranslate">
DROP TABLE table_name ;
</pre>
<h2>Dropping Tables from the Command Prompt</h2>
<p>To drop tables from the command prompt, we need to execute the DROP TABLE SQL command at the mysql&gt; prompt. </p>
<h3>Example</h3>
<p>The following program is an example which deletes the <b>tutorials_tbl</b> &minus;</p>
<pre class="prettyprint notranslate">
root@host# mysql -u root -p
Enter password:*******
mysql&gt; use TUTORIALS;
Database changed
mysql&gt; DROP TABLE tutorials_tbl
Query OK, 0 rows affected (0.8 sec)
mysql&gt;
</pre>
<h2>Dropping Tables Using PHP Script</h2>
<p>To drop an existing table in any database, you would need to use the PHP function <b>mysql_query()</b>. You will pass its second argument with a proper SQL command to drop a table.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate">
&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;Creating MySQL Tables&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;?php
         $dbhost = 'localhost:3036';
         $dbuser = 'root';
         $dbpass = 'rootpassword';
         $conn = mysql_connect($dbhost, $dbuser, $dbpass);
         if(! $conn ) {
            die('Could not connect: ' . mysql_error());
         }
         echo 'Connected successfully&lt;br /&gt;';
         $sql = "DROP TABLE tutorials_tbl";
         mysql_select_db( 'TUTORIALS' );
         $retval = mysql_query( $sql, $conn );
         if(! $retval ) {
            die('Could not delete table: ' . mysql_error());
         }
         echo "Table deleted successfully\n";
         mysql_close($conn);
      ?&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<h1>MySQL - Insert Query</h1>
<p>To insert data into a MySQL table, you would need to use the SQL <b>INSERT INTO</b> command. You can insert data into the MySQL table by using the mysql&gt; prompt or by using any script like PHP.</p>
<h3>Syntax</h3>
<p>Here is a generic SQL syntax  of INSERT INTO command to insert data into the MySQL table &minus;</p>
<pre class="prettyprint notranslate">
INSERT INTO table_name ( field1, field2,...fieldN )
   VALUES
   ( value1, value2,...valueN );
</pre>
<p>To insert string data types, it is required to keep all the values into double or single quotes. For example <b>"value"</b>.</p>
<h2>Inserting Data from the Command Prompt</h2>
<p>To insert data from the command prompt, we will use SQL INSERT INTO command to insert data into MySQL table tutorials_tbl.</p>
<h3>Example</h3>
<p>The following example will create 3 records into <b>tutorials_tbl</b> table &minus;</p>
<pre class="prettyprint notranslate">
root@host# mysql -u root -p password;
Enter password:*******
mysql&gt; use TUTORIALS;
Database changed

mysql&gt; INSERT INTO tutorials_tbl 
   -&gt;(tutorial_title, tutorial_author, submission_date)
   -&gt;VALUES
   -&gt;("Learn PHP", "John Poul", NOW());
Query OK, 1 row affected (0.01 sec)

mysql&gt; INSERT INTO tutorials_tbl
   -&gt;(tutorial_title, tutorial_author, submission_date)
   -&gt;VALUES
   -&gt;("Learn MySQL", "Abdul S", NOW());
Query OK, 1 row affected (0.01 sec)

mysql&gt; INSERT INTO tutorials_tbl
   -&gt;(tutorial_title, tutorial_author, submission_date)
   -&gt;VALUES
   -&gt;("JAVA Tutorial", "Sanjay", '2007-05-06');
Query OK, 1 row affected (0.01 sec)
mysql&gt;
</pre>
<p><b>NOTE</b> &minus; Please note that all the arrow signs (-&gt;) are not a part of the SQL command. They are indicating a new line and they are created automatically by the MySQL prompt while pressing the enter key without giving a semicolon at the end of each line of the command.</p>
<p>In the above example, we have not provided a tutorial_id because at the time of table creation, we had given AUTO_INCREMENT option for this field. So MySQL takes care of inserting these IDs automatically. Here, <b>NOW()</b> is a MySQL function, which returns the current date and time.</p>
<h2>Inserting Data Using a PHP Script</h2>
<p>You can use the same SQL INSERT INTO command into the PHP function <b>mysql_query()</b> to insert data into a MySQL table.</p>
<h3>Example</h3>
<p>This example will take three parameters from the user and will insert them into the MySQL table &minus;</p>
<pre class="prettyprint notranslate">
&lt;html&gt;

   &lt;head&gt;
      &lt;title&gt;Add New Record in MySQL Database&lt;/title&gt;
   &lt;/head&gt;

   &lt;body&gt;
      &lt;?php
         if(isset($_POST['add'])) {
            $dbhost = 'localhost:3036';
            $dbuser = 'root';
            $dbpass = 'rootpassword';
            $conn = mysql_connect($dbhost, $dbuser, $dbpass);
         
            if(! $conn ) {
               die('Could not connect: ' . mysql_error());
            }

            if(! get_magic_quotes_gpc() ) {
               $tutorial_title = addslashes ($_POST['tutorial_title']);
               $tutorial_author = addslashes ($_POST['tutorial_author']);
            } else {
               $tutorial_title = $_POST['tutorial_title'];
               $tutorial_author = $_POST['tutorial_author'];
            }

            $submission_date = $_POST['submission_date'];
   
            $sql = "INSERT INTO tutorials_tbl ".
               "(tutorial_title,tutorial_author, submission_date) "."VALUES ".
               "('$tutorial_title','$tutorial_author','$submission_date')";
               mysql_select_db('TUTORIALS');
            $retval = mysql_query( $sql, $conn );
         
            if(! $retval ) {
               die('Could not enter data: ' . mysql_error());
            }
         
            echo "Entered data successfully\n";
            mysql_close($conn);
         } else {
      ?&gt;
   
      &lt;form method = "post" action = "&lt;?php $_PHP_SELF ?&gt;"&gt;
         &lt;table width = "600" border = "0" cellspacing = "1" cellpadding = "2"&gt;
            &lt;tr&gt;
               &lt;td width = "250"&gt;Tutorial Title&lt;/td&gt;
               &lt;td&gt;
                  &lt;input name = "tutorial_title" type = "text" id = "tutorial_title"&gt;
               &lt;/td&gt;
            &lt;/tr&gt;
         
            &lt;tr&gt;
               &lt;td width = "250"&gt;Tutorial Author&lt;/td&gt;
               &lt;td&gt;
                  &lt;input name = "tutorial_author" type = "text" id = "tutorial_author"&gt;
               &lt;/td&gt;
            &lt;/tr&gt;
         
            &lt;tr&gt;
               &lt;td width = "250"&gt;Submission Date [   yyyy-mm-dd ]&lt;/td&gt;
               &lt;td&gt;
                  &lt;input name = "submission_date" type = "text" id = "submission_date"&gt;
               &lt;/td&gt;
            &lt;/tr&gt;
      
            &lt;tr&gt;
               &lt;td width = "250"&gt;&nbsp;&lt;/td&gt;
               &lt;td&gt;&nbsp;&lt;/td&gt;
            &lt;/tr&gt;
         
            &lt;tr&gt;
               &lt;td width = "250"&gt;&nbsp;&lt;/td&gt;
               &lt;td&gt;
                  &lt;input name = "add" type = "submit" id = "add"  value = "Add Tutorial"&gt;
               &lt;/td&gt;
            &lt;/tr&gt;
         &lt;/table&gt;
      &lt;/form&gt;
   &lt;?php
      }
   ?&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>While doing a data insert, it is best to use the function <b>get_magic_quotes_gpc()</b> to check if the current configuration for magic quote is set or not. If this function returns false, then use the function <b>addslashes()</b> to add slashes before the quotes.</p>
<p>You can put many validations around to check if the entered data is correct or not and can take the appropriate action.</p>
<h1>MySQL - Select Query</h1>
<p>The SQL <b>SELECT</b> command is used to fetch data from the MySQL database. You can  use this command at mysql&gt; prompt as well as in any script like PHP.</p>
<h3>Syntax</h3>
<p>Here is generic SQL syntax  of SELECT command to fetch data from the MySQL table &minus;</p>
<pre class="prettyprint notranslate">
SELECT field1, field2,...fieldN 
FROM table_name1, table_name2...
[WHERE Clause]
[OFFSET M ][LIMIT N]
</pre>
<ul class="list">
<li><p>You can use one or more tables separated by comma to include various conditions using a WHERE clause, but the WHERE clause is an optional part of the SELECT command.</p></li>
<li><p>You can fetch one or more fields in a single SELECT command.</p></li>
<li><p>You can specify star (*) in place of fields. In this case, SELECT will return all the fields.</p></li>
<li><p>You can specify any condition using the WHERE clause.</p></li>
<li><p>You can specify an offset using <b>OFFSET</b> from where SELECT will start returning records. By default, the offset starts at zero.</p></li>
<li><p>You can limit the number of returns using the <b>LIMIT</b> attribute.</p></li>
</ul>
<h2>Fetching Data from a Command Prompt</h2>
<p>This will use SQL SELECT command to fetch data from the MySQL table <b>tutorials_tbl</b>.</p>
<h3>Example</h3>
<p>The following example will  return all the records from the <b>tutorials_tbl</b> table &minus;</p>
<pre class="prettyprint notranslate">
root@host# mysql -u root -p password;
Enter password:*******
mysql&gt; use TUTORIALS;
Database changed
mysql&gt; SELECT * from tutorials_tbl 
+-------------+----------------+-----------------+-----------------+
| tutorial_id | tutorial_title | tutorial_author | submission_date |
+-------------+----------------+-----------------+-----------------+
|           1 | Learn PHP      | John Poul       | 2007-05-21      |
|           2 | Learn MySQL    | Abdul S         | 2007-05-21      |
|           3 | JAVA Tutorial  | Sanjay          | 2007-05-21      |
+-------------+----------------+-----------------+-----------------+
3 rows in set (0.01 sec)

mysql&gt;
</pre>
<h2>Fetching Data Using a PHP Script</h2>
<p>You can use the same SQL SELECT command into a PHP function <b>mysql_query()</b>. This function is used to execute the SQL command and then later another PHP function <b>mysql_fetch_array()</b> can be used to fetch all the selected data. This function returns the row as an associative array, a numeric array, or both. This function returns FALSE  if there are no more rows.</p>
<p>The following program is a simple example which will show how to fetch / display records from the <b>tutorials_tbl</b> table.</p>
<h3>Example</h3>
<p>The following code block will display all the records from the tutorials_tbl table.</p>
<pre class="prettyprint notranslate">
&lt;?php
   $dbhost = 'localhost:3036';
   $dbuser = 'root';
   $dbpass = 'rootpassword';
   $conn = mysql_connect($dbhost, $dbuser, $dbpass);
   
   if(! $conn ) {
      die('Could not connect: ' . mysql_error());
   }
   $sql = 'SELECT tutorial_id, tutorial_title, tutorial_author, submission_date
      FROM tutorials_tbl';

   mysql_select_db('TUTORIALS');
   $retval = mysql_query( $sql, $conn );
   
   if(! $retval ) {
      die('Could not get data: ' . mysql_error());
   }
   
   while($row = mysql_fetch_array($retval, MYSQL_ASSOC)) {
      echo "Tutorial ID :{$row['tutorial_id']}  &lt;br&gt; ".
         "Title: {$row['tutorial_title']} &lt;br&gt; ".
         "Author: {$row['tutorial_author']} &lt;br&gt; ".
         "Submission Date : {$row['submission_date']} &lt;br&gt; ".
         "--------------------------------&lt;br&gt;";
   } 
   echo "Fetched data successfully\n";
   mysql_close($conn);
?&gt;
</pre>
<p>The content of the rows is assigned to the variable $row and the values in that row are then printed.</p>
<p><b>NOTE</b> &minus; Always remember to put curly brackets when you want to insert an array value directly into a string.</p>
<p>In the above example, the constant <b>MYSQL_ASSOC</b> is used  as the second argument to the PHP function <b>mysql_fetch_array()</b>, so that it returns the row as an associative array. With an associative array you can access the field by using their name instead of using the index.</p>
<p>PHP provides another function called <b>mysql_fetch_assoc()</b>, which also returns the row as an associative array.</p>
<h3>Example</h3>
<p>The following example to display all the records from the tutorial_tbl table using mysql_fetch_assoc() function.</p>
<pre class="prettyprint notranslate">
&lt;?php
   $dbhost = 'localhost:3036';
   $dbuser = 'root';
   $dbpass = 'rootpassword';
   $conn = mysql_connect($dbhost, $dbuser, $dbpass);
   
   if(! $conn ) {
      die('Could not connect: ' . mysql_error());
   }
   
   $sql = 'SELECT tutorial_id, tutorial_title, tutorial_author, submission_date
      FROM tutorials_tbl';

   mysql_select_db('TUTORIALS');
   $retval = mysql_query( $sql, $conn );
   
   if(! $retval ) {
      die('Could not get data: ' . mysql_error());
   }
   
   while($row = mysql_fetch_assoc($retval)) {
      echo "Tutorial ID :{$row['tutorial_id']}  &lt;br&gt; ".
         "Title: {$row['tutorial_title']} &lt;br&gt; ".
         "Author: {$row['tutorial_author']} &lt;br&gt; ".
         "Submission Date : {$row['submission_date']} &lt;br&gt; ".
         "--------------------------------&lt;br&gt;";
   } 
   echo "Fetched data successfully\n";
   mysql_close($conn);
?&gt;
</pre>
<p>You can also use the constant <b>MYSQL_NUM</b> as the second argument to the PHP function mysql_fetch_array(). This will cause the function to return an array with the numeric index.</p>
<h3>Example</h3>
<p>Try out the following example to display all the records from tutorials_tbl table using the MYSQL_NUM argument.</p>
<pre class="prettyprint notranslate">
&lt;?php
   $dbhost = 'localhost:3036';
   $dbuser = 'root';
   $dbpass = 'rootpassword';
   $conn = mysql_connect($dbhost, $dbuser, $dbpass);

   if(! $conn ) {
      die('Could not connect: ' . mysql_error());
   }
   
   $sql = 'SELECT tutorial_id, tutorial_title, tutorial_author, submission_date
      FROM tutorials_tbl';

   mysql_select_db('TUTORIALS');
   $retval = mysql_query( $sql, $conn );
   
   if(! $retval ) {
      die('Could not get data: ' . mysql_error());
   }
   
   while($row = mysql_fetch_array($retval, MYSQL_NUM)) {
      echo "Tutorial ID :{$row[0]}  &lt;br&gt; ".
         "Title: {$row[1]} &lt;br&gt; ".
         "Author: {$row[2]} &lt;br&gt; ".
         "Submission Date : {$row[3]} &lt;br&gt; ".
         "--------------------------------&lt;br&gt;";
   }
   echo "Fetched data successfully\n";
   mysql_close($conn);
?&gt;
</pre>
<p>All the above three examples will produce the same result.</p>
<h2>Releasing Memory</h2>
<p>It is a good practice to release cursor memory at the end of each SELECT statement. This can be done by using the PHP function <b>mysql_free_result()</b>. The following program is the example to show how it should be used.</p>
<h3>Example</h3>
<p>Try out the following example &minus;</p>
<pre class="prettyprint notranslate">
&lt;?php
   $dbhost = 'localhost:3036';
   $dbuser = 'root';
   $dbpass = 'rootpassword';
   $conn = mysql_connect($dbhost, $dbuser, $dbpass);

   if(! $conn ) {
      die('Could not connect: ' . mysql_error());
   }
   
   $sql = 'SELECT tutorial_id, tutorial_title, tutorial_author, submission_date
      FROM tutorials_tbl';

   mysql_select_db('TUTORIALS');
   $retval = mysql_query( $sql, $conn );
   
   if(! $retval ) {
      die('Could not get data: ' . mysql_error());
   }
   
   while($row = mysql_fetch_array($retval, MYSQL_NUM)) {
      echo "Tutorial ID :{$row[0]}  &lt;br&gt; ".
         "Title: {$row[1]} &lt;br&gt; ".
         "Author: {$row[2]} &lt;br&gt; ".
         "Submission Date : {$row[3]} &lt;br&gt; ".
         "--------------------------------&lt;br&gt;";
   }
   mysql_free_result($retval);
   echo "Fetched data successfully\n";
   mysql_close($conn);
?&gt;
</pre>
<p>While fetching data, you can write as complex a code as you like, but the procedure will remain the same as mentioned above.</p>
<h1>MySQL - WHERE Clause</h1>
<p>We have seen the SQL <b>SELECT</b> command to fetch data from a MySQL table. We can use a conditional clause called the <b>WHERE Clause</b> to filter out the results. Using this WHERE clause, we can specify a selection criteria to select the required records from a table.</p>
<h3>Syntax</h3>
<p>The following code block has a generic SQL syntax of the SELECT command with the WHERE clause to fetch data from the MySQL table &minus;</p>
<pre class="prettyprint notranslate">
SELECT field1, field2,...fieldN table_name1, table_name2...
[WHERE condition1 [AND [OR]] condition2.....
</pre>
<ul class="list">
<li><p>You can use one or more tables separated by a comma to include various conditions using a WHERE clause, but the WHERE clause is an optional part of the SELECT command.</p></li>
<li><p>You can specify any condition using the WHERE clause.</p></li>
<li><p>You can specify more than one condition using the <b>AND</b> or the <b>OR</b> operators.</p></li>
<li><p>A WHERE clause can be used along with DELETE or UPDATE SQL command also to specify a condition.</p></li>
</ul>
<p>The <b>WHERE</b> clause works like an <b>if condition</b> in any programming language. This clause is used to compare the given value with the field value available in a MySQL table. If the given value from outside is equal to the available field value in the MySQL table, then it returns that row.</p>
<p>Here is the list of operators, which can be used with the <b>WHERE</b> clause.</p>
<p>Assume field A holds 10 and field B holds 20, then &minus;</p>
<table class="table table-bordered">
<tr>
<th style="width:10%">Operator</th>
<th style="width:45%">Description</th>
<th>Example</th>
</tr>
<tr>
<td>=</td>
<td>Checks if the values of the two operands are equal or not, if yes, then the condition becomes true.</td>
<td>(A = B) is not true.</td>
</tr>
<tr>
<td>!=</td>
<td>Checks if the values of the two operands are equal or not, if the values are not equal then the condition becomes true.</td>
<td>(A != B) is true.</td>
</tr>
<tr>
<td>&gt;</td>
<td>Checks if the value of the left operand is greater than the value of the right operand, if yes, then the condition becomes true.</td>
<td>(A &gt; B) is not true.</td>
</tr>
<tr>
<td>&lt;</td>
<td>Checks if the value of the left operand is less than the value of the right operand, if yes then the condition becomes true.</td>
<td>(A &lt; B) is true.</td>
</tr>
<tr>
<td>&gt;=</td>
<td>Checks if the value of the left operand is greater than or equal to the value of the right operand, if yes, then the condition becomes true.</td>
<td>(A &gt;= B) is not true.</td>
</tr>
<tr>
<td>&lt;=</td>
<td>Checks if the value of the left operand is less than or equal to the value of the right operand, if yes, then the condition becomes true.</td>
<td>(A &lt;= B) is true.</td>
</tr>
</table>
<p>The WHERE clause is very useful when you want to fetch the selected rows from a table, especially when you use the <b>MySQL Join</b>. Joins are discussed in another chapter.</p>
<p>It is a common practice to search for records using the <b>Primary Key</b> to make the search faster.</p>
<p>If the given condition does not match any record in the table, then the query would not return any row.</p>
<h2>Fetching Data from the Command Prompt</h2>
<p>This will use the SQL SELECT command with the WHERE clause to fetch the selected data from the MySQL table  <b>tutorials_tbl</b>.</p>
<h3>Example</h3>
<p>The following example will return all the records from the <b>tutorials_tbl</b> table for which the author name is <b>Sanjay</b>.</p>
<pre class="prettyprint notranslate">
root@host# mysql -u root -p password;
Enter password:*******
mysql&gt; use TUTORIALS;
Database changed
mysql&gt; SELECT * from tutorials_tbl WHERE tutorial_author = 'Sanjay';
+-------------+----------------+-----------------+-----------------+
| tutorial_id | tutorial_title | tutorial_author | submission_date |
+-------------+----------------+-----------------+-----------------+
|      3      | JAVA Tutorial  |      Sanjay     |    2007-05-21   |      
+-------------+----------------+-----------------+-----------------+
1 rows in set (0.01 sec)

mysql&gt;
</pre>
<p>Unless performing a <b>LIKE</b> comparison on a string, the comparison is not case sensitive. You can make your search case sensitive by using the <b>BINARY</b> keyword as follows &minus;</p>
<pre class="prettyprint notranslate">
root@host# mysql -u root -p password;
Enter password:*******
mysql&gt; use TUTORIALS;
Database changed
mysql&gt; SELECT * from tutorials_tbl \
   WHERE BINARY tutorial_author = 'sanjay';
Empty set (0.02 sec)

mysql&gt;
</pre>
<h2>Fetching Data Using a PHP Script</h2>
<p>You can use the same SQL SELECT command with the WHERE CLAUSE into the PHP function <b>mysql_query()</b>. This function is used to execute the SQL command and later another PHP function <b>mysql_fetch_array()</b> can be used to fetch all the selected data. This function returns a row as an associative array, a numeric array, or both. This function returns FALSE if there are no more rows.</p>
<h3>Example</h3>
<p>The following example will  return all the records from the <b>tutorials_tbl</b> table for which the author name is <b>Sanjay</b> &minus;</p>
<pre class="prettyprint notranslate">
&lt;?php
   $dbhost = 'localhost:3036';
   $dbuser = 'root';
   $dbpass = 'rootpassword';
   $conn = mysql_connect($dbhost, $dbuser, $dbpass);

   if(! $conn ) {
      die('Could not connect: ' . mysql_error());
   }

   $sql = 'SELECT tutorial_id, tutorial_title, 
               tutorial_author, submission_date
               FROM tutorials_tbl
               WHERE tutorial_author = "Sanjay"';

   mysql_select_db('TUTORIALS');
   $retval = mysql_query( $sql, $conn );

   if(! $retval ) {
      die('Could not get data: ' . mysql_error());
   }

   while($row = mysql_fetch_array($retval, MYSQL_ASSOC)) {
      echo "Tutorial ID :{$row['tutorial_id']}  &lt;br&gt; ".
      "Title: {$row['tutorial_title']} &lt;br&gt; ".
      "Author: {$row['tutorial_author']} &lt;br&gt; ".
      "Submission Date : {$row['submission_date']} &lt;br&gt; ".
      "--------------------------------&lt;br&gt;";
   } 

   echo "Fetched data successfully\n";
   mysql_close($conn);
?&gt;
</pre>
<h1>MySQL - UPDATE Query</h1>
<p>There may be a requirement where the existing data in a MySQL table needs to be modified. You can do so by using the SQL <b>UPDATE</b> command. This will modify any field value of any MySQL table.</p>
<h3>Syntax</h3>
<p>The following code block has a generic SQL syntax of the UPDATE command to modify the data in the MySQL table &minus;</p>
<pre class="prettyprint notranslate">
UPDATE table_name SET field1 = new-value1, field2 = new-value2
[WHERE Clause]
</pre>
<ul class="list">
<li>You can update one or more field altogether.</li>
<li>You can specify any condition using the WHERE clause.</li>
<li>You can update the values in a single table at a time.</li>
</ul>
<p>The WHERE clause is very useful when you want to update the selected rows in a table.</p>
<h2>Updating Data from the Command Prompt</h2>
<p>This will use the SQL UPDATE command with the WHERE clause to update the selected data in the MySQL table <b>tutorials_tbl</b>.</p>
<h3>Example</h3>
<p>The following example will  update the <b>tutorial_title</b> field for a record having the tutorial_id as 3.</p>
<pre class="prettyprint notranslate">
root@host# mysql -u root -p password;
Enter password:*******

mysql&gt; use TUTORIALS;
Database changed

mysql&gt; UPDATE tutorials_tbl 
   -&gt; SET tutorial_title = 'Learning JAVA' 
   -&gt; WHERE tutorial_id = 3;
Query OK, 1 row affected (0.04 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql&gt;
</pre>
<h2>Updating Data Using a PHP Script</h2>
<p>You can use the SQL UPDATE command with or without the WHERE CLAUSE into the PHP function  <b>mysql_query()</b>. This function will execute the SQL command in a similar way it is executed at the mysql&gt; prompt.</p>
<h3>Example</h3>
<p>The following example to update the <b>tutorial_title</b> field for a record having tutorial_id as 3.</p>
<pre class="prettyprint notranslate">
&lt;?php
   $dbhost = 'localhost:3036';
   $dbuser = 'root';
   $dbpass = 'rootpassword';
   $conn = mysql_connect($dbhost, $dbuser, $dbpass);
   
   if(! $conn ) {
      die('Could not connect: ' . mysql_error());
   }

   $sql = 'UPDATE tutorials_tbl
      SET tutorial_title="Learning JAVA"
      WHERE tutorial_id=3';

   mysql_select_db('TUTORIALS');
   $retval = mysql_query( $sql, $conn );
   
   if(! $retval ) {
      die('Could not update data: ' . mysql_error());
   }
   echo "Updated data successfully\n";
   mysql_close($conn);
?&gt;
</pre>
<h1>MySQL - DELETE Query</h1>
<p>If you want to delete a record from any MySQL table, then you can use the SQL command <b>DELETE FROM</b>. You can use this command at the mysql&gt; prompt as well as in any script like PHP.</p>
<h3>Syntax</h3>
<p>The following code block has a generic SQL syntax of the DELETE command to delete data from a MySQL table.</p>
<pre class="prettyprint notranslate">
DELETE FROM table_name [WHERE Clause]
</pre>
<ul class="list">
<li><p>If the WHERE clause is not specified, then all the records will be deleted from the given MySQL table.</p></li>
<li><p>You can specify any condition using the WHERE clause.</p></li>
<li><p>You can delete records in a single table at a time.</p></li>
</ul>
<p>The WHERE clause is very useful when you want to delete selected rows in a table.</p>
<h2>Deleting  Data from the Command Prompt</h2>
<p>This will use the SQL DELETE command with the WHERE clause to delete selected data into the MySQL table  <b>tutorials_tbl</b>.</p>
<h3>Example</h3>
<p>The following example will delete a record from the tutorial_tbl whose tutorial_id is 3.</p>
<pre class="prettyprint notranslate">
root@host# mysql -u root -p password;
Enter password:*******

mysql&gt; use TUTORIALS;
Database changed

mysql&gt; DELETE FROM tutorials_tbl WHERE tutorial_id=3;
Query OK, 1 row affected (0.23 sec)

mysql&gt;
</pre>
<h2>Deleting Data Using a PHP Script</h2>
<p>You can use the SQL DELETE command with or without the WHERE CLAUSE into the PHP function  <b>mysql_query()</b>. This function will execute the SQL command in the same way as it is executed at the mysql&gt; prompt.</p>
<h3>Example</h3>
<p>Try the following example to delete a record from the tutorial_tbl whose tutorial_id is 3.</p>
<pre class="prettyprint notranslate">
&lt;?php
   $dbhost = 'localhost:3036';
   $dbuser = 'root';
   $dbpass = 'rootpassword';
   $conn = mysql_connect($dbhost, $dbuser, $dbpass);
   
   if(! $conn ) {
      die('Could not connect: ' . mysql_error());
   }

   $sql = 'DELETE FROM tutorials_tbl
      WHERE tutorial_id=3';

   mysql_select_db('TUTORIALS');
   $retval = mysql_query( $sql, $conn );

   if(! $retval ) {
      die('Could not delete data: ' . mysql_error());
   }
   echo "Deleted data successfully\n";
   mysql_close($conn);
?&gt;
</pre>
<h1>MySQL - LIKE Clause</h1>
<p>We have seen the SQL <b>SELECT</b> command to fetch data from the MySQL table. We can also use a conditional clause called as the <b>WHERE</b> clause to select the required records.</p>
<p>A WHERE clause with the equal to sign (=) works fine where we want to do an exact match. Like if "tutorial_author = 'Sanjay'". But there may be a requirement where we want to filter out all the results where tutorial_author name should contain "jay". This can be handled using <b>SQL LIKE Clause</b> along with the WHERE clause.</p>
<p>If the SQL LIKE clause is used along with the % character, then it will work like a meta character (*) as in UNIX, while listing out all the files or directories at the command prompt. Without a % character, the LIKE clause is very same as the <b>equal to</b> sign along with the WHERE clause.</p>
<h3>Syntax</h3>
<p>The following code block has a generic SQL syntax of the SELECT command along with the LIKE clause to fetch data from a MySQL table.</p>
<pre class="prettyprint notranslate">
SELECT field1, field2,...fieldN table_name1, table_name2...
WHERE field1 LIKE condition1 [AND [OR]] filed2 = 'somevalue'
</pre>
<ul class="list">
<li><p>You can specify any condition using the WHERE clause.</p></li>
<li><p>You can use the LIKE clause along with the WHERE clause.</p></li>
<li><p>You can use the LIKE clause in place of the <b>equals to</b> sign.</p></li>
<li><p>When LIKE is used along with % sign then it will work like a meta character search.</p></li>
<li><p>You can specify more than one condition using <b>AND</b> or <b>OR</b> operators.</p></li>
<li><p>A WHERE...LIKE clause can be used along with DELETE or UPDATE SQL command also to specify a condition.</p></li>
</ul>
<h2>Using the LIKE clause at the Command Prompt</h2>
<p>This will use the SQL SELECT command with the WHERE...LIKE clause to fetch the selected data from the MySQL table  <b>tutorials_tbl</b>.</p>
<h3>Example</h3>
<p>The following example will return all the records from the <b>tutorials_tbl</b> table for which the author name ends with <b>jay</b> &minus;</p>
<pre class="prettyprint notranslate">
root@host# mysql -u root -p password;
Enter password:*******
mysql&gt; use TUTORIALS;
Database changed
mysql&gt; SELECT * from tutorials_tbl 
    -&gt; WHERE tutorial_author LIKE '%jay';
+-------------+----------------+-----------------+-----------------+
| tutorial_id | tutorial_title | tutorial_author | submission_date |
+-------------+----------------+-----------------+-----------------+
|      3      |  JAVA Tutorial |     Sanjay      |    2007-05-21   |   
+-------------+----------------+-----------------+-----------------+
1 rows in set (0.01 sec)

mysql&gt;
</pre>
<h2>Using LIKE clause inside PHP Script</h2>
<p>You can use similar syntax of the WHERE...LIKE clause into the PHP function  <b>mysql_query()</b>. This function is used to execute the SQL command and later another PHP function  <b>mysql_fetch_array()</b> can be used to fetch all the selected data, if the WHERE...LIKE clause is used along with the SELECT command.</p>
<p>But if the WHERE...LIKE clause is being used with the DELETE or UPDATE command, then no further PHP function call is required.</p>
<h3>Example</h3>
<p>Try out the following example to return all the records from the <b>tutorials_tbl</b> table for which the author name contains <b>jay</b> &minus;</p>
<pre class="prettyprint notranslate">
&lt;?php
   $dbhost = 'localhost:3036';
   $dbuser = 'root';
   $dbpass = 'rootpassword';
   $conn = mysql_connect($dbhost, $dbuser, $dbpass);

   if(! $conn ) {
      die('Could not connect: ' . mysql_error());
   }
   $sql = 'SELECT tutorial_id, tutorial_title, 
      tutorial_author, submission_date
      FROM tutorials_tbl
      WHERE tutorial_author LIKE "%jay%"';

   mysql_select_db('TUTORIALS');
   $retval = mysql_query( $sql, $conn );
   
   if(! $retval ) {
      die('Could not get data: ' . mysql_error());
   }

   while($row = mysql_fetch_array($retval, MYSQL_ASSOC)) {
      echo "Tutorial ID :{$row['tutorial_id']}  &lt;br&gt; ".
      "Title: {$row['tutorial_title']} &lt;br&gt; ".
      "Author: {$row['tutorial_author']} &lt;br&gt; ".
      "Submission Date : {$row['submission_date']} &lt;br&gt; ".
      "--------------------------------&lt;br&gt;";
   } 
   echo "Fetched data successfully\n";
   mysql_close($conn);
?&gt;
</pre>
<h1>MySQL - Sorting Results</h1>
<p>We have seen the SQL <b>SELECT</b> command to fetch data from a MySQL table. When you select rows, the MySQL server is free to return them in any order, unless you instruct it otherwise by saying how to sort the result. But, you sort a result set by adding an <b>ORDER BY</b> clause that names the column or columns which you want to sort.</p>
<h3>Syntax</h3>
<p>The following code block is a generic SQL syntax of the SELECT command along with the ORDER BY clause to sort the data from a MySQL table.</p>
<pre class="result notranslate">
SELECT field1, field2,...fieldN table_name1, table_name2...
ORDER BY field1, [field2...] [ASC [DESC]]
</pre>
<ul class="list">
<li><p>You can sort the returned result on any field, if that field is being listed out.</p></li>
<li><p>You can sort the result on more than one field.</p></li>
<li><p>You can use the keyword ASC or DESC to get result in ascending or descending order. By default, it's the ascending order.</p></li>
<li><p>You can use the WHERE...LIKE clause in the usual way to put a condition.</p></li>
</ul>
<h2>Using ORDER BY clause at the Command Prompt</h2>
<p>This will use the SQL SELECT command with the <b>ORDER BY</b> clause to fetch data from the MySQL table  <b>tutorials_tbl</b>.</p>
<h3>Example</h3>
<p>Try out the following example, which returns the result in an ascending order.</p>
<pre class="prettyprint notranslate">
root@host# mysql -u root -p password;
Enter password:*******
mysql&gt; use TUTORIALS;
Database changed
mysql&gt; SELECT * from tutorials_tbl ORDER BY tutorial_author ASC
+-------------+----------------+-----------------+-----------------+
| tutorial_id | tutorial_title | tutorial_author | submission_date |
+-------------+----------------+-----------------+-----------------+
|      2      |  Learn MySQL   |     Abdul S     |    2007-05-24   |   
|      1      |   Learn PHP    |    John Poul    |    2007-05-24   |   
|      3      | JAVA Tutorial  |     Sanjay      |    2007-05-06   |   
+-------------+----------------+-----------------+-----------------+
3 rows in set (0.42 sec)

mysql&gt;
</pre>
<p>Verify all the author names that are listed out in the ascending order.</p>
<h2>Using  ORDER BY clause inside a PHP Script</h2>
<p>You can use a similar syntax of the ORDER BY clause into the PHP function  <b>mysql_query()</b>. This function is used to execute the SQL command and later another PHP function <b>mysql_fetch_array()</b> can be used to fetch all the selected data.</p>
<h3>Example</h3>
<p>Try out the following example, which returns the result in a descending order of the tutorial authors.</p>
<pre class="prettyprint notranslate">
&lt;?php
   $dbhost = 'localhost:3036';
   $dbuser = 'root';
   $dbpass = 'rootpassword';
   $conn = mysql_connect($dbhost, $dbuser, $dbpass);
   
   if(! $conn ) {
      die('Could not connect: ' . mysql_error());
   }
   $sql = 'SELECT tutorial_id, tutorial_title, 
      tutorial_author, submission_date
      FROM tutorials_tbl
      ORDER BY  tutorial_author DESC';

   mysql_select_db('TUTORIALS');
   $retval = mysql_query( $sql, $conn );
   
   if(! $retval ) {
      die('Could not get data: ' . mysql_error());
   }

   while($row = mysql_fetch_array($retval, MYSQL_ASSOC)) {
      echo "Tutorial ID :{$row['tutorial_id']}  &lt;br&gt; ".
      "Title: {$row['tutorial_title']} &lt;br&gt; ".
      "Author: {$row['tutorial_author']} &lt;br&gt; ".
      "Submission Date : {$row['submission_date']} &lt;br&gt; ".
      "--------------------------------&lt;br&gt;";
   } 
   echo "Fetched data successfully\n";
   mysql_close($conn);
?&gt;
</pre>
<h1>Using MySQl Joins</h1>
<p>In the previous chapters, we were getting data from one table at a time. This is good enough for simple takes, but in most of the real world MySQL usages, you will often need to get data from multiple tables in a single query.</p>
<p>You can use multiple tables in your single SQL query. The act of joining in MySQL refers to smashing two or more tables into a single table.</p>
<p>You can use JOINS in the SELECT, UPDATE and DELETE statements to join the MySQL tables. We will see an example of the LEFT JOIN also which is different from the simple MySQL JOIN.</p>
<h2>Using Joins at the Command Prompt</h2>
<p>Assume we have two tables <b>tcount_tbl</b> and <b>tutorials_tbl</b>, in TUTORIALS. Now take a look at the examples given below &minus;</p>
<h3>Example</h3>
<p>The following examples &minus;</p>
<pre class="prettyprint notranslate">
root@host# mysql -u root -p password;
Enter password:*******
mysql&gt; use TUTORIALS;
Database changed
mysql&gt; SELECT * FROM tcount_tbl;
+-----------------+----------------+
| tutorial_author | tutorial_count |
+-----------------+----------------+
|      mahran     |       20       |     
|      mahnaz     |      NULL      |        
|       Jen       |      NULL      |          
|      Gill       |       20       |          
|    John Poul    |        1       |      
|     Sanjay      |        1       |        
+-----------------+----------------+
6 rows in set (0.01 sec)
mysql&gt; SELECT * from tutorials_tbl;
+-------------+----------------+-----------------+-----------------+
| tutorial_id | tutorial_title | tutorial_author | submission_date |
+-------------+----------------+-----------------+-----------------+
|      1      |  Learn PHP     |     John Poul   |    2007-05-24   |   
|      2      |  Learn MySQL   |      Abdul S    |    2007-05-24   |   
|      3      | JAVA Tutorial  |      Sanjay     |    2007-05-06   |   
+-------------+----------------+-----------------+-----------------+
3 rows in set (0.00 sec)
mysql&gt;
</pre>
<p>Now we can write an SQL query to join these two tables. This query will select all the authors from table <b>tutorials_tbl</b> and will pick up the corresponding number of tutorials from the <b>tcount_tbl</b>.</p>
<pre class="prettyprint notranslate">
mysql&gt; SELECT a.tutorial_id, a.tutorial_author, b.tutorial_count
    -&gt; FROM tutorials_tbl a, tcount_tbl b
    -&gt; WHERE a.tutorial_author = b.tutorial_author;
+-------------+-----------------+----------------+
| tutorial_id | tutorial_author | tutorial_count |
+-------------+-----------------+----------------+
|      1      |    John Poul    |        1       |
|      3      |     Sanjay      |        1       |
+-------------+-----------------+----------------+
2 rows in set (0.01 sec)
mysql&gt;
</pre>
<h2>Using Joins in a PHP Script</h2>
<p>You can use any of the above-mentioned SQL query in the PHP script. You only need to pass the SQL query into the PHP function <b>mysql_query()</b> and then you will fetch results in the usual way.</p>
<h3>Example</h3>
<p>The following example &minus;</p>
<pre class="prettyprint notranslate">
&lt;?php
   $dbhost = 'localhost:3036';
   $dbuser = 'root';
   $dbpass = 'rootpassword';
   $conn = mysql_connect($dbhost, $dbuser, $dbpass);
   
   if(! $conn ) {
      die('Could not connect: ' . mysql_error());
   }

   $sql = 'SELECT a.tutorial_id, a.tutorial_author, b.tutorial_count
      FROM tutorials_tbl a, tcount_tbl b
      WHERE a.tutorial_author = b.tutorial_author';

   mysql_select_db('TUTORIALS');
   $retval = mysql_query( $sql, $conn );

   if(! $retval ) {
      die('Could not get data: ' . mysql_error());
   }

   while($row = mysql_fetch_array($retval, MYSQL_ASSOC)) {
      echo "Author:{$row['tutorial_author']}  &lt;br&gt; ".
      "Count: {$row['tutorial_count']} &lt;br&gt; ".
      "Tutorial ID: {$row['tutorial_id']} &lt;br&gt; ".
      "--------------------------------&lt;br&gt;";
   } 
   echo "Fetched data successfully\n";
   mysql_close($conn);
?&gt;
</pre>
<h2>MySQL LEFT JOIN</h2>
<p>A MySQL left join is different from a simple join. A MySQL LEFT JOIN gives some extra consideration to the table that is on the left.</p>
<p>If I do a <b>LEFT JOIN</b>, I get all the records that match in the same way and IN ADDITION I get an extra record for each unmatched record in the left table of the join: thus ensuring (in my example) that every AUTHOR gets a mention.</p>
<h3>Example</h3>
<p>Try the following example to understand the LEFT JOIN.</p>
<pre class="prettyprint notranslate">
root@host# mysql -u root -p password;
Enter password:*******
mysql&gt; use TUTORIALS;
Database changed
mysql&gt; SELECT a.tutorial_id, a.tutorial_author, b.tutorial_count
    -&gt; FROM tutorials_tbl a LEFT JOIN tcount_tbl b
    -&gt; ON a.tutorial_author = b.tutorial_author;
+-------------+-----------------+----------------+
| tutorial_id | tutorial_author | tutorial_count |
+-------------+-----------------+----------------+
|      1      |    John Poul    |       1        |
|      2      |     Abdul S     |      NULL      |
|      3      |     Sanjay      |       1        |
+-------------+-----------------+----------------+
3 rows in set (0.02 sec)
</pre>
<p>You would need to do more practice to become familiar with JOINS. This is slightly a bit complex concept in MySQL/SQL and will become more clear while doing real examples.</p>
<h1>Handling MySQL NULL Values</h1>
<p>We have seen the SQL <b>SELECT</b> command along with the <b>WHERE</b> clause to fetch data from a MySQL table, but when we try to give a condition, which compares the field or the column value to <b>NULL</b>, it does not work properly.</p>
<p>To handle such a situation, MySQL provides three operators &minus;</p>
<ul class="list">
<li><p><b>IS NULL</b> &minus; This operator returns true, if the column value is NULL.</p></li>
<li><p><b>IS NOT NULL</b> &minus; This operator returns true, if the column value is not NULL.</p></li>
<li><p><b>&lt;=&gt;</b> &minus; This operator compares values, which (unlike the = operator) is true even for two NULL values. </p></li>
</ul>
<p>The conditions involving NULL are special. You cannot use = <b>NULL</b> or != <b>NULL</b> to look for NULL values in columns. Such comparisons always fail because it is impossible to tell whether they are true or not. Sometimes, even NULL = NULL fails.</p>
<p>To look for columns that are or are not NULL, use <b>IS NULL</b> or <b>IS NOT NULL</b>.</P>
<h2>Using NULL values at the Command Prompt</h2>
<p>Assume that there is a table called <b>tcount_tbl</b> in the TUTORIALS database and it contains two columns namely <b>tutorial_author</b> and <b>tutorial_count</b>, where a NULL tutorial_count indicates that the value is unknown.</p>
<h3>Example</h3>
<p>Try the following examples &minus;</p>
<pre class="prettyprint notranslate">
root@host# mysql -u root -p password;
Enter password:*******

mysql&gt; use TUTORIALS;
Database changed

mysql&gt; create table tcount_tbl
   -&gt; (
   -&gt; tutorial_author varchar(40) NOT NULL,
   -&gt; tutorial_count  INT
   -&gt; );
Query OK, 0 rows affected (0.05 sec)

mysql&gt; INSERT INTO tcount_tbl
   -&gt; (tutorial_author, tutorial_count) values ('mahran', 20);

mysql&gt; INSERT INTO tcount_tbl
   -&gt; (tutorial_author, tutorial_count) values ('mahnaz', NULL);

mysql&gt; INSERT INTO tcount_tbl
   -&gt; (tutorial_author, tutorial_count) values ('Jen', NULL);

mysql&gt; INSERT INTO tcount_tbl
   -&gt; (tutorial_author, tutorial_count) values ('Gill', 20);

mysql&gt; SELECT * from tcount_tbl;
+-----------------+----------------+
| tutorial_author | tutorial_count |
+-----------------+----------------+
|     mahran      |       20       |
|     mahnaz      |      NULL      |
|      Jen        |      NULL      |
|     Gill        |       20       |
+-----------------+----------------+
4 rows in set (0.00 sec)

mysql&gt;
</pre>
<p>You can see that = and <b>!=</b> do not work with NULL values as follows &minus;</p>
<pre class="prettyprint notranslate">
mysql&gt; SELECT * FROM tcount_tbl WHERE tutorial_count = NULL;
Empty set (0.00 sec)

mysql&gt; SELECT * FROM tcount_tbl WHERE tutorial_count != NULL;
Empty set (0.01 sec)
</pre>
<p>To find the records where the tutorial_count column is or is not NULL, the queries should be written as shown in the following program.</p>
<pre class="prettyprint notranslate">
mysql&gt; SELECT * FROM tcount_tbl 
    -&gt; WHERE tutorial_count IS NULL;
+-----------------+----------------+
| tutorial_author | tutorial_count |
+-----------------+----------------+
|     mahnaz      |      NULL      |
|      Jen        |      NULL      |
+-----------------+----------------+
2 rows in set (0.00 sec)
mysql&gt; SELECT * from tcount_tbl 
    -&gt; WHERE tutorial_count IS NOT NULL;
+-----------------+----------------+
| tutorial_author | tutorial_count |
+-----------------+----------------+
|     mahran      |       20       |
|     Gill        |       20       |
+-----------------+----------------+
2 rows in set (0.00 sec)
</pre>
<h2>Handling NULL Values in a PHP Script</h2>
<p>You can use the <b>if...else</b> condition to prepare a query based on the NULL value.</p>
<h3>Example</h3>
<p>The following example takes the <b>tutorial_count</b> from outside and then compares it with the value available in the table.<p>
<pre class="prettyprint notranslate">
&lt;?php
   $dbhost = 'localhost:3036';
   $dbuser = 'root';
   $dbpass = 'rootpassword';
   $conn = mysql_connect($dbhost, $dbuser, $dbpass);

   if(! $conn ) {
      die('Could not connect: ' . mysql_error());
   }

   if( isset($tutorial_count )) {
      $sql = 'SELECT tutorial_author, tutorial_count
         FROM  tcount_tbl
         WHERE tutorial_count <b>=</b> $tutorial_count';
   } else {
      $sql = 'SELECT tutorial_author, tutorial_count
         FROM  tcount_tbl
         WHERE tutorial_count <b>IS</b> $tutorial_count';
   }

   mysql_select_db('TUTORIALS');
   $retval = mysql_query( $sql, $conn );
   
   if(! $retval ) {
      die('Could not get data: ' . mysql_error());
   }

   while($row = mysql_fetch_array($retval, MYSQL_ASSOC)) {
      echo "Author:{$row['tutorial_author']}  &lt;br&gt; ".
      "Count: {$row['tutorial_count']} &lt;br&gt; ".
      "--------------------------------&lt;br&gt;";
   } 
   echo "Fetched data successfully\n";
   mysql_close($conn);
?&gt;
</pre>
<h1>MySQL - Regexps</h1>
<p>You have seen MySQL pattern matching with <b>LIKE ...%</b>. MySQL supports another type of pattern matching operation based on the regular expressions and the <b>REGEXP</b> operator. If you are aware of PHP or PERL, then it is very simple for you to understand because this matching is same like those scripting the regular expressions.</p>
<p>Following is the table of pattern, which can be used along with the <b>REGEXP</b> operator.</p>
<table class="table table-bordered" style="text-align:center;">
<tr>
<th style="text-align:center;width:30%">Pattern</th>
<th style="text-align:center;width:70%">What the pattern matches</th>
</tr>
<tr>
<td>^</td>
<td>Beginning of string</td>
</tr>
<tr>
<td>$</td>
<td>End of string</td>
</tr>
<tr>
<td>.</td>
<td>Any single character</td>
</tr>
<tr>
<td>[...]</td>
<td>Any character listed between the square brackets</td>
</tr>
<tr>
<td>[^...]</td>
<td>Any character not listed between the square brackets</td>
</tr>
<tr>
<td>p1|p2|p3</td>
<td>Alternation; matches any of the patterns p1, p2, or p3</td>
</tr>
<tr>
<td>*</td>
<td>Zero or more instances of preceding element</td>
</tr>
<tr>
<td>+</td>
<td>One or more instances of preceding element</td>
</tr>
<tr>
<td>{n}</td>
<td>n instances of preceding element</td>
</tr>
<tr>
<td>{m,n}</td>
<td>m through n instances of preceding element</td>
</tr>
</table>
<h2>Examples</h2>
<p>Now based on above table, you can device various type of SQL queries to meet your requirements. Here, I am listing a few for your understanding.</p>
<p>Consider we have a table called <b>person_tbl</b> and it is having a field called <b>name</b> &minus;</p>
<p>Query to find all the names starting with <b>'st'</b> &minus;</p>
<pre class="prettyprint notranslate">
mysql&gt; SELECT name FROM person_tbl WHERE name REGEXP '^st';
</pre>
<p>Query to find all the names ending with <b>'ok'</b> &minus;</p>
<pre class="prettyprint notranslate">
mysql&gt; SELECT name FROM person_tbl WHERE name REGEXP 'ok$';
</pre>
<p>Query to find all the names, which contain <b>'mar'</b> &minus;</p>
<pre class="prettyprint notranslate">
mysql&gt; SELECT name FROM person_tbl WHERE name REGEXP 'mar';
</pre>
<p>Query to find all the names starting with a vowel and ending with <b>'ok'</b> &minus;</p>
<pre class="prettyprint notranslate">
mysql&gt; SELECT name FROM person_tbl WHERE name REGEXP '^[aeiou]|ok$';
</pre>
<h1>MySQL - Transactions</h1>
<p>A transaction is a sequential group of database manipulation operations, which is performed as if it were one single work unit. In other words, a transaction will never be complete unless each individual operation within the group is successful. If any operation within the transaction fails, the entire transaction will fail.</p>
<p>Practically, you will club many SQL queries into a group and you will execute all of them together as a part of a transaction.</p>
<h2>Properties of Transactions</h2>
<p>Transactions have the following four standard properties, usually referred to by the acronym <b>ACID</b> &minus;</p>
<ul class="list">
<li><p><b>Atomicity</b> &minus; This ensures that all operations within the work unit are completed successfully; otherwise, the transaction is aborted at the point of failure and previous operations are rolled back to their former state.</p></li>
<li><p><b>Consistency</b> &minus; This ensures that the database properly changes states upon a successfully committed transaction.</p></li>
<li><p><b>Isolation</b> &minus;  This enables transactions to operate independently on and transparent to each other.</p></li>
<li><p><b>Durability</b> &minus; This ensures that the result or effect of a committed transaction persists in case of a system failure.</p></li>
</ul>
<p>In MySQL, the transactions begin with the statement <b>BEGIN WORK</b> and end with either a <b>COMMIT</b> or a <b>ROLLBACK</b> statement. The SQL commands between the beginning and ending statements form the bulk of the transaction.</p>
<h2>COMMIT and ROLLBACK</h2>
<p>These two keywords <b>Commit</b> and <b>Rollback</b> are mainly used for MySQL Transactions.</p>
<ul class="list">
<li><p>When a successful transaction is completed, the COMMIT command should be issued so that the changes to all involved tables will take effect.</p></li>
<li><p>If a failure occurs, a ROLLBACK command should be issued to return every table referenced in the transaction to its previous state.</p></li>
</ul>
<p>You can control the behavior of a transaction by setting session variable called <b>AUTOCOMMIT</b>. If AUTOCOMMIT is set to 1 (the default), then each SQL statement (within a transaction or not) is considered a complete transaction and committed by default when it finishes.</p>
<p>When AUTOCOMMIT is set to 0, by issuing the <b>SET AUTOCOMMIT = 0</b> command, the subsequent series of statements acts like a transaction and no activities are committed until an explicit COMMIT statement is issued.</p>
<p>You can execute these SQL commands in PHP by using the <b>mysql_query()</b> function.</p>
<h3>A Generic Example on Transaction</h3>
<p>This sequence of events is independent of the programming language used. The logical path can be created in whichever language you use to create your application.</p>
<p>You can execute these SQL commands in PHP by using the <b>mysql_query()</b> function.</p>
<ul class="list">
<li><p>Begin transaction by issuing the SQL command <b>BEGIN WORK</b>.</p></li>
<li><p>Issue one or more SQL commands like SELECT, INSERT, UPDATE or DELETE.</p></li>
<li><p>Check if there is no error and everything is according to your requirement.</p></li>
<li><p>If there is any error, then issue a ROLLBACK command, otherwise issue a COMMIT command.</p></li>
</ul>
<h2>Transaction-Safe Table Types in MySQL</h2>
<p>You cannot use transactions directly, but for certain exceptions you can. However, they are not safe and guaranteed. If you plan to use transactions in your MySQL programming, then you need to create your tables in a special way. There are many types of tables, which support transactions, but the most popular one is <b>InnoDB</b>.</p>
<p>Support for InnoDB tables requires a specific compilation parameter when compiling MySQL from the source. If your MySQL version does not have InnoDB support, ask your Internet Service Provider to build a version of MySQL with support for InnoDB table types or download and install the <b>MySQL-Max Binary Distribution</b> for Windows or Linux/UNIX and work with the table type in a development environment.</p>
<p>If your MySQL installation supports InnoDB tables, simply add a <b>TYPE = InnoDB</b> definition to the table creation statement.</p>
<p>For example, the following code creates an InnoDB table called <b>tcount_tbl</b> &minus;</p>
<pre class="prettyprint notranslate">
root@host# mysql -u root -p password;
Enter password:*******

mysql&gt; use TUTORIALS;
Database changed

mysql&gt; create table tcount_tbl
   -&gt; (
   -&gt; tutorial_author varchar(40) NOT NULL,
   -&gt; tutorial_count  INT
   -&gt; ) <b>TYPE = InnoDB</b>;
Query OK, 0 rows affected (0.05 sec)
</pre>
<p>For more details on InnoDB, you can click on the following link &minus;<a href="http://www.mysql.com/doc/I/n/InnoDB.html" target="_blank">InnoDB</a></p>
<p>You can use other table types like <b>GEMINI</b> or <b>BDB</b>, but it depends on your installation, whether it supports these two table types or not.</p>
<h1>MySQL - ALTER Command</h1>
<p>The MySQL <b>ALTER</b> command is very useful when you want to change a name of your table, any table field or if you want to add or delete an existing column in a table.</p>
<p>Let us begin with the creation of a table called <b>testalter_tbl</b>.</p>
<pre class="prettyprint notranslate">
root@host# mysql -u root -p password;
Enter password:*******

mysql&gt; use TUTORIALS;
Database changed

mysql&gt; create table testalter_tbl
   -&gt; (
   -&gt; i INT,
   -&gt; c CHAR(1)
   -&gt; );
Query OK, 0 rows affected (0.05 sec)
mysql&gt; SHOW COLUMNS FROM testalter_tbl;
+-------+---------+------+-----+---------+-------+
| Field |  Type   | Null | Key | Default | Extra |
+-------+---------+------+-----+---------+-------+
|   i   | int(11) | YES  |     |   NULL  |       |
|   c   | char(1) | YES  |     |   NULL  |       |
+-------+---------+------+-----+---------+-------+
2 rows in set (0.00 sec)
</pre>
<h2>Dropping, Adding or Repositioning a Column</h2>
<p>if you want to drop an existing column i from the above MySQL table, then you will use the <b>DROP</b> clause along with the <b>ALTER</b> command as shown below &minus;</p>
<pre class="prettyprint notranslate">
mysql&gt; ALTER TABLE testalter_tbl  DROP i;
</pre>
<p>A <b>DROP</b> clause will not work if the column is the only one left in the table.</p>
<p>To add a column, use ADD and specify the column definition. The following statement restores the <b>i</b> column to the testalter_tbl &minus;</p>
<pre class="prettyprint notranslate">
mysql&gt; ALTER TABLE testalter_tbl ADD i INT;
</pre>
<p>After issuing this statement, testalter will contain the same two columns that it had when you first created the table, but will not have the same structure. This is because there are new columns that are added to the end of the table by default. So even though <b>i</b> originally was the first column in mytbl, now it is the last one.</p>
<pre class="prettyprint notranslate">
mysql&gt; SHOW COLUMNS FROM testalter_tbl;
+-------+---------+------+-----+---------+-------+
| Field |  Type   | Null | Key | Default | Extra |
+-------+---------+------+-----+---------+-------+
|   c   | char(1) | YES  |     |   NULL  |       |
|   i   | int(11) | YES  |     |   NULL  |       |
+-------+---------+------+-----+---------+-------+
2 rows in set (0.00 sec)
</pre>
<p>To indicate that you want a column at a specific position within the table, either use FIRST to make it the first column or <b>AFTER col_name</b> to indicate that the new column should be placed after the col_name.</p>
<p>Try the following <b>ALTER TABLE</b> statements, using <b>SHOW COLUMNS</b> after each one to see what effect each one has &minus;</p>
<pre class="prettyprint notranslate">
ALTER TABLE testalter_tbl DROP i;
ALTER TABLE testalter_tbl ADD i INT FIRST;
ALTER TABLE testalter_tbl DROP i;
ALTER TABLE testalter_tbl ADD i INT AFTER c;
</pre>
<p>The FIRST and AFTER specifiers work only with the ADD clause. This means that if you want to reposition an existing column within a table, you first must <b>DROP</b> it and then <b>ADD</b> it at the new position.</p>
<h2>Altering (Changing) a Column Definition or a Name</h2>
<p>To change a column's definition, use <b>MODIFY</b> or <b>CHANGE</b> clause along with the ALTER command.</p>
<p>For example, to change column <b>c</b> from CHAR(1) to CHAR(10), you can use the following command &minus;</p>
<pre class="prettyprint notranslate">
mysql&gt; ALTER TABLE testalter_tbl MODIFY c CHAR(10);
</pre>
<p>With <b>CHANGE</b>, the syntax is a bit different. After the CHANGE keyword, you name the column you want to change, then specify the new definition, which includes the new name.</p>
<p>Try out the following example &minus;</p>
<pre class="prettyprint notranslate">
mysql&gt; ALTER TABLE testalter_tbl CHANGE i j BIGINT;
</pre>
<p>If you now use CHANGE to convert <b>j</b> from <b>BIGINT</b> back to <b>INT</b> without changing the column name, the statement will be as shown below &minus;</p>
<pre class="prettyprint notranslate">
mysql&gt; ALTER TABLE testalter_tbl CHANGE j j INT;
</pre>
<p><b>The Effect of ALTER TABLE on Null and Default Value Attributes</b> &minus; When you MODIFY or CHANGE a column, you can also specify whether or not the column can contain NULL values and what its default value is. In fact, if you don't do this, MySQL automatically assigns values for these attributes.</p>
<p>The following code block is an example, where the <b>NOT NULL</b> column will have the value as 100 by default.</p>
<pre class="prettyprint notranslate">
mysql&gt; ALTER TABLE testalter_tbl 
   -&gt; MODIFY j BIGINT NOT NULL DEFAULT 100;
</pre>
<p>If you don't use the above command, then MySQL will fill up NULL values in all the columns.</p>
<h2>Altering (Changing) a Column's Default Value</h2>
<p>You can change a default value for any column by using the <b>ALTER</b> command.</p>
<p>Try out the following example.</p>
<pre class="prettyprint notranslate">
mysql&gt; ALTER TABLE testalter_tbl ALTER i SET DEFAULT 1000;
mysql&gt; SHOW COLUMNS FROM testalter_tbl;
+-------+---------+------+-----+---------+-------+
| Field |  Type   | Null | Key | Default | Extra |
+-------+---------+------+-----+---------+-------+
|   c   | char(1) | YES  |     |   NULL  |       |
|   i   | int(11) | YES  |     |   1000  |       |
+-------+---------+------+-----+---------+-------+
2 rows in set (0.00 sec)
</pre>
<p>You can remove the default constraint from any column by using DROP clause along with the <b>ALTER</b> command.</p>
<pre class="prettyprint notranslate">
mysql&gt; ALTER TABLE testalter_tbl ALTER i DROP DEFAULT;
mysql&gt; SHOW COLUMNS FROM testalter_tbl;
+-------+---------+------+-----+---------+-------+
| Field |  Type   | Null | Key | Default | Extra |
+-------+---------+------+-----+---------+-------+
|   c   | char(1) | YES  |     |   NULL  |       |
|   i   | int(11) | YES  |     |   NULL  |       |
+-------+---------+------+-----+---------+-------+
2 rows in set (0.00 sec)
</pre>
<h2>Altering (Changing) a Table Type</h2>
<p>You can use a table type by using the <b>TYPE</b> clause along with the ALTER command. Try out the following example to change the <b>testalter_tbl</b> to <b>MYISAM</b> table type.</p>
<p>To find out the current type of a table, use the <b>SHOW TABLE STATUS</b> statement.</p>
<pre class="prettyprint notranslate">
mysql&gt; ALTER TABLE testalter_tbl TYPE = MYISAM;
mysql&gt;  SHOW TABLE STATUS LIKE 'testalter_tbl'\G
*************************** 1. row ****************
           Name: testalter_tbl
           Type: MyISAM
     Row_format: Fixed
           Rows: 0
 Avg_row_length: 0
    Data_length: 0
Max_data_length: 25769803775
   Index_length: 1024
      Data_free: 0
 Auto_increment: NULL
    Create_time: 2007-06-03 08:04:36
    Update_time: 2007-06-03 08:04:36
     Check_time: NULL
 Create_options:
        Comment:
1 row in set (0.00 sec)
</pre>
<h2>Renaming (Altering) a Table</h2>
<p>To rename a table, use the <b>RENAME</b> option of the <b>ALTER TABLE</b> statement.</p>
<p>Try out the following example to rename <b>testalter_tbl</b> to <b>alter_tbl</b>.</p>
<pre class="prettyprint notranslate">
mysql&gt; ALTER TABLE testalter_tbl RENAME TO alter_tbl;
</pre>
<p>You can use the ALTER command to create and drop the INDEX command on a MySQL file. We will discuss in detail about this command in the next chapter.</p>
<h1>MySQL - INDEXES</h1>
<p>A database index is a data structure that improves the speed of operations in a table. Indexes can be created using one or more columns, providing the basis for both rapid random lookups and efficient ordering of access to records.</p>
<p>While creating index, it should be taken into consideration which all columns will be used to make SQL queries and create one or more indexes on those columns.</p>
<p>Practically, indexes are also a type of tables, which keep primary key or index field and a pointer to each record into the actual table.</p>
<p>The users cannot see the indexes, they are just used to speed up queries and will be used by the Database Search Engine to locate records very fast.</p> 
<p>The INSERT and UPDATE statements take more time on tables having indexes, whereas the SELECT statements become fast on those tables. The reason is that while doing insert or update, a database needs to insert or update the index values as well.</p>
<h2>Simple and Unique Index</h2>
<p>You can create a unique index on a table. A unique index means that two rows cannot have the same index value. Here is the syntax to create an Index on a table.</p>
<pre class="result notranslate">
CREATE UNIQUE INDEX index_name
ON table_name ( column1, column2,...);
</pre>
<p>You can use one or more columns to create an index.</p>
<p>For example, we can create an index on <b>tutorials_tbl</b> using <b>tutorial_author</b>.</p>
<pre class="result notranslate">
CREATE UNIQUE INDEX AUTHOR_INDEX
ON tutorials_tbl (tutorial_author)
</pre>
<p>You can create a simple index on a table. Just omit the <b>UNIQUE</b> keyword from the query to create a simple index. A Simple index allows duplicate values in a table.</p>
<p>If you want to index the values in a column in a descending order, you can add the reserved word DESC after the column name.</p>
<pre class="result notranslate">
mysql&gt; CREATE UNIQUE INDEX AUTHOR_INDEX
ON tutorials_tbl (tutorial_author DESC)
</pre>
<h2>ALTER command to add and drop INDEX</h2>
<p>There are four types of statements for adding indexes to a table &minus;</p>
<ul class="list">
<li><p><b>ALTER TABLE tbl_name ADD PRIMARY KEY (column_list)</b> &minus; This statement adds a <b>PRIMARY KEY</b>, which means that the indexed values must be unique and cannot be NULL.</p></li>
<li><p><b>ALTER TABLE tbl_name ADD UNIQUE index_name (column_list)</b> &minus; This statement creates an index for which the values must be unique (except for the NULL values, which may appear multiple times).</p></li>
<li><p><b>ALTER TABLE tbl_name ADD INDEX index_name (column_list)</b> &minus; This adds an ordinary index in which any value may appear more than once.</p></li>
<li><p><b>ALTER TABLE tbl_name ADD FULLTEXT index_name (column_list)</b> &minus; This creates a special FULLTEXT index that is used for text-searching purposes.</p></li>
</ul>
<p>The following code block is an example to add index in an existing table.</p>
<pre class="prettyprint notranslate">
mysql&gt; ALTER TABLE testalter_tbl ADD INDEX (c);
</pre>
<p>You can drop any INDEX by using the <b>DROP</b> clause along with the ALTER command.</p>
<p>Try out the following example to drop the above-created index.</p>
<pre class="prettyprint notranslate">
mysql&gt; ALTER TABLE testalter_tbl DROP INDEX (c);
</pre>
<p>You can drop any INDEX by using the DROP clause along with the ALTER command.</p>
<h2>ALTER Command to add and drop the PRIMARY KEY</h2>
<p>You can add a primary key as well in the same way. But make sure the Primary Key works on columns, which are NOT NULL.</p>
<p>The following code block is an example to add the primary key in an existing table. This will make a column NOT NULL first and then add it as a primary key.</p>
<pre class="prettyprint notranslate">
mysql&gt; ALTER TABLE testalter_tbl MODIFY i INT NOT NULL;
mysql&gt; ALTER TABLE testalter_tbl ADD PRIMARY KEY (i);
</pre>
<p>You can use the ALTER command to drop a primary key as follows &minus;</p>
<pre class="prettyprint notranslate">
mysql&gt; ALTER TABLE testalter_tbl DROP PRIMARY KEY;
</pre>
<p>To drop an index that is not a PRIMARY KEY, you must specify the index name.</p>
<h3>Displaying INDEX Information</h3>
<p>You can use the <b>SHOW INDEX</b> command to list out all the indexes associated with a table. The vertical-format output (specified by \G) often is useful with this statement, to avoid a long line wraparound &minus;</p>
<p>Try out the following example &minus;</p>
<pre class="prettyprint notranslate">
mysql&gt; SHOW INDEX FROM <i>table_name</i>\G
........
</pre>
<h1>MySQL - Temporary Tables</h1>
<p>The temporary tables could be very useful in some cases to keep temporary data. The most important thing that should be known for temporary tables is that they will be deleted when the current client session terminates.</p>
<h2>What are Temporary Tables?</h2>
<p>Temporary tables were added in the MySQL Version 3.23. If you use an older version of MySQL than 3.23, you cannot use the temporary tables, but you can use <b>Heap Tables</b>.</p>
<p>As stated earlier, temporary tables will only last as long as the session is alive. If you run the code in a PHP script, the temporary table will be destroyed automatically when the script finishes executing. If you are connected to the MySQL database server through the MySQL client program, then the temporary table will exist until you close the client or manually destroy the table.</p>
<h3>Example</h3>
<p>The following program is an example showing you the usage of the temporary table. The same code can be used in PHP scripts using the <b>mysql_query()</b> function.</p>
<pre class="prettyprint notranslate">
mysql&gt; CREATE TEMPORARY TABLE SalesSummary (
   -&gt; product_name VARCHAR(50) NOT NULL
   -&gt; , total_sales DECIMAL(12,2) NOT NULL DEFAULT 0.00
   -&gt; , avg_unit_price DECIMAL(7,2) NOT NULL DEFAULT 0.00
   -&gt; , total_units_sold INT UNSIGNED NOT NULL DEFAULT 0
);
Query OK, 0 rows affected (0.00 sec)

mysql&gt; INSERT INTO SalesSummary
   -&gt; (product_name, total_sales, avg_unit_price, total_units_sold)
   -&gt; VALUES
   -&gt; ('cucumber', 100.25, 90, 2);

mysql&gt; SELECT * FROM SalesSummary;
+--------------+-------------+----------------+------------------+
| product_name | total_sales | avg_unit_price | total_units_sold |
+--------------+-------------+----------------+------------------+
|   cucumber   |   100.25    |     90.00      |         2        |
+--------------+-------------+----------------+------------------+
1 row in set (0.00 sec)
</pre>
<p>When you issue a <b>SHOW TABLES</b> command, then your temporary table would not be listed out in the list. Now, if you will log out of the MySQL session and then you will issue a <b>SELECT</b> command, then you will find no data available in the database. Even your temporary table will not exist.</p>
<h2>Dropping Temporary Tables</h2>
<p>By default, all the temporary tables are deleted by MySQL when your database connection gets terminated. Still if you want to delete them in between, then you do so by issuing the <b>DROP TABLE</b> command.</p>
<p>The following program is an example on dropping a temporary table &minus;</p>
<pre class="prettyprint notranslate">
mysql&gt; CREATE TEMPORARY TABLE SalesSummary (
   -&gt; product_name VARCHAR(50) NOT NULL
   -&gt; , total_sales DECIMAL(12,2) NOT NULL DEFAULT 0.00
   -&gt; , avg_unit_price DECIMAL(7,2) NOT NULL DEFAULT 0.00
   -&gt; , total_units_sold INT UNSIGNED NOT NULL DEFAULT 0
);
Query OK, 0 rows affected (0.00 sec)

mysql&gt; INSERT INTO SalesSummary
   -&gt; (product_name, total_sales, avg_unit_price, total_units_sold)
   -&gt; VALUES
   -&gt; ('cucumber', 100.25, 90, 2);

mysql&gt; SELECT * FROM SalesSummary;
+--------------+-------------+----------------+------------------+
| product_name | total_sales | avg_unit_price | total_units_sold |
+--------------+-------------+----------------+------------------+
|   cucumber   |   100.25    |     90.00      |         2        |
+--------------+-------------+----------------+------------------+
1 row in set (0.00 sec)
mysql&gt; DROP TABLE SalesSummary;
mysql&gt;  SELECT * FROM SalesSummary;
ERROR 1146: Table 'TUTORIALS.SalesSummary' doesn't exist
</pre>
<h1>MySQL - Clone Tables</h1>
<p>There may be a situation when you need an exact copy of a table and <b>CREATE TABLE ... SELECT</b> doesn't suit your purposes because the copy must include the same indexes, default values and so forth.</p>
<p>You can handle this situation by following the steps given below &minus;</p>
<ul class="list">
<li><p>Use SHOW CREATE TABLE to get a CREATE TABLE statement that specifies the source table's structure, indexes and all.</p></li>
<li><p>Modify the statement to change the table name to that of the clone table and execute the statement. This way, you will have the exact clone table.</p></li>
<li><p>Optionally, if you need the table contents copied as well, issue an INSERT INTO ... SELECT statement, too.</p></li>
</ul>
<h3>Example</h3>
<p>Try out the following example to create a clone table for <b>tutorials_tbl</b>.</p>
<p><b>Step 1</b> &minus; Get the complete structure about the table.</p>
<pre class="prettyprint notranslate">
mysql&gt; SHOW CREATE TABLE tutorials_tbl \G;
*************************** 1. row ***************************
      Table: tutorials_tbl
Create Table: CREATE TABLE `tutorials_tbl` (
   `tutorial_id` int(11) NOT NULL auto_increment,
   `tutorial_title` varchar(100) NOT NULL default '',
   `tutorial_author` varchar(40) NOT NULL default '',
   `submission_date` date default NULL,
   PRIMARY KEY  (`tutorial_id`),
   UNIQUE KEY `AUTHOR_INDEX` (`tutorial_author`)
) TYPE = MyISAM
1 row in set (0.00 sec)

ERROR:
No query specified
</pre>
<p><b>Step 2</b> &minus; Rename this table and create another table.</p>
<pre class="prettyprint notranslate">
mysql&gt; CREATE TABLE `clone_tbl` (
   -&gt; `tutorial_id` int(11) NOT NULL auto_increment,
   -&gt; `tutorial_title` varchar(100) NOT NULL default '',
   -&gt; `tutorial_author` varchar(40) NOT NULL default '',
   -&gt; `submission_date` date default NULL,
   -&gt; PRIMARY KEY  (`tutorial_id`),
   -&gt; UNIQUE KEY `AUTHOR_INDEX` (`tutorial_author`)
-&gt; ) TYPE = MyISAM;
Query OK, 0 rows affected (1.80 sec)
</pre>
<p><b>Step 3</b> &minus; After executing step 2, you will create a clone table in your database. If you want to copy data from old table then you can do it by using INSERT INTO... SELECT statement.</p>
<pre class="prettyprint notranslate">
mysql&gt; INSERT INTO clone_tbl (tutorial_id,
   -&gt;                        tutorial_title,
   -&gt;                        tutorial_author,
   -&gt;                        submission_date)
   -&gt; SELECT tutorial_id,tutorial_title,
   -&gt;        tutorial_author,submission_date
   -&gt; FROM tutorials_tbl;
Query OK, 3 rows affected (0.07 sec)
Records: 3  Duplicates: 0  Warnings: 0
</pre>
<p>Finally, you will have an exact clone table as you wanted to have.</p>
<h1>MySQL - Database Info</h1>
<h2>Obtaining and Using MySQL Metadata</h2>
<p>There are three types of information, which you would like to have from MySQL.</p>
<ul class="list">
<li><p><b>Information about the result of queries</b> &minus; This includes the number of records affected by any SELECT, UPDATE or DELETE statement.</p></li>
<li><p><b>Information about the tables and databases</b> &minus; This includes information pertaining to the structure of the tables and the databases.</p></li>
<li><p><b>Information about the MySQL server</b> &minus; This includes the status of the database server, version number, etc.</p></li>
</ul>
<p>It is very easy to get all this information at the MySQL prompt, but while using PERL or PHP APIs, we need to call various APIs explicitly to obtain all this information.</p>
<h2>Obtaining the Number of Rows Affected by a Query</h2>
<p>Let is now see how to obtain this information.</p>
<h3>PERL Example</h3>
<p>In DBI scripts, the affected row count is returned by the <b>do( )</b> or by the <b>execute( )</b> command, depending on how you execute the query.</p>
<pre class="prettyprint notranslate">
# Method 1
# execute $query using do( )
my $count = $dbh-&gt;do ($query);
# report 0 rows if an error occurred
printf "%d rows were affected\n", (defined ($count) ? $count : 0);

# Method 2
# execute query using prepare( ) plus execute( )
my $sth = $dbh-&gt;prepare ($query);
my $count = $sth-&gt;execute ( );
printf "%d rows were affected\n", (defined ($count) ? $count : 0);
</pre>
<h3>PHP Example</h3>
<p>In PHP, invoke the <b>mysql_affected_rows( )</b> function to find out how many rows a query changed.</p>
<pre class="prettyprint notranslate">
$result_id = mysql_query ($query, $conn_id);
# report 0 rows if the query failed
$count = ($result_id ? mysql_affected_rows ($conn_id) : 0);
print ("$count rows were affected\n");
</pre>
<h2>Listing Tables and Databases</h2>
<p>It is very easy to list down all the databases and the tables available with a database server. Your result may be <b>null</b> if you don't have the sufficient privileges.</p>
<p>Apart from the method which is shown in the following code block, you can use <b>SHOW TABLES</b> or <b>SHOW DATABASES</b> queries to get the list of tables or databases either in PHP or in PERL.</p>
<h3>PERL Example</h3>
<pre class="prettyprint notranslate">
# Get all the tables available in current database.
my @tables = $dbh-&gt;tables ( );
foreach $table (@tables ){
   print "Table Name $table\n";
}
</pre>
<h3>PHP Example</h3>
<pre class="prettyprint notranslate">
&lt;?php
   $con = mysql_connect("localhost", "userid", "password");
   
   if (!$con) {
      die('Could not connect: ' . mysql_error());
   }

   $db_list = mysql_list_dbs($con);

   while ($db = mysql_fetch_object($db_list)) {
      echo $db-&gt;Database . "&lt;br /&gt;";
   }
   mysql_close($con);
?&gt;
</pre>
<h2>Getting Server Metadata</h2>
<p>There are a few important commands in MySQL which can be executed either at the MySQL prompt or by using any script like PHP to get various important information about the database server.</p>
<table class="table table-bordered">
<tr>
<th style="width:11%">S. No.</th>
<th style="text-align:center;">Command &amp; Description</th>
</tr>
<tr>
<td style="text-align:center;vertical-align:middle;">1</td>
<td><p><b>SELECT VERSION( )</b></p>
<p>Server version string</p>
</td>
</tr>
<tr>
<td style="text-align:center;vertical-align:middle;">2</td>
<td><p><b>SELECT DATABASE( )</b></p>
<p>Current database name (empty if none)</p>
</td>
</tr>
<tr>
<td style="text-align:center;vertical-align:middle;">3</td>
<td><p><b>SELECT USER( )</b></p>
<p>Current username</p>
</td>
</tr>
<tr>
<td style="text-align:center;vertical-align:middle;">4</td>
<td><p><b>SHOW STATUS</b></p>
<p>Server status indicators</p>
</td>
</tr>
<tr>
<td style="text-align:center;vertical-align:middle;">5</td>
<td><p><b>SHOW VARIABLES</b></p>
<p>Server configuration variables</p>
</td>
</tr>
</table>
<h1>Using MySQL Sequences</h1>
<p>A sequence is a set of integers 1, 2, 3, ... that are generated in order on a specific demand. Sequences are frequently used in the databases because many applications require each row in a table to contain a unique value and sequences provide an easy way to generate them.</p> 
<p>This chapter describes how to use sequences in MySQL.</p>
<h2>Using AUTO_INCREMENT Column</h2>
<p>The simplest way in MySQL to use Sequences is to define a column as <b>AUTO_INCREMENT</b> and leave the remaining things to MySQL to take care.</p>
<h3>Example</h3>
<p>Try out the following example. This will create table and after that it will insert few rows in this table where it is not required to give record ID because it is auto incremented by MySQL.</p>
<pre class="prettyprint notranslate">
mysql&gt; CREATE TABLE insect
   -&gt; (
   -&gt; id INT UNSIGNED NOT NULL AUTO_INCREMENT,
   -&gt; PRIMARY KEY (id),
   -&gt; name VARCHAR(30) NOT NULL, # type of insect
   -&gt; date DATE NOT NULL, # date collected
   -&gt; origin VARCHAR(30) NOT NULL # where collected
);
Query OK, 0 rows affected (0.02 sec)
mysql&gt; INSERT INTO insect (id,name,date,origin) VALUES
   -&gt; (NULL,'housefly','2001-09-10','kitchen'),
   -&gt; (NULL,'millipede','2001-09-10','driveway'),
   -&gt; (NULL,'grasshopper','2001-09-10','front yard');
Query OK, 3 rows affected (0.02 sec)
Records: 3  Duplicates: 0  Warnings: 0
mysql&gt; SELECT * FROM insect ORDER BY id;
+----+-------------+------------+------------+
| id |    name     |    date    |   origin   |
+----+-------------+------------+------------+
|  1 |  housefly   | 2001-09-10 |   kitchen  |
|  2 |  millipede  | 2001-09-10 |  driveway  |
|  3 | grasshopper | 2001-09-10 | front yard |
+----+-------------+------------+------------+
3 rows in set (0.00 sec)
</pre>
<h2>Obtain AUTO_INCREMENT Values</h2>
<p>The <b>LAST_INSERT_ID( )</b> is a SQL function, so you can use it from within any client that understands how to issue SQL statements. Otherwise, PERL and PHP scripts provide exclusive functions to retrieve the auto incremented value of the last record.</p>
<h3>PERL Example</h3>
<p>Use the <b>mysql_insertid</b> attribute to obtain the <b>AUTO_INCREMENT</b> value generated by a query. This attribute is accessed through either a database handle or a statement handle, depending on how you issue the query.</p>
<p>The following example references it through the database handle.</p>
<pre class="prettyprint notranslate">
$dbh-&gt;do ("INSERT INTO insect (name,date,origin)
VALUES('moth','2001-09-14','windowsill')");
my $seq = $dbh-&gt;{mysql_insertid};
</pre>
<h3>PHP Example</h3>
<p>After issuing a query that generates an AUTO_INCREMENT value, retrieve the value by calling the <b>mysql_insert_id( )</b> command.</p>
<pre class="prettyprint notranslate">
mysql_query ("INSERT INTO insect (name,date,origin)
VALUES('moth','2001-09-14','windowsill')", $conn_id);
$seq = mysql_insert_id ($conn_id);
</pre>
<h2>Renumbering an Existing Sequence</h2>
<p>There may be a case when you have deleted many records from a table and you want to re-sequence all the records. This can be done by using a simple trick, but you should be very careful to do so if your table is having joins with the other table.</p>
<p>If you determine that the resequencing of an AUTO_INCREMENT column is unavoidable, the way to do it is to drop the column from the table, then add it again.</p>
<p>The following example shows how to renumber the <b>id values</b> in the table using this technique.</p>
<pre class="prettyprint notranslate">
mysql&gt; ALTER TABLE insect DROP id;
mysql&gt; ALTER TABLE insect
   -&gt; ADD id INT UNSIGNED NOT NULL AUTO_INCREMENT FIRST,
   -&gt; ADD PRIMARY KEY (id);
</pre>
<h3>Starting a Sequence at a Particular Value</h3>
<p>By default, MySQL will start sequence from 1, but you can specify any other number as well at the time of the table creation.</p>
<p>The following program is an example which shows how MySQL will start the sequence from 100.</p>
<pre class="prettyprint notranslate">
mysql&gt; CREATE TABLE insect
   -&gt; (
   -&gt; id INT UNSIGNED NOT NULL AUTO_INCREMENT = 100,
   -&gt; PRIMARY KEY (id),
   -&gt; name VARCHAR(30) NOT NULL, # type of insect
   -&gt; date DATE NOT NULL, # date collected
   -&gt; origin VARCHAR(30) NOT NULL # where collected
);
</pre>
<p>Alternatively, you can create the table and then set the initial sequence value with the <b>ALTER TABLE</b> command.</p>
<pre class="prettyprint notranslate">
mysql&gt; ALTER TABLE t AUTO_INCREMENT = 100;
</pre>
<h1>MySQL - Handling Duplicates</h1>
<p>Generally, tables or result sets sometimes contain duplicate records. Most of the times it is allowed but sometimes it is required to stop duplicate records. It is required to identify duplicate records and remove them from the table. This chapter will describe how to prevent the occurrence of duplicate records in a table and how to remove the already existing duplicate records.</p>
<h2>Preventing Duplicates from Occurring in a Table</h2>
<p>You can use a <b>PRIMARY KEY</b> or a <b>UNIQUE</b> Index on a table with the appropriate fields to stop duplicate records.</p>
<p>Let us take an example  The following table contains no such index or primary key, so it would allow duplicate records for <b>first_name</b> and <b>last_name</b>.</p>
<pre class="prettyprint notranslate">
CREATE TABLE person_tbl (
   first_name CHAR(20),
   last_name CHAR(20),
   sex CHAR(10)
);
</pre>
<p>To prevent multiple records with the same first and last name values from being created in this table, add a <b>PRIMARY KEY</b> to its definition. When you do this, it is also necessary to declare the indexed columns to be <b>NOT NULL</b>, because a <b>PRIMARY KEY</b> does not allow <b>NULL</b> values &minus;</p>
<pre class="prettyprint notranslate">
CREATE TABLE person_tbl (
   first_name CHAR(20) NOT NULL,
   last_name CHAR(20) NOT NULL,
   sex CHAR(10),
   PRIMARY KEY (last_name, first_name)
);
</pre>
<p>The presence of a unique index in a table normally causes an error to occur if you insert a record into the table that duplicates an existing record in the column or columns that define the index.</p>
<p>Use the <b>INSERT IGNORE</b> command rather than the <b>INSERT</b> command. If a record doesn't duplicate an existing record, then MySQL inserts it as usual. If the record is a duplicate, then the <b>IGNORE</b> keyword tells MySQL to discard it silently without generating an error.</p>
<p>The following example does not error out and at the same time it will not insert duplicate records as well.</p>
<pre class="prettyprint notranslate">
mysql&gt; INSERT IGNORE INTO person_tbl (last_name, first_name)
   -&gt; VALUES( 'Jay', 'Thomas');
Query OK, 1 row affected (0.00 sec)

mysql&gt; INSERT IGNORE INTO person_tbl (last_name, first_name)
   -&gt; VALUES( 'Jay', 'Thomas');
Query OK, 0 rows affected (0.00 sec)
</pre>
<p>Use the <b>REPLACE</b> command rather than the INSERT command. If the record is new, it is inserted just as with INSERT. If it is a duplicate, the new record replaces the old one.</p>
<pre class="prettyprint notranslate">
mysql&gt; REPLACE INTO person_tbl (last_name, first_name)
   -&gt; VALUES( 'Ajay', 'Kumar');
Query OK, 1 row affected (0.00 sec)

mysql&gt; REPLACE INTO person_tbl (last_name, first_name)
   -&gt; VALUES( 'Ajay', 'Kumar');
Query OK, 2 rows affected (0.00 sec)
</pre>
<p>The INSERT IGNORE and REPLACE commands should be chosen as per the duplicate-handling behavior you want to effect. The INSERT IGNORE command keeps the first set of the duplicated records and discards the remaining. The REPLACE command keeps the last set of duplicates and erases out any earlier ones.</p>
<p>Another way to enforce uniqueness is to add a <b>UNIQUE</b> index rather than a PRIMARY KEY to a table.</p>
<pre class="prettyprint notranslate">
CREATE TABLE person_tbl (
   first_name CHAR(20) NOT NULL,
   last_name CHAR(20) NOT NULL,
   sex CHAR(10)
   UNIQUE (last_name, first_name)
);
</pre>
<h2>Counting and Identifying Duplicates</h2>
<p>Following is the query to count duplicate records with first_name and last_name in a table.</p>
<pre class="prettyprint notranslate">
mysql&gt; SELECT COUNT(*) as repetitions, last_name, first_name
   -&gt; FROM person_tbl
   -&gt; GROUP BY last_name, first_name
   -&gt; HAVING repetitions &gt; 1;
</pre>
<p>This query will return a list of all the duplicate records in the person_tbl table. In general, to identify sets of values that are duplicated, follow the steps given below.</p>
<ul class="list">
<li><p>Determine which columns contain the values that may be duplicated.</p></li>
<li><p>List those columns in the column selection list, along with the <b>COUNT(*)</b>.</p></li>
<li><p>List the columns in the <b>GROUP BY</b> clause as well.</p></li>
<li><p>Add a <b>HAVING</b> clause that eliminates the unique values by requiring the group counts to be greater than one.</p></li>
</ul>
<h2>Eliminating Duplicates from a Query Result</h2>
<p>You can use the <b>DISTINCT</b> command along with the SELECT statement to find out unique records available in a table.</p>
<pre class="prettyprint notranslate">
mysql&gt; SELECT DISTINCT last_name, first_name
   -&gt; FROM person_tbl
   -&gt; ORDER BY last_name;
</pre>
<p>An alternative to the DISTINCT command is to add a GROUP BY clause that names the columns you are selecting. This has the effect of removing duplicates and selecting only the unique combinations of values in the specified columns.</p>
<pre class="prettyprint notranslate">
mysql&gt; SELECT last_name, first_name
   -&gt; FROM person_tbl
   -&gt; GROUP BY (last_name, first_name);
</pre>
<h2>Removing Duplicates Using Table Replacement</h2>
<p>If you have duplicate records in a table and you want to remove all the duplicate records from that table, then follow the procedure given below.</p>
<pre class="prettyprint notranslate">
mysql&gt; CREATE TABLE tmp SELECT last_name, first_name, sex
   -&gt;                  FROM person_tbl;
   -&gt;                  GROUP BY (last_name, first_name);

mysql&gt; DROP TABLE person_tbl;
mysql&gt; ALTER TABLE tmp RENAME TO person_tbl;
</pre>
<p>An easy way of removing duplicate records from a table is to add an INDEX or a PRIMARY KEY to that table. Even if this table is already available, you can use this technique to remove the duplicate records and you will be safe in future as well.</p>
<pre class="prettyprint notranslate">
mysql&gt; ALTER IGNORE TABLE person_tbl
   -&gt; ADD PRIMARY KEY (last_name, first_name);
</pre>
<h1>MySQL - and SQL Injection</h1>
<p>If you take user input through a webpage and insert it into a MySQL database, there's a chance that you have left yourself wide open for a security issue known as <b>SQL Injection</b>. This chapter will teach you how to help prevent this from happening and help you secure your scripts and MySQL statements.</p>
<p>The SQL Injection usually occurs when you ask a user for input, like their name and instead of a name they give you a MySQL statement that you will unknowingly run on your database.</p>
<p>Never trust the data provided by a user, process this data only after validation; as a rule, this is done by pattern matching. In the following example, the username is restricted to alphanumerical characters plus underscore and to a length between 8 and 20 characters  modify these rules as needed.</p>
<pre class="prettyprint notranslate">
if (preg_match("/^\w{8,20}$/", $_GET['username'], $matches)) {
   $result = mysql_query("SELECT * FROM users 
                          WHERE username=$matches[0]");
} else  {
   echo "username not accepted";
}
</pre>
<p>To demonstrate this problem, consider the following excerpt.</p>
<pre class="prettyprint notranslate">
// supposed input
$name = "Qadir'; DELETE FROM users;";
mysql_query("SELECT * FROM users WHERE name = '{$name}'");
</pre>
<p>The function call is supposed to retrieve a record from the users table, where the name column matches the name specified by the user. Under normal circumstances, $name would only contain alphanumeric characters and perhaps spaces. But here, by appending an entirely new query to <b>$name</b>, the call to the database turns into a disaster. The injected DELETE query removes all the records from users.</p>
<p>Fortunately, if you use MySQL, the <b>mysql_query()</b> function does not permit query stacking or executing multiple queries in a single function call. If you try to stack queries, the call fails.</p>
<p>However, other PHP database extensions, such as <b>SQLite</b> and <b>PostgreSQL</b>, happily perform stacked queries, executing all the queries provided in one string and creating a serious security problem.</p>
<h2>Preventing SQL Injection</h2>
<p>You can handle all escape characters smartly in scripting languages like PERL and PHP. The MySQL extension for PHP provides the function <b>mysql_real_escape_string()</b> to escape input characters that are special to MySQL.</p>
<pre class="prettyprint notranslate">
if (get_magic_quotes_gpc()) {
   $name = stripslashes($name);
}

$name = mysql_real_escape_string($name);
mysql_query("SELECT * FROM users WHERE name = '{$name}'");
</pre>
<h2>The LIKE Quandary</h2>
<p>To address the LIKE quandary, a custom escaping mechanism must convert user-supplied % and _ characters to literals. Use <b>addcslashes()</b>, a function that lets you specify a character range to escape.</p>
<pre class="prettyprint notranslate">
$sub = addcslashes(mysql_real_escape_string("%something_"), "%_");
// $sub == \%something\_
mysql_query("SELECT * FROM messages WHERE subject LIKE '{$sub}%'");
</pre>
<h1>MySQL - Database Export</h1>
<p>The simplest way of exporting a table data into a text file is by using the <b>SELECT...INTO OUTFILE</b> statement that exports a query result directly into a file on the server host.</p>
<h2>Exporting Data with the SELECT ... INTO OUTFILE Statement</h2>
<p>The syntax for this statement combines a regular <b>SELECT</b> command with <b>INTO OUTFILE filename</b> at the end. The default output format is the same as it is for the LOAD DATA command. So, the following statement exports the <b>tutorials_tbl</b> table into <b>/tmp/tutorials.txt</b> as a tab-delimited, linefeed-terminated file.</p>
<pre class="prettyprint notranslate">
mysql&gt; SELECT * FROM tutorials_tbl 
   -&gt; INTO OUTFILE '/tmp/tutorials.txt';
</pre>
<p>You can change the output format using various options to indicate how to quote and delimit columns and records. To export the tutorial_tbl table in a CSV format with CRLF-terminated lines, use the following code.</p>
<pre class="prettyprint notranslate">
mysql&gt; SELECT * FROM passwd INTO OUTFILE '/tmp/tutorials.txt'
   -&gt; FIELDS TERMINATED BY ',' ENCLOSED BY '"'
   -&gt; LINES TERMINATED BY '\r\n';
</pre>
<p>The <b>SELECT ... INTO OUTFILE</b> has the following properties &minus;</p>
<ul class="list">
<li><p>The output file is created directly by the MySQL server, so the filename should indicate where you want the file to be written on the server host. There is no LOCAL version of the statement analogous to the <b>LOCAL</b> version of <b>LOAD DATA</b>.</p></li>
<li><p>You must have the <b>MySQL FILE</b> privilege to execute the <b>SELECT ... INTO</b> statement.</p></li>
<li><p>The output file must not already exist. This prevents MySQL from clobbering files that may be important.</p></li>
<li><p>You should have a login account on the server host or some way to retrieve the file from that host. Otherwise, the <b>SELECT ... INTO OUTFILE</b> command will most likely be of no value to you.</p></li>
<li><p>Under UNIX, the file is created <b>world readable</b> and is owned by the MySQL server. This means that although you will be able to read the file, you may not be able to delete it.</p></li>
</ul>
<h2>Exporting Tables as Raw Data</h2>
<p>The <b>mysqldump</b> program is used to copy or back up tables and databases. It can write the table output either as a <b>Raw Datafile</b> or as a set of <b>INSERT</b> statements that recreate the records in the table.</p>
<p>To dump a table as a datafile, you must specify a <b>--tab</b> option that indicates the directory, where you want the MySQL server to write the file.</p>
<p>For example, to dump the <b>tutorials_tbl</b> table from the <b>TUTORIALS</b> database to a file in the <b>/tmp</b> directory, use a command as shown below.</p>
<pre class="prettyprint notranslate">
$ mysqldump -u root -p --no-create-info \
   --tab = /tmp TUTORIALS tutorials_tbl
password ******
</pre>
<h2>Exporting Table Contents or Definitions in SQL Format</h2>
<p>To export a table in SQL format to a file, use the command shown below.</p>
<pre class="prettyprint notranslate">
$ mysqldump -u root -p TUTORIALS tutorials_tbl &gt; dump.txt
password ******
</pre>
<p>This will a create file having content as shown below.</p>
<hr />
<pre class="prettyprint notranslate">
-- MySQL dump 8.23
--
-- Host: localhost    Database: TUTORIALS
---------------------------------------------------------
-- Server version       3.23.58

--
-- Table structure for table `tutorials_tbl`
--

CREATE TABLE tutorials_tbl (
   tutorial_id int(11) NOT NULL auto_increment,
   tutorial_title varchar(100) NOT NULL default '',
   tutorial_author varchar(40) NOT NULL default '',
   submission_date date default NULL,
   PRIMARY KEY  (tutorial_id),
   UNIQUE KEY AUTHOR_INDEX (tutorial_author)
) TYPE = MyISAM;

--
-- Dumping data for table `tutorials_tbl`
--

INSERT INTO tutorials_tbl 
   VALUES (1,'Learn PHP','John Poul','2007-05-24');
INSERT INTO tutorials_tbl 
   VALUES (2,'Learn MySQL','Abdul S','2007-05-24');
INSERT INTO tutorials_tbl 
   VALUES (3,'JAVA Tutorial','Sanjay','2007-05-06');
</pre>
<p>To dump multiple tables, name them all followed by the database name argument. To dump an entire database, don't name any tables after the database as shown in the following code block.</p>
<pre class="prettyprint notranslate">
$ mysqldump -u root -p TUTORIALS &gt; database_dump.txt
password ******
</pre>
<p>To back up all the databases available on your host, use the following code.</p>
<pre class="prettyprint notranslate">
$ mysqldump -u root -p --all-databases &gt; database_dump.txt
password ******
</pre>
<p>The --all-databases option is available in the MySQL 3.23.12 version. This method can be used to implement a database backup strategy.</p>
<h2>Copying Tables or Databases to Another Host</h2>
<p>If you want to copy tables or databases from one MySQL server to another, then use the <b>mysqldump</b> with database name and table name.</p>
<p>Run the following command at the source host. This will dump the complete database into <b>dump.txt</b> file.</p>
<pre class="prettyprint notranslate">
$ mysqldump -u root -p database_name table_name &gt; dump.txt
password *****
</pre>
<p>You can copy complete database without using a particular table name as explained above.</p>
<p>Now, ftp dump.txt file on another host and use the following command. Before running this command, make sure you have created database_name on destination server.</p>
<pre class="prettyprint notranslate">
$ mysql -u root -p database_name &lt; dump.txt
password *****
</pre>
<p>Another way to accomplish this without using an intermediary file is to send the output of the mysqldump directly over the network to the remote MySQL server. If you can connect to both the servers from the host where the source database resides, use the following command (Make sure you have access on both the servers).</p>
<pre class="prettyprint notranslate">
$ mysqldump -u root -p database_name \
   | mysql -h other-host.com database_name
</pre>
<p>In mysqldump, half of the command connects to the local server and writes the dump output to the pipe. The remaining half of the command connects to the remote MySQL server on the other-host.com. It reads the pipe for input and sends each statement to the other-host.com server.</p>
<h1>MySQL - Database Import - Recovery Methods</h1>
<p>There are two simple ways in MySQL to load data into the MySQL database from a previously backed up file.</p>
<h2>Importing Data with LOAD DATA</h2>
<p>MySQL provides a LOAD DATA statement that acts as a bulk data loader. Here is an example statement that reads a file <b>dump.txt</b> from your current directory and loads it into the table <b>mytbl</b> in the current database.</p>
<pre class="prettyprint notranslate">
mysql&gt; LOAD DATA LOCAL INFILE 'dump.txt' INTO TABLE mytbl;
</pre>
<ul class="list">
<li><p>If the <b>LOCAL</b> keyword is not present, MySQL looks for the datafile on the server host using the <b>looking into absolute pathname</b>, which fully specifies the location of the file, beginning from the root of the filesystem. MySQL reads the file from the given location.</p></li>
<li> <p>By default, <b>LOAD DATA</b> assumes that datafiles contain lines that are terminated by linefeeds (newlines) and that data values within a line are separated by tabs.</p></li>
<li><p>To specify a file format explicitly, use a <b>FIELDS</b> clause to describe the characteristics of fields within a line, and a <b>LINES</b> clause to specify the line-ending sequence. The following <b>LOAD DATA</b> statement specifies that the datafile contains values separated by colons and lines terminated by carriage returns and new line character.</p></li>
</ul>
<pre class="prettyprint notranslate">
mysql&gt; LOAD DATA LOCAL INFILE 'dump.txt' INTO TABLE mytbl
   -&gt; FIELDS TERMINATED BY ':'
   -&gt; LINES TERMINATED BY '\r\n';
</pre>
<ul class="list">
<li><p>The LOAD DATA command assumes the columns in the datafile have the same order as the columns in the table. If that is not true, you can specify a list to indicate which table columns the datafile columns should be loaded into. Suppose your table has columns a, b, and c, but successive columns in the datafile correspond to columns b, c, and a.</p></li>
</ul>
<p>You can load the file as shown in the following code block.</p>
<pre class="prettyprint notranslate">
mysql&gt; LOAD DATA LOCAL INFILE 'dump.txt' 
   -&gt; INTO TABLE mytbl (b, c, a);
</pre>
<h2>Importing Data with mysqlimport</h2>
<p>MySQL also includes a utility program named <b>mysqlimport</b> that acts as a wrapper around LOAD DATA, so that you can load the input files directly from the command line.</p>
<p>To load data from the <b>dump.txt</b> into <b>mytbl</b>, use the following command at the UNIX prompt.</p>
<pre class="prettyprint notranslate">
$ mysqlimport -u root -p --local database_name dump.txt
password *****
</pre>
<p>If you use <b>mysqlimport</b>, command-line options provide the format specifiers. The <b>mysqlimport</b> commands that correspond to the preceding two <b>LOAD DATA</b> statements looks as shown in the following code block.</p>
<pre class="prettyprint notranslate">
$ mysqlimport -u root -p --local --fields-terminated-by = ":" \
   --lines-terminated-by = "\r\n"  database_name dump.txt
password *****
</pre>
<p>The order in which you specify the options doesn't matter for mysqlimport, except that they should all precede the database name.</p>
<p>The <b>mysqlimport</b> statement uses the <b>--columns</b> option to specify the column order &minus;</p>
<pre class="prettyprint notranslate">
$ mysqlimport -u root -p --local --columns=b,c,a \
    database_name dump.txt
password *****
</pre>
<h2>Handling Quotes and Special Characters</h2>
<p>The FIELDS clause can specify other format options besides <b>TERMINATED BY</b>. By default, LOAD DATA assumes that values are unquoted and interprets the backslash (\) as an escape character for the special characters. To indicate the value quoting character explicitly, use the <b>ENCLOSED BY</b> command. MySQL will strip that character from the ends of data values during input processing. To change the default escape character, use <b>ESCAPED BY</b>.</p>
<p>When you specify ENCLOSED BY to indicate that quote characters should be stripped from data values, it is possible to include the quote character literally within data values by doubling it or by preceding it with the escape character.</p>
<p>For example, if the quote and escape characters are " and \, the input value <b>"a""b\"c"</b> will be interpreted as <b>a"b"c</b>.</p>
<p>For <b>mysqlimport</b>, the corresponding command-line options for specifying quote and escape values are <b>--fields-enclosed-by</b> and <b>--fields-escaped-by</b>.</p>
<hr />
<div class="pre-btn">
<a href="mysql-useful-functions.html"><i class="icon icon-arrow-circle-o-left big-font"></i> Previous Page</a>
</div>
<div class="print-btn center">
<a href="../cgi-bin/printpage.html" target="_blank"><i class="icon icon-print big-font"></i> Print</a>
</div>
<div class="nxt-btn">
<a href="mysql-useful-resources.html">Next Page <i class="icon icon-arrow-circle-o-right big-font"></i>&nbsp;</a>
</div>
<hr />
<!-- PRINTING ENDS HERE -->
<div class="bottomgooglead">
<div class="bottomadtag">Advertisements</div>
<script type="text/javascript"><!--
var width = 580;
var height = 400;
var format = "580x400_as";
if( window.innerWidth < 468 ){
   width = 300;
   height = 250;
   format = "300x250_as";
}
google_ad_client = "pub-7133395778201029";
google_ad_width = width;
google_ad_height = height;
google_ad_format = format;
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
</div>
</div>
<div class="row">
<div class="col-md-3" id="rightbar">
<div class="simple-ad">
<a href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.facebook.com/sharer.php?u=' + 'http://www.tutorialspoint.com/mysql/mysql-quick-guide.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/facebookIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://twitter.com/share?url=' + 'http://www.tutorialspoint.com/mysql/mysql-quick-guide.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/twitterIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.linkedin.com/cws/share?url=' + 'http://www.tutorialspoint.com/mysql/mysql-quick-guide.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/linkedinIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://plus.google.com/share?url=http://www.tutorialspoint.com/mysql/mysql-quick-guide.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/googlePlusIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.stumbleupon.com/submit?url=http://www.tutorialspoint.com/mysql/mysql-quick-guide.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/StumbleUponIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://reddit.com/submit?url=http://www.tutorialspoint.com/mysql/mysql-quick-guide.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=656,top='+sTop+',left='+sLeft);return false;">
<img src="../images/reddit.jpg" alt="img" />
</a>
</div>
<div class="rightgooglead">
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 300;
google_ad_height = 250;
google_ad_format = "300x250_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
<div class="rightgooglead">
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 300;
google_ad_height = 600;
google_ad_format = "300x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
<div class="rightgooglead">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-2537027957187252";
/* Right Side Ad */
google_ad_slot = "right_side_ad";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
</div>
</div>
</div>
</div>
</div>

<div class="footer-copyright">
<div class="container">
<div class="row">
<div class="col-md-1">
<a href="../index-2.html" class="logo"> <img alt="Tutorials Point" class="img-responsive" src="../scripts/img/logo-footer.png"> </a>
</div>
<div class="col-md-4 col-sm-12 col-xs-12">
   <nav id="sub-menu">
      <ul>
         <li><a href="../about/tutorials_writing.html">Write for us</a></li>
         <li><a href="../about/faq.html">FAQ's</a></li>
         <li><a href="../about/about_helping.html">Helping</a></li>
         <li><a href="../about/contact_us.html">Contact</a></li>
      </ul>
   </nav>
</div>
<div class="col-md-3 col-sm-12 col-xs-12">
<p>&copy; Copyright 2017. All Rights Reserved.</p>
</div>
<div class="col-md-4 col-sm-12 col-xs-12">
   <div class="news-group">
      <input type="text" class="form-control-foot search" name="textemail" id="textemail" autocomplete="off" placeholder="Enter email for newsletter" onfocus="if (this.value == 'Enter email for newsletter...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Enter email for newsletter...';}">
      <span class="input-group-btn"> <button class="btn btn-default btn-footer" id="btnemail" type="submit" onclick="javascript:void(0);">go</button> </span>
      <div id="newsresponse"></div>
   </div>
</div>
</div>
</div>
</div>
</div>
<!-- Libs -->
<script type="text/javascript" src="../theme/js/custom-minae52.js?v=5"></script>
<script src="../../www.google-analytics.com/urchin.js">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
$('.pg-icon').click(function(){
   $('.wrapLoader').show();
});
</script>
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "MySQL Quick Guide",
    "name": "MySQL Quick Guide",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://www.tutorialspoint.com/mysql/mysql-quick-guide.htm"
    },
    "image": {
        "@type": "ImageObject",
        "url": "https://www.tutorialspoint.com/mysql/images/mysql-mini-logo.jpg",
        "width": 255,
        "height": 194
    },
    "author": {
        "@type": "Organization",
        "name": "Tutorials Point",
        "url": "https://www.tutorialspoint.com",
        "logo": {
            "@type": "ImageObject",
            "url": "https://www.tutorialspoint.com/images/logo60.png",
            "width": 210,
            "height": 60
        }
    },
    "datePublished": "July 23 2017 03:34:50.",
    "dateModified": "July 23 2017 03:34:50.",
    "publisher": {
        "@type": "Organization",
        "name": "Tutorials Point",
        "url": "https://www.tutorialspoint.com",
        "logo": {
            "@type": "ImageObject",
            "url": "https://www.tutorialspoint.com/images/logo60.png",
            "width": 210,
            "height": 60
        }
    },
    "description": "A database is a separate application that stores a collection of data. Each database has one or more distinct APIs for creating, accessing, managing, searching and replicating the data it holds...."
}
</script><script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
        {
            "@type": "ListItem",
            "position": 1,
            "item": {
                "name": "www.tutorialspoint.com",
                "@id": "https://www.tutorialspoint.com"
            }
        },
        {
            "@type": "ListItem",
            "position": 2,
            "item": {
                "name": "Database Tutorials",
                "@id": "https://www.tutorialspoint.com/database_tutorials.htm"
            }
        },
        {
            "@type": "ListItem",
            "position": 3,
            "item": {
                "name": "Mysql",
                "@id": "https://www.tutorialspoint.com/mysql"
            }
        },
        {
            "@type": "ListItem",
            "position": 4,
            "item": {
                "name": "MySQL - Quick Guide"
            }
        }
    ]
}
</script></div>
</body>

<!-- Mirrored from www.tutorialspoint.com/mysql/mysql-quick-guide.htm by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Aug 2017 15:30:14 GMT -->
</html>
