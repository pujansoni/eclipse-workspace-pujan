<!DOCTYPE html>
<!--[if IE 8]><html class="ie ie8"> <![endif]-->
<!--[if IE 9]><html class="ie ie9"> <![endif]-->
<!--[if gt IE 9]><!-->	<html> <!--<![endif]-->

<!-- Mirrored from www.tutorialspoint.com/servlets/servlets-quick-guide.htm by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Aug 2017 15:19:52 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<!-- Basic -->
<meta charset="utf-8">
<title>Servlets Quick Guide</title>
<meta name="description" content="Servlets Quick Guide - Learning Java Servlets in simple and easy steps using this beginner's tutorial containing basic to advanced knowledge of Java Servlet Technology including Form Data, HTTP Request Header, Response Header, Status Codes, Cookies Handling and Session Tracking." />
<meta name="keywords" content="Servlets, Tutorials, Learning, Beginners, Basics, Environment, Life Cycle, Examples, Client Request, Server Response, Http Codes, Writing Filters, Exceptions, Cookies, Sessions, Database Access, File Uploading, File Uploading, Internationalization." />
<base  />
<link rel="shortcut icon" href="../favicon.ico" type="image/x-icon" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes">
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="website" />
<meta property="fb:app_id" content="471319149685276" />
<meta property="og:site_name" content="www.tutorialspoint.com" />
<meta name="robots" content="index, follow"/>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="author" content="tutorialspoint.com">
<script type="text/javascript" src="../theme/js/script-min-v4.js"></script>
<link rel="stylesheet" href="../theme/css/style-min5e1f.css?v=2">
<!-- Head Libs -->
<!--[if IE 8]>
<link rel="stylesheet" type="text/css" href="/theme/css/ie8.css">
<![endif]-->
<style>
select{ border:0 !important; outline: 1px inset black !important; outline-offset: -1px !important; }
ul.nav-list.primary>li a.videolink{    background: none; margin: 0px; padding: 0px; border: 1px solid #d6d6d6;}
div.feature-box div.feature-box-icon, .col-md-3 .course-box, li.heading, div.footer-copyright { background: #d42426 url(../images/pattern.png) repeat center center !important;}
.sub-main-menu .sub-menuu div:hover, .sub-main-menu .viewall, header nav ul.nav-main li a:hover, button.btn-responsive-nav, header div.search button.btn-default { background: #d42426 !important;}
.submenu-item{ border-bottom: 2px solid #d42426 !important; border-top: 2px solid #d42426 !important }
.ace_scroller{overflow: auto!important;}
</style>
<script>
$(document).ready(function() {
  $('input[name="q"]').keydown(function(event){
    if(event.keyCode == 13) {
      event.preventDefault();
      return false;
    }
  });
});
</script>
</head>
<body onload="prettyPrint()">
<div class="wrapLoader">
   <div class="imgLoader">
      <img  src="../images/loading-cg.gif" alt="" width="70" height="70" />
   </div>
</div>
<header>
   <div class="container">			
      <h1 class="logo">
      <a href="../index-2.html" title="tutorialspoint">
      <img alt="tutorialspoint" src="images/logo.png">
      </a>
      </h1>			
      <nav>
         <ul class="nav nav-pills nav-top">
            <li><a href="../about/about_careers.html" style="background: #fffb09; font-weight: bold;"><i class="icon icon-suitcase"></i> Jobs</a></li>
            <li> <a href="http://www.sendfiles.net/"><i class="fa fa-send"></i> &nbsp;SENDFiles</a> </li>
            <li> <a href="../whiteboard.html"><img src="../theme/css/icons/image-editor.png" alt="Whiteboard" title="Whiteboard"> &nbsp;Whiteboard</a> </li>
            <li> <a href="../netmeeting.html"><i class="fa-camera"></i> &nbsp;Net Meeting</a> </li>
            <li> <a href="../online_dev_tools.html"> <i class="dev-tools-menu" style="opacity:.5"></i> Tools </a> </li>
            <li> <a href="../articles/index.html"><i class="icon icon-file-text-o"></i> &nbsp;Articles</a> </li>            
            <li class="top-icons">
              <ul class="social-icons">
              <li class="facebook"><a href="https://www.facebook.com/tutorialspointindia" target="_blank" data-placement="bottom" title="tutorialspoint @ Facebook">Facebook</a></li>
              <li class="googleplus"><a href="https://plus.google.com/u/0/116678774017490391259/posts" target="_blank" data-placement="bottom" title="tutorialspoint @ Google+">Google+</a></li>
              <li class="twitter"><a href="https://www.twitter.com/tutorialspoint" target="_blank" data-placement="bottom" title="tutorialspoint @ Twitter">Twitter</a></li>
              <li class="linkedin"><a href="https://www.linkedin.com/company/tutorialspoint" target="_blank" data-placement="bottom" title="tutorialspoint @ Linkedin">Linkedin</a></li>
              <li class="youtube"><a href="https://www.youtube.com/channel/UCVLbzhxVTiTLiVKeGV7WEBg" target="_blank" data-placement="bottom" title="tutorialspoint YouTube">YouTube</a></li>
              </ul>
           </li>
         </ul>
      </nav>
         <!-- search code here  --> 
      <button class="btn btn-responsive-nav btn-inverse" data-toggle="collapse" data-target=".nav-main-collapse" id="pull" style="top: 24px!important"> <i class="icon icon-bars"></i> </button>
   </div>
  
   <div class="navbar nav-main">
      <div class="container">
         <nav class="nav-main mega-menu">
            <ul class="nav nav-pills nav-main" id="mainMenu">
               <li class="dropdown no-sub-menu"> <a class="dropdown" href="../index-2.html"><i class="icon icon-home"></i> Home</a> </li>   
               <li class="dropdown" id="liTL"><a class="dropdown" href="javascript:void(0);"><span class="tut-lib"> Tutorials Library <i class="fa-caret-down"></i></span></a></li>
               <li class="dropdown no-sub-menu"><a class="dropdown" href="../codingground.html"><i class="fa-code"></i> Coding Ground </a> </li>
               <li class="dropdown no-sub-menu"><a class="dropdown" href="../tutor_connect/index.html"><i class="fa-user"> </i> Tutor Connect</a></li>
               <li class="dropdown no-sub-menu"><a class="dropdown" href="../videotutorials/index.html"><i class="fa-toggle-right"></i> Videos </a></li>
               <li class="dropdown no-sub-menu">
                  <div class="searchform-popup">
                     <input class="header-search-box" type="text" id="search-string" name="q" placeholder="Search your favorite tutorials..." onfocus="if (this.value == 'Search your favorite tutorials...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search your favorite tutorials...';}" autocomplete="off">
                     <div class="magnifying-glass"><i class="icon-search"></i> Search </div>
                 </div>
               </li>
            </ul>
         </nav>
         <div class="submenu-item sub-main-menu" id="top-sub-menu"></div>
         
      </div>
   </div>	
</header>
<div style="clear:both;"></div>
<div role="main" class="main">
<div class="container">
<div class="row">
<div class="col-md-2">
<aside class="sidebar">
<div class="mini-logo">
<img src="images/servlets-mini-logo.jpg" alt="Servlets Tutorial" />
</div>
<ul class="nav nav-list primary left-menu">
<li class="heading">Servlets Tutorial</li>
<li><a href="index.html">Servlets - Home</a></li>
<li><a href="servlets_overview.html">Servlets - Overview</a></li>
<li><a href="servlets-environment-setup.html">Servlets - Environment Setup</a></li>
<li><a href="servlets-life-cycle.html">Servlets - Life Cycle</a></li>
<li><a href="servlets-first-example.html">Servlets - Examples</a></li>
<li><a href="servlets-form-data.html">Servlets - Form Data</a></li>
<li><a href="servlets-client-request.html">Servlets - Client Request</a></li>
<li><a href="servlets-server-response.html">Servlets - Server Response</a></li>
<li><a href="servlets-http-status-codes.html">Servlets - Http Codes</a></li>
<li><a href="servlets-writing-filters.html">Servlets - Writing Filters</a></li>
<li><a href="servlets-exception-handling.html">Servlets - Exceptions</a></li>
<li><a href="servlets-cookies-handling.html">Servlets - Cookies Handling</a></li>
<li><a href="servlets-session-tracking.html">Servlets - Session Tracking</a></li>
<li><a href="servlets-database-access.html">Servlets - Database Access</a></li>
<li><a href="servlets-file-uploading.html">Servlets - File Uploading</a></li>
<li><a href="servlets-handling-date.html">Servlets - Handling Date</a></li>
<li><a href="servlets-page-redirect.html">Servlets - Page Redirect</a></li>
<li><a href="servlets-hits-counter.html">Servlets - Hits Counter</a></li>
<li><a href="servlets-auto-refresh.html">Servlets - Auto Refresh</a></li>
<li><a href="servlets-sending-email.html">Servlets - Sending Email</a></li>
<li><a href="servlets-packaging.html">Servlets - Packaging</a></li>
<li><a href="servlets-debugging.html">Servlets - Debugging</a></li>
<li><a href="servlets-internationalization.html">Servlets - Internationalization</a></li>
<li><a href="servlets-annotations.html">Servlets - Annotations</a></li>
</ul>
<ul class="nav nav-list primary left-menu">
<li class="heading">Servlets Useful Resources</li>
<li><a href="servlets-questions-answers.html">Servlets - Questions and Answers</a></li>
<li><a href="servlets-quick-guide.html">Servlets - Quick Guide</a></li>
<li><a href="servlets-useful-resources.html">Servlets - Useful Resources</a></li>
<li><a href="servlets-discussion.html">Servlets - Discussion</a></li>
</ul>
<ul class="nav nav-list primary push-bottom left-menu special">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="../developers_best_practices/index.html">Developer's Best Practices</a></li>
<li><a target="_top" href="../questions_and_answers.html">Questions and Answers</a></li>
<li><a target="_top" href="../effective_resume_writing.html">Effective Resume Writing</a></li>
<li><a target="_top" href="../hr_interview_questions/index.html">HR Interview Questions</a></li>
<li><a target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
 
</aside>
</div>
<!-- PRINTING STARTS HERE -->
<div class="row">
<div class="content">
<div class="col-md-7 middle-col">
<h1>Servlets - Quick Guide</h1>
<div class="topgooglead">
<hr />
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt"> 
</script>
</div>
<hr />
<div class="pre-btn">
<a href="servlets-questions-answers.html"><i class="icon icon-arrow-circle-o-left big-font"></i> Previous Page</a>
</div>
<div class="nxt-btn">
<a href="servlets-useful-resources.html">Next Page <i class="icon icon-arrow-circle-o-right big-font"></i>&nbsp;</a>
</div>
<div class="clearer"></div>
<hr />
<h1>Servlets - Overview</h1>
<h2>What are Servlets?</h2>
<p>Java Servlets are programs that run on a Web or Application server and act as a middle layer between a requests coming from a Web browser or other HTTP client and databases or applications on the HTTP server.</p>
<p>Using Servlets, you can collect input from users through web page forms, present records from a database or another source, and create web pages dynamically.</p>
<p>Java Servlets often serve the same purpose as programs implemented using the Common Gateway Interface (CGI). But Servlets offer several advantages in comparison with the CGI.</p>
<ul class="list">
<li><p>Performance is significantly better.</p></li>
<li><p>Servlets execute within the address space of a Web server. It is not necessary to create a separate process to handle each client request.</p></li>
<li><p>Servlets are platform-independent because they are written in Java.</p></li>
<li><p>Java security manager on the server enforces a set of restrictions to protect the resources on a server machine. So servlets are trusted.</p></li>
<li><p>The full functionality of the Java class libraries is available to a servlet. It can communicate with applets, databases, or other software via the sockets and RMI mechanisms that you have seen already.</p></li>
</ul>
<h2>Servlets Architecture</h2>
<p>The following diagram shows the position of Servlets in a Web Application.</p>
<img src="images/servlet-arch.jpg" alt="Servlets Architecture" />
<h2>Servlets Tasks</h2>
<p>Servlets perform the following major tasks &minus;</p>
<ul class="list">
<li><p>Read the explicit data sent by the clients (browsers). This includes an HTML form on a Web page or it could also come from an applet or a custom HTTP client program.</p></li>
<li><p>Read the implicit HTTP request data sent by the clients (browsers). This includes cookies, media types and compression schemes the browser understands, and so forth.</p></li>
<li><p>Process the data and generate the results. This process may require talking to a database, executing an RMI or CORBA call, invoking a Web service, or computing the response directly.</p></li>
<li><p>Send the explicit data (i.e., the document) to the clients (browsers). This document can be sent in a variety of formats, including text (HTML or XML), binary (GIF images), Excel, etc.</p></li>
<li><p>Send the implicit HTTP response to the clients (browsers). This includes telling the browsers or other clients what type of document is being returned (e.g., HTML), setting cookies and caching parameters, and other such tasks.</p></li>
</ul>
<h2>Servlets Packages</h2>
<p>Java Servlets are Java classes run by a web server that has an interpreter that supports the Java Servlet specification.</p>
<p>Servlets can be created using the <b>javax.servlet</b> and <b>javax.servlet.http</b> packages, which are a standard part of the Java's enterprise edition, an expanded version of the Java class library that supports large-scale development projects.</p>
<p>These classes implement the Java Servlet and JSP specifications. At the time of writing this tutorial, the versions are Java Servlet 2.5 and JSP 2.1.</p>
<p>Java servlets have been created and compiled just like any other Java class. After you install the servlet packages and add them to your computer's Classpath, you can compile servlets with the JDK's Java compiler or any other current compiler.</p>
<h2>What is Next?</h2>
<p>I would take you step by step to set up your environment to start with Servlets. So fasten your belt for a nice drive with Servlets. I'm sure you are going to enjoy this tutorial very much.</p>
<h1>Servlets - Environment Setup</h1>
<p>A development environment is where you would develop your Servlet, test them and finally run them.</p>
<p>Like any other Java program, you need to compile a servlet by using the Java compiler <b>javac</b> and after compilation the servlet application, it would be deployed in a configured environment to test and run..</p>
<p>This development environment setup involves the following steps &minus;</p>
<h2>Setting up Java Development Kit</h2>
<p>This step involves downloading an implementation of the Java Software Development Kit (SDK) and setting up PATH environment variable appropriately.</p>
<p>You can download SDK from Oracle's Java site &minus; <a rel="nofollow" href="https://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank">Java SE Downloads</a>.</p>
<p>Once you download your Java implementation, follow the given instructions to install and configure the setup. Finally set PATH and JAVA_HOME environment variables to refer to the directory that contains java and javac, typically java_install_dir/bin and java_install_dir respectively.</p>
<p>If you are running Windows and installed the SDK in C:\jdk1.8.0_65, you would put the following line in your C:\autoexec.bat file.</p>
<pre class="result notranslate">
set PATH = C:\jdk1.8.0_65\bin;%PATH% 
set JAVA_HOME = C:\jdk1.8.0_65 
</pre>
<p>Alternatively, on Windows NT/2000/XP, you could also right-click on My Computer, select Properties, then Advanced, then Environment Variables. Then, you would update the PATH value and press the OK button.</p>
<p>On Unix (Solaris, Linux, etc.), if the SDK is installed in /usr/local/jdk1.8.0_65 and you use the C shell, you would put the following into your .cshrc file.</p>
<pre class="result notranslate">
setenv PATH /usr/local/jdk1.8.0_65/bin:$PATH 
setenv JAVA_HOME /usr/local/jdk1.8.0_65
</pre>
<p>Alternatively, if you use an Integrated Development Environment (IDE) like Borland JBuilder, Eclipse, IntelliJ IDEA, or Sun ONE Studio, compile and run a simple program to confirm that the IDE knows where you installed Java.</p>
<h2>Setting up Web Server &minus; Tomcat</h2>
<p>A number of Web Servers that support servlets are available in the market. Some web servers are freely downloadable and Tomcat is one of them.</p>
<p>Apache Tomcat is an open source software implementation of the Java Servlet and Java Server Pages technologies and can act as a standalone server for testing servlets and can be integrated with the Apache Web Server. Here are the steps to setup Tomcat on your machine &minus;</p>
<ul class="list">
<li><p>Download latest version of Tomcat from <a rel="nofollow" href="https://tomcat.apache.org/" target="_blank">https://tomcat.apache.org/</a>.</p></li>
<li><p>Once you downloaded the installation, unpack the binary distribution into a convenient location. For example in C:\apache-tomcat-8.0.28 on windows, or /usr/local/apache-tomcat-8.0.289 on Linux/Unix and create CATALINA_HOME environment variable pointing to these locations.</p></li>
</ul>
<p>Tomcat can be started by executing the following commands on windows machine &minus;</p>
<pre class="result notranslate">
%CATALINA_HOME%\bin\startup.bat
or
C:\apache-tomcat-8.0.28\bin\startup.bat
</pre>
<p>Tomcat can be started by executing the following commands on Unix (Solaris, Linux, etc.) machine &minus;</p>
<pre class="result notranslate">
$CATALINA_HOME/bin/startup.sh
or
/usr/local/apache-tomcat-8.0.28/bin/startup.sh
</pre>
<p>After startup, the default web applications included with Tomcat will be available by visiting <b>http://localhost:8080/</b>. If everything is fine then it should display following result &minus;</p>
<img src="images/tomcathomepage.jpg" alt="Tomcat Home page" />
<p>Further information about configuring and running Tomcat can be found in the documentation included here, as well as on the Tomcat web site &minus; http://tomcat.apache.org</p>
<p>Tomcat can be stopped by executing the following commands on windows machine &minus;</p>
<pre class="result notranslate">
C:\apache-tomcat-8.0.28\bin\shutdown 
</pre>
<p>Tomcat can be stopped by executing the following commands on Unix (Solaris, Linux, etc.) machine &minus;</p>
<pre class="result notranslate">
/usr/local/apache-tomcat-8.0.28/bin/shutdown.sh
</pre>
<h2>Setting Up the CLASSPATH </h2>
<p>Since servlets are not part of the Java Platform, Standard Edition, you must identify the servlet classes to the compiler.</p>
<p>If you are running Windows, you need to put the following lines in your C:\autoexec.bat file.</p>
<pre class="result notranslate">
set CATALINA = C:\apache-tomcat-8.0.28 
set CLASSPATH = %CATALINA%\common\lib\servlet-api.jar;%CLASSPATH% 
</pre>
<p>Alternatively, on Windows NT/2000/XP, you could go to My Computer &minus;&gt; Properties &minus;&gt; Advanced &minus;&gt; Environment Variables. Then, you would update the CLASSPATH value and press the OK button. </p>
<p>On Unix (Solaris, Linux, etc.), if you are using the C shell, you would put the following lines into your .cshrc file.</p>
<pre class="result notranslate">
setenv CATALINA = /usr/local/apache-tomcat-8.0.28
setenv CLASSPATH $CATALINA/common/lib/servlet-api.jar:$CLASSPATH
</pre>
<p><b>NOTE</b> &minus; Assuming that your development directory is C:\ServletDevel (Windows) or /usr/ServletDevel (Unix) then you would need to add these directories as well in CLASSPATH in similar way as you have added above.</p>
<h1>Servlets - Life Cycle</h1>
<p>A servlet life cycle can be defined as the entire process from its creation till the destruction. The following are the paths followed by a servlet.</p>
<ul class="list">
<li><p>The servlet is initialized by calling the <b>init()</b> method.</p></li>
<li><p>The servlet calls <b>service()</b> method to process a client's request. </p></li>
<li><p>The servlet is terminated by calling the <b>destroy()</b> method.</p></li>
<li><p>Finally, servlet is garbage collected by the garbage collector of the JVM.</p></li>
</ul>
<p>Now let us discuss the life cycle methods in detail.</p>
<h2>The init() Method</h2>
<p>The init method is called only once. It is called only when the servlet is created, and not called for any user requests afterwards. So, it is used for one-time initializations, just as with the init method of applets.</p>
<p>The servlet is normally created when a user first invokes a URL corresponding to the servlet, but you can also specify that the servlet be loaded when the server is first started.</p>
<p>When a user invokes a servlet, a single instance of each servlet gets created, with each user request resulting in a new thread that is handed off to doGet or doPost as appropriate. The init() method simply creates or loads some data that will be used throughout the life of the servlet.</p>
<p>The init method definition looks like this &minus;</p>
<pre class="prettyprint notranslate">
public void init() throws ServletException {
   // Initialization code...
}
</pre>
<h2>The service() Method </h2>
<p>The service() method is the main method to perform the actual task. The servlet container (i.e. web server) calls the service() method to handle requests coming from the client( browsers) and to write the formatted response back to the client.</p>
<p>Each time the server receives a request for a servlet, the server spawns a new thread and calls service. The service() method checks the HTTP request type (GET, POST, PUT, DELETE, etc.) and calls doGet, doPost, doPut, doDelete, etc. methods as appropriate.</p>
<p>Here is the signature of this method &minus;</p>
<pre class="prettyprint notranslate">
public void service(ServletRequest request, ServletResponse response) 
   throws ServletException, IOException {
}
</pre>
<p>The service () method is called by the container and service method invokes doGe, doPost, doPut, doDelete, etc. methods as appropriate. So you have nothing to do with service() method but you override either doGet() or doPost() depending on what type of request you receive from the client.</p>
<p>The doGet() and doPost() are most frequently used methods with in each service request. Here is the signature of these two methods.</p>
<h2>The doGet() Method</h2>
<p>A GET request results from a normal request for a URL or from an HTML form that has no METHOD specified and it should be handled by doGet() method.</p>
<pre class="prettyprint notranslate">
public void doGet(HttpServletRequest request, HttpServletResponse response)
   throws ServletException, IOException {
   // Servlet code
}
</pre>
<h2>The doPost() Method</h2>
<p>A POST request results from an HTML form that specifically lists POST as the METHOD and it should be handled by doPost() method.</p>
<pre class="prettyprint notranslate">
public void doPost(HttpServletRequest request, HttpServletResponse response)
   throws ServletException, IOException {
   // Servlet code
}
</pre>
<h2>The destroy() Method</h2>
<p>The destroy() method is called only once at the end of the life cycle of a servlet. This method gives your servlet a chance to close database connections, halt background threads, write cookie lists or hit counts to disk, and perform other such cleanup activities.</p>
<p>After the destroy() method is called, the servlet object is marked for garbage collection. The destroy method definition looks like this &minus;</p>
<pre class="prettyprint notranslate">
public void destroy() {
   // Finalization code...
}
</pre>
<h2>Architecture Diagram</h2>
<p>The following figure depicts a typical servlet life-cycle scenario.</p>
<ul class="list">
<li><p>First the HTTP requests coming to the server are delegated to the servlet container.</p></li>
<li><p>The servlet container loads the servlet before invoking the service() method.</p></li>
<li><p>Then the servlet container handles multiple requests by spawning multiple threads, each thread executing the service() method of a single instance of the servlet.</p></li>
</ul>
<img src="images/servlet-lifecycle.jpg" alt="Servlet Life Cycle" />
<h1>Servlets - Examples</h1>
<p>Servlets are Java classes which service HTTP requests and implement the <b>javax.servlet.Servlet</b> interface. Web application developers typically write servlets that extend javax.servlet.http.HttpServlet, an abstract class that implements the Servlet interface and is specially designed to handle HTTP requests.</p>
<h2>Sample Code</h2>
<p>Following is the sample source code structure of a servlet example to show Hello World &minus;</p>
<pre class="prettyprint notranslate">
// Import required java libraries
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;

// Extend HttpServlet class
public class HelloWorld extends HttpServlet {
 
   private String message;

   public void init() throws ServletException {
      // Do required initialization
      message = "Hello World";
   }

   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      // Set response content type
      response.setContentType("text/html");

      // Actual logic goes here.
      PrintWriter out = response.getWriter();
      out.println("&lt;h1&gt;" + message + "&lt;/h1&gt;");
   }

   public void destroy() {
      // do nothing.
   }
}
</pre>
<h2>Compiling a Servlet</h2>
<p>Let us create a file with name HelloWorld.java with the code shown above.  Place this file at C:\ServletDevel (in Windows) or at /usr/ServletDevel (in Unix).  This path location must be added to CLASSPATH before proceeding further.</p>
<p>Assuming your environment is setup properly, go in <b>ServletDevel</b> directory and compile HelloWorld.java as follows &minus;</p>
<pre class="result notranslate">
$ javac HelloWorld.java
</pre>
<p>If the servlet depends on any other libraries, you have to include those JAR files on your CLASSPATH as well. I have included only servlet-api.jar JAR file because I'm not using any other library in Hello World program.</p>
<p>This command line uses the built-in javac compiler that comes with the Sun Microsystems Java Software Development Kit (JDK). For this command to work properly, you have to include the location of the Java SDK that you are using in the PATH environment variable.</p>
<p>If everything goes fine, above compilation would produce <b>HelloWorld.class</b> file in the same directory. Next section would explain how a compiled servlet would be deployed in production.</p>
<h2>Servlet Deployment</h2>
<p>By default, a servlet application is located at the path &lt;Tomcat-installationdirectory&gt;/webapps/ROOT and the class file would reside in &lt;Tomcat-installationdirectory&gt;/webapps/ROOT/WEB-INF/classes.</p>
<p>If you have a fully qualified class name of <b>com.myorg.MyServlet</b>, then this servlet class must be located in WEB-INF/classes/com/myorg/MyServlet.class.</p>
<p>For now, let us copy HelloWorld.class into &lt;Tomcat-installationdirectory&gt;/webapps/ROOT/WEB-INF/classes and create following entries in <b>web.xml</b> file located in &lt;Tomcat-installation-directory&gt;/webapps/ROOT/WEB-INF/ </p>
<pre class="prettyprint notranslate">
&lt;servlet&gt;
   &lt;servlet-name&gt;HelloWorld&lt;/servlet-name&gt;
   &lt;servlet-class&gt;HelloWorld&lt;/servlet-class&gt;
&lt;/servlet&gt;

&lt;servlet-mapping&gt;
   &lt;servlet-name&gt;HelloWorld&lt;/servlet-name&gt;
   &lt;url-pattern&gt;/HelloWorld&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
</pre>
<p>Above entries to be created inside &lt;web-app&gt;...&lt;/web-app&gt; tags available in web.xml file. There could be various entries in this table already available, but never mind.</p>
<p>You are almost done, now let us start tomcat server using &lt;Tomcat-installationdirectory&gt;\bin\startup.bat (on Windows) or &lt;Tomcat-installationdirectory&gt;/bin/startup.sh (on Linux/Solaris etc.) and finally type <b>http://localhost:8080/HelloWorld</b> in the browser's address box. If everything goes fine, you would get the following result</p>
<img src="images/servlet-example.jpg" alt="Servlet Example" />
<h1>Servlets - Form Data</h1>
<p>You must have come across many situations when you need to pass some information from your browser to web server and ultimately to your backend program. The browser uses two methods to pass this information to web server. These methods are GET Method and POST Method.</p>
<h2>GET Method</h2>
<p>The GET method sends the encoded user information appended to the page request. The page and the encoded information are separated by the <b>?</b> (question mark) symbol as follows &minus;</p>
<pre class="result notranslate">
http://www.test.com/hello?key1 = value1&amp;key2 = value2
</pre>
<p>The GET method is the default method to pass information from browser to web server and it produces a long string that appears in your browser's Location:box. Never use the GET method if you have password or other sensitive information to pass to the server. The GET method has size limitation: only 1024 characters can be used in a request string.</p>
<p>This information is passed using QUERY_STRING header and will be accessible through QUERY_STRING environment variable and Servlet handles this type of requests using <b>doGet()</b> method.</p>
<h2>POST Method</h2>
<p>A generally more reliable method of passing information to a backend program is the POST method. This packages the information in exactly the same way as GET method, but instead of sending it as a text string after a ? (question mark) in the URL it sends it as a separate message. This message comes to the backend program in the form of the standard input which you can parse and use for your processing. Servlet handles this type of requests using <b>doPost()</b> method.</p>
<h2>Reading Form Data using Servlet</h2>
<p>Servlets handles form data parsing automatically using the following methods depending on the situation &minus;</p>
<ul class="list">
<li><p><b>getParameter()</b> &minus; You call request.getParameter() method to get the value of a form parameter.</p></li>
<li><p><b>getParameterValues()</b> &minus; Call this method if the parameter appears more than once and returns multiple values, for example checkbox.</p></li>
<li><p><b>getParameterNames()</b> &minus; Call this method if you want a complete list of all parameters in the current request.</p></li>
</ul>
<h2>GET Method Example using URL</h2>
<p>Here is a simple URL which will pass two values to HelloForm program using GET method.</p>
<b>http://localhost:8080/HelloForm?first_name = ZARA&amp;last_name = ALI</b>
<p>Given below is the <b>HelloForm.java</b> servlet program to handle input given by web browser. We are going to use <b>getParameter()</b> method which makes it very easy to access passed information &minus;</p>
<pre class="prettyprint notranslate">
// Import required java libraries
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;

// Extend HttpServlet class
public class HelloForm extends HttpServlet {
 
   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      // Set response content type
      response.setContentType("text/html");

      PrintWriter out = response.getWriter();
      String title = "Using GET Method to Read Form Data";
      String docType =
         "&lt;!doctype html public \"-//w3c//dtd html 4.0 " + "transitional//en\"&gt;\n";
         
      out.println(docType +
         "&lt;html&gt;\n" +
            "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n" +
            "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" +
               "&lt;h1 align = \"center\"&gt;" + title + "&lt;/h1&gt;\n" +
               "&lt;ul&gt;\n" +
                  "  &lt;li&gt;&lt;b&gt;First Name&lt;/b&gt;: "
                  + request.getParameter("first_name") + "\n" +
                  "  &lt;li&gt;&lt;b&gt;Last Name&lt;/b&gt;: "
                  + request.getParameter("last_name") + "\n" +
               "&lt;/ul&gt;\n" +
            "&lt;/body&gt;
         &lt;/html&gt;"
      );
   }
}
</pre>
<p>Assuming your environment is set up properly, compile HelloForm.java as follows &minus;</p>
<pre class="prettyprint notranslate">
$ javac HelloForm.java
</pre>
<p>If everything goes fine, above compilation would produce <b>HelloForm.class</b> file. Next you would have to copy this class file in &lt;Tomcat-installationdirectory&gt;/webapps/ROOT/WEB-INF/classes and create following entries in <b>web.xml</b> file located in &lt;Tomcat-installation-directory&gt;/webapps/ROOT/WEB-INF/</p>
<pre class="prettyprint notranslate">
&lt;servlet&gt;
   &lt;servlet-name&gt;HelloForm&lt;/servlet-name&gt;
   &lt;servlet-class&gt;HelloForm&lt;/servlet-class&gt;
&lt;/servlet&gt;

&lt;servlet-mapping&gt;
   &lt;servlet-name&gt;HelloForm&lt;/servlet-name&gt;
   &lt;url-pattern&gt;/HelloForm&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
</pre>
<p>Now type <i>http://localhost:8080/HelloForm?first_name=ZARA&last_name=ALI</i> in your browser's Location:box and make sure you already started tomcat server, before firing above command in the browser. This would generate following result &minus;</p>
<pre class="result notranslate">
<h1 align="center">Using GET Method to Read Form Data</h1>
<ul class="list">
<li><b>First Name</b>: ZARA</li>
<li><b>Last Name</b>: ALI</li>
</ul>
</pre>
<h2>GET Method Example Using Form</h2>
<p>Here is a simple example which passes two values using HTML FORM and submit button. We are going to use same Servlet HelloForm to handle this imput.</p>
<pre class="prettyprint notranslate">
&lt;html&gt;
   &lt;body&gt;
      &lt;form action = "HelloForm" method = "GET"&gt;
         First Name: &lt;input type = "text" name = "first_name"&gt;
         &lt;br /&gt;
         Last Name: &lt;input type = "text" name = "last_name" /&gt;
         &lt;input type = "submit" value = "Submit" /&gt;
      &lt;/form&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Keep this HTML in a file Hello.htm and put it in &lt;Tomcat-installationdirectory&gt;/webapps/ROOT directory. When you would access <i>http://localhost:8080/Hello.htm</i>, here is the actual output of the above form.</p>
<form action="javascript:void();" method="get" target="_blank">
First Name: <input type="text" name="first_name" />
Last Name: <input type="text" name="last_name" />
<input type="button" value="Submit" />
</form>
<p>Try to enter First Name and Last Name and then click submit button to see the result on your local machine where tomcat is running. Based on the input provided, it will generate similar result as mentioned in the above example.</p>
<h2>POST Method Example Using Form</h2>
<p>Let us do little modification in the above servlet, so that it can handle GET as well as POST methods. Below is <b>HelloForm.java</b> servlet program to handle input given by web browser using GET or POST methods.</p>
<pre class="prettyprint notranslate">
// Import required java libraries
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;

// Extend HttpServlet class
public class HelloForm extends HttpServlet {

   // Method to handle GET method request.
   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      // Set response content type
      response.setContentType("text/html");

      PrintWriter out = response.getWriter();
      String title = "Using GET Method to Read Form Data";
      String docType =
         "&lt;!doctype html public \"-//w3c//dtd html 4.0 " +
         "transitional//en\"&gt;\n";
         
      out.println(docType +
         "&lt;html&gt;\n" +
            "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n" +
            "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" +
               "&lt;h1 align = \"center\"&gt;" + title + "&lt;/h1&gt;\n" +
               "&lt;ul&gt;\n" +
                  "  &lt;li&gt;&lt;b&gt;First Name&lt;/b&gt;: "
                  + request.getParameter("first_name") + "\n" +
                  "  &lt;li&gt;&lt;b&gt;Last Name&lt;/b&gt;: "
                  + request.getParameter("last_name") + "\n" +
               "&lt;/ul&gt;\n" +
            "&lt;/body&gt;
         &lt;/html&gt;"
      );
   }

   // Method to handle POST method request.
   public void doPost(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {

      doGet(request, response);
   }
}
</pre>
<p>Now compile and deploy the above Servlet and test it using Hello.htm with the POST method as follows &minus;</p>
<pre class="prettyprint notranslate">
&lt;html&gt;
   &lt;body&gt;
      &lt;form action = "HelloForm" method = "POST"&gt;
         First Name: &lt;input type = "text" name = "first_name"&gt;
         &lt;br /&gt;
         Last Name: &lt;input type = "text" name = "last_name" /&gt;
         &lt;input type = "submit" value = "Submit" /&gt;
      &lt;/form&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Here is the actual output of the above form, Try to enter First and Last Name and then click submit button to see the result on your local machine where tomcat is running.</p>
<form action="javascript:void();" method="get" target="_blank">
First Name: <input type="text" name="first_name" />
Last Name: <input type="text" name="last_name" />
<input type="button" value="Submit" />
</form>
<p>Based on the input provided, it would generate similar result as mentioned in the above examples.</p>
<h2>Passing Checkbox Data to Servlet Program</h2>
<p>Checkboxes are used when more than one option is required to be selected.</p>
<p>Here is example HTML code, CheckBox.htm, for a form with two checkboxes</p>
<pre class="prettyprint notranslate">
&lt;html&gt;
   &lt;body&gt;
      &lt;form action = "CheckBox" method = "POST" target = "_blank"&gt;
         &lt;input type = "checkbox" name = "maths" checked = "checked" /&gt; Maths
         &lt;input type = "checkbox" name = "physics"  /&gt; Physics
         &lt;input type = "checkbox" name = "chemistry" checked = "checked" /&gt; 
                                          Chemistry
         &lt;input type = "submit" value = "Select Subject" /&gt;
      &lt;/form&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>The result of this code is the following form</p>
<form action="javascript:void();" method="get" target="_blank">
<input type="checkbox" name="maths" checked="checked" /> Maths
<input type="checkbox" name="physics" /> Physics
<input type="checkbox" name="chemistry" checked="checked" /> Chemistry
<input type="button" value="Select Subject" />
</form>
<p>Given below is the CheckBox.java servlet program to handle input given by web browser for checkbox button.</p>
<pre class="prettyprint notranslate">
// Import required java libraries
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;

// Extend HttpServlet class
public class CheckBox extends HttpServlet {
 
   // Method to handle GET method request.
   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      // Set response content type
      response.setContentType("text/html");

      PrintWriter out = response.getWriter();
      String title = "Reading Checkbox Data";
      String docType =
         "&lt;!doctype html public \"-//w3c//dtd html 4.0 " + "transitional//en\"&gt;\n";

      out.println(docType +
         "&lt;html&gt;\n" +
            "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n" +
            "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" +
               "&lt;h1 align = \"center\"&gt;" + title + "&lt;/h1&gt;\n" +
               "&lt;ul&gt;\n" +
                  "  &lt;li&gt;&lt;b&gt;Maths Flag : &lt;/b&gt;: "
                  + request.getParameter("maths") + "\n" +
                  "  &lt;li&gt;&lt;b&gt;Physics Flag: &lt;/b&gt;: "
                  + request.getParameter("physics") + "\n" +
                  "  &lt;li&gt;&lt;b&gt;Chemistry Flag: &lt;/b&gt;: "
                  + request.getParameter("chemistry") + "\n" +
               "&lt;/ul&gt;\n" +
            "&lt;/body&gt;
         &lt;/html&gt;"
      );
   }

   // Method to handle POST method request.
   public void doPost(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      doGet(request, response);
   }
}
</pre>
<p>For the above example, it would display following result &minus;</p>
<pre class="result notranslate">
<h1 align="center">Reading Checkbox Data</h1>
<ul class="list">
<li><b>Maths Flag : </b>: on</li>
<li><b>Physics Flag: </b>: null</li>
<li><b>Chemistry Flag: </b>: on</li>
</ul>
</pre>
<h2>Reading All Form Parameters </h2>
<p>Following is the generic example which uses <b>getParameterNames()</b> method of HttpServletRequest to read all the available form parameters. This method returns an Enumeration that contains the parameter names in an unspecified order</p>
<p>Once we have an Enumeration, we can loop down the Enumeration in standard way by, using <i>hasMoreElements()</i> method to determine when to stop and using <i>nextElement()</i> method to get each parameter name.</p>
<pre class="prettyprint notranslate">
// Import required java libraries
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
import java.util.*;

// Extend HttpServlet class
public class ReadParams extends HttpServlet {
 
   // Method to handle GET method request.
   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      // Set response content type
      response.setContentType("text/html");

      PrintWriter out = response.getWriter();
      String title = "Reading All Form Parameters";
      String docType =
         "&lt;!doctype html public \"-//w3c//dtd html 4.0 " + "transitional//en\"&gt;\n";

      out.println(docType +
         "&lt;html&gt;\n" +
         "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n" +
         "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" +
         "&lt;h1 align = \"center\"&gt;" + title + "&lt;/h1&gt;\n" +
         "&lt;table width = \"100%\" border = \"1\" align = \"center\"&gt;\n" +
         "&lt;tr bgcolor = \"#949494\"&gt;\n" +
            "&lt;th&gt;Param Name&lt;/th&gt;
            &lt;th&gt;Param Value(s)&lt;/th&gt;\n"+
         "&lt;/tr&gt;\n"
      );

      Enumeration paramNames = request.getParameterNames();

      while(paramNames.hasMoreElements()) {
         String paramName = (String)paramNames.nextElement();
         out.print("&lt;tr&gt;&lt;td&gt;" + paramName + "&lt;/td&gt;\n&lt;td&gt;");
         String[] paramValues = request.getParameterValues(paramName);

         // Read single valued data
         if (paramValues.length == 1) {
            String paramValue = paramValues[0];
            if (paramValue.length() == 0)
               out.println("&lt;i&gt;No Value&lt;/i&gt;");
               else
               out.println(paramValue);
         } else {
            // Read multiple valued data
            out.println("&lt;ul&gt;");

            for(int i = 0; i &lt; paramValues.length; i++) {
               out.println("&lt;li&gt;" + paramValues[i]);
            }
            out.println("&lt;/ul&gt;");
         }
      }
      out.println("&lt;/tr&gt;\n&lt;/table&gt;\n&lt;/body&gt;&lt;/html&gt;");
   }
   
   // Method to handle POST method request.
   public void doPost(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      doGet(request, response);
   }
}
</pre>
<p>Now, try the above servlet with the following form &minus;</p>
<pre class="prettyprint notranslate">
&lt;html&gt;
   &lt;body&gt;
      &lt;form action = "ReadParams" method = "POST" target = "_blank"&gt;
         &lt;input type = "checkbox" name = "maths" checked = "checked" /&gt; Maths
         &lt;input type = "checkbox" name = "physics"  /&gt; Physics
         &lt;input type = "checkbox" name = "chemistry" checked = "checked" /&gt; Chem
         &lt;input type = "submit" value = "Select Subject" /&gt;
      &lt;/form&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Now calling servlet using the above form would generate the following result &minus;</p>
<pre class="result notranslate">
<h1 align="center">Reading All Form Parameters</h1>
<table style="text-align:center" align="center" class="table table-bordered">
<tr bgcolor="#949494">
<th style="text-align:center">Param Name</th>
<th style="text-align:center">Param Value(s)</th>
</tr>
<tr>
<td>maths</td>
<td>on</td>
</tr>
<tr>
<td>chemistry</td>
<td>on</td>
</tr>
</table>
</pre>
<p>You can try the above servlet to read any other form's data having other objects like text box, radio button or drop down box etc.</p>
<h1>Servlets - Client HTTP Request</h1>
<p>When a browser requests for a web page, it sends lot of information to the web server which cannot be read directly because this information travel as a part of header of HTTP request. You can check <a href="../http/index.html" target="_blank">HTTP Protocol</a> for more information on this.</p>
<p>Following is the important header information which comes from browser side and you would use very frequently in web programming &minus;</p>
<table class="table table-bordered">
<tr>
<th>Sr.No.</th>
<th style="text-align:center;">Header &amp; Description</th>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">1</td>
<td><p><b>Accept</b></p>
<p>This header specifies the MIME types that the browser or other clients can handle. Values of <b>image/png</b> or <b>image/jpeg</b> are the two most common possibilities.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">2</td>
<td><p><b>Accept-Charset</b></p>
<p>This header specifies the character sets the browser can use to display the information. For example ISO-8859-1.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">3</td>
<td><p><b>Accept-Encoding</b></p>
<p>This header specifies the types of encodings that the browser knows how to handle. Values of <b>gzip</b> or <b>compress</b> are the two most common possibilities.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">4</td>
<td><p><b>Accept-Language</b></p>
<p>This header specifies the client's preferred languages in case the servlet can produce results in more than one language. For example en, en-us, ru, etc</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">5</td>
<td><p><b>Authorization</b></p>
<p>This header is used by clients to identify themselves when accessing password-protected Web pages.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">6</td>
<td><p><b>Connection</b></p>
<p>This header indicates whether the client can handle persistent HTTP connections. Persistent connections permit the client or other browser to retrieve multiple files with a single request. A value of <b>Keep-Alive</b> means that persistent connections should be used.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">7</td>
<td><p><b>Content-Length</b></p>
<p>This header is applicable only to POST requests and gives the size of the POST data in bytes.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">8</td>
<td><p><b>Cookie</b></p>
<p>This header returns cookies to servers that previously sent them to the browser.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">9</td>
<td><p><b>Host</b></p>
<p>This header specifies the host and port as given in the original URL.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">10</td>
<td><p><b>If-Modified-Since</b></p>
<p>This header indicates that the client wants the page only if it has been changed after the specified date. The server sends a code, 304 which means <b>Not Modified</b> header if no newer result is available.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">11</td>
<td><p><b>If-Unmodified-Since</b></p>
<p>This header is the reverse of If-Modified-Since; it specifies that the operation should succeed only if the document is older than the specified date.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">12</td>
<td><p><b>Referer</b></p>
<p>This header indicates the URL of the referring Web page. For example, if you are at Web page 1 and click on a link to Web page 2, the URL of Web page 1 is included in the Referrer header when the browser requests Web page 2.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">13</td>
<td><p><b>User-Agent</b></p>
<p>This header identifies the browser or other client making the request and can be used to return different content to different types of browsers.</p></td>
</tr>
</table>
<h2>Methods to read HTTP Header</h2>
<p>There are following methods which can be used to read HTTP header in your servlet program. These methods are available with <i>HttpServletRequest</i> object</p>
<table class="table table-bordered">
<tr>
<th>Sr.No.</th>
<th style="text-align:center;">Method &amp; Description</th>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">1</td>
<td><p><b>Cookie[] getCookies()</b></p>
<p>Returns an array containing all of the Cookie objects the client sent with this request.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">2</td>
<td><p><b>Enumeration getAttributeNames()</b></p>
<p>Returns an Enumeration containing the names of the attributes available to this request.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">3</td>
<td><p><b>Enumeration getHeaderNames()</b></p>
<p>Returns an enumeration of all the header names this request contains.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">4</td>
<td><p><b>Enumeration getParameterNames()</b></p>
<p>Returns an Enumeration of String objects containing the names of the parameters contained in this request</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">5</td>
<td><p><b>HttpSession getSession()</b></p>
<p>Returns the current session associated with this request, or if the request does not have a session, creates one.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">6</td>
<td><p><b>HttpSession getSession(boolean create)</b></p>
<p>Returns the current HttpSession associated with this request or, if if there is no current session and value of create is true, returns a new session.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">7</td>
<td><p><b>Locale getLocale()</b></p>
<p>Returns the preferred Locale that the client will accept content in, based on the Accept-Language header.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">8</td>
<td><p><b>Object getAttribute(String name) </b></p>
<p>Returns the value of the named attribute as an Object, or null if no attribute of the given name exists.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">9</td>
<td><p><b>ServletInputStream getInputStream()</b></p>
<p>Retrieves the body of the request as binary data using a ServletInputStream.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">10</td>
<td><p><b>String getAuthType()</b></p>
<p>Returns the name of the authentication scheme used to protect the servlet, for example, "BASIC" or "SSL," or null if the JSP was not protected.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">11</td>
<td><p><b>String getCharacterEncoding()</b></p>
<p>Returns the name of the character encoding used in the body of this request.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">12</td>
<td><p><b>String getContentType()</b></p>
<p>Returns the MIME type of the body of the request, or null if the type is not known.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">13</td>
<td><p><b>String getContextPath()</b></p>
<p>Returns the portion of the request URI that indicates the context of the request.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">14</td>
<td><p><b>String getHeader(String name) </b></p>
<p>Returns the value of the specified request header as a String.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">15</td>
<td><p><b>String getMethod() </b></p>
<p>Returns the name of the HTTP method with which this request was made, for example, GET, POST, or PUT.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">16</td>
<td><p><b>String getParameter(String name)</b></p>
<p>Returns the value of a request parameter as a String, or null if the parameter does not exist.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">17</td>
<td><p><b>String getPathInfo()</b></p>
<p>Returns any extra path information associated with the URL the client sent when it made this request</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">18</td>
<td><p><b>String getProtocol() </b></p>
<p>Returns the name and version of the protocol the request.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">19</td>
<td><p><b>String getQueryString() </b></p>
<p>Returns the query string that is contained in the request URL after the path.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">20</td>
<td><p><b>String getRemoteAddr()</b></p>
<p>Returns the Internet Protocol (IP) address of the client that sent the request.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">21</td>
<td><p><b>String getRemoteHost() </b></p>
<p>Returns the fully qualified name of the client that sent the request.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">22</td>
<td><p><b>String getRemoteUser() </b></p>
<p>Returns the login of the user making this request, if the user has been authenticated, or null if the user has not been authenticated.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">23</td>
<td><p><b>String getRequestURI() </b></p>
<p>Returns the part of this request's URL from the protocol name up to the query string in the first line of the HTTP request.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">24</td>
<td><p><b>String getRequestedSessionId()</b></p>
<p>Returns the session ID specified by the client.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">25</td>
<td><p><b>String getServletPath() </b></p>
<p>Returns the part of this request's URL that calls the JSP.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">26</td>
<td><p><b>String[] getParameterValues(String name) </b></p>
<p>Returns an array of String objects containing all of the values the given request parameter has, or null if the parameter does not exist.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">27</td>
<td><p><b>boolean isSecure() </b></p>
<p>Returns a Boolean indicating whether this request was made using a secure channel, such as HTTPS.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">28</td>
<td><p><b>int getContentLength() </b></p>
<p>Returns the length, in bytes, of the request body and made available by the input stream, or -1 if the length is not known.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">29</td>
<td><p><b>int getIntHeader(String name)</b></p>
<p>Returns the value of the specified request header as an int.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">30</td>
<td><p><b>int getServerPort()</b></p>
<p>Returns the port number on which this request was received.</p></td>
</tr>
</table>
<h2>HTTP Header Request Example </h2>
<p>Following is the example which uses <b>getHeaderNames()</b> method of HttpServletRequest to read the HTTP header information. This method returns an Enumeration that contains the header information associated with the current HTTP request.</p>
<p>Once we have an Enumeration, we can loop down the Enumeration in the standard manner, using <i>hasMoreElements()</i> method to determine when to stop and using <i>nextElement()</i> method to get each parameter name</p>
<pre class="prettyprint notranslate">
// Import required java libraries
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
import java.util.*;
 
// Extend HttpServlet class
public class DisplayHeader extends HttpServlet {
 
   // Method to handle GET method request.
   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      // Set response content type
      response.setContentType("text/html");
 
      PrintWriter out = response.getWriter();
      String title = "HTTP Header Request Example";
      String docType =
         "&lt;!doctype html public \"-//w3c//dtd html 4.0 " + "transitional//en\"&gt;\n";

      out.println(docType +
         "&lt;html&gt;\n" +
         "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n"+
         "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" +
         "&lt;h1 align = \"center\"&gt;" + title + "&lt;/h1&gt;\n" +
         "&lt;table width = \"100%\" border = \"1\" align = \"center\"&gt;\n" +
         "&lt;tr bgcolor = \"#949494\"&gt;\n" +
         "&lt;th&gt;Header Name&lt;/th&gt;&lt;th&gt;Header Value(s)&lt;/th&gt;\n"+
         "&lt;/tr&gt;\n"
      );
 
      Enumeration headerNames = request.getHeaderNames();
    
      while(headerNames.hasMoreElements()) {
         String paramName = (String)headerNames.nextElement();
         out.print("&lt;tr&gt;&lt;td&gt;" + paramName + "&lt;/td&gt;\n");
         String paramValue = request.getHeader(paramName);
         out.println("&lt;td&gt; " + paramValue + "&lt;/td&gt;&lt;/tr&gt;\n");
      }
      out.println("&lt;/table&gt;\n&lt;/body&gt;&lt;/html&gt;");
   }
   
   // Method to handle POST method request.
   public void doPost(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {

      doGet(request, response);
   }
}
</pre>
<p>Now calling the above servlet would generate the following result &minus;</p>
<pre class="result notranslate">
<h1 align="center">HTTP Header Request Example</h1>
<table width="100%" border="1" align="center" class="table table-bordered">
<tr bgcolor="#949494">
<th width="30%">Header Name</th>
<th>Header Value(s)</th>
</tr>
<tr>
<td>accept</td>
<td>*/*</td>
</tr>
<tr>
<td>accept-language</td>
<td>en-us</td>
</tr>
<tr>
<td>user-agent</td>
<td>Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; Trident/4.0; InfoPath.2; MS-RTC LM 8)</td>
</tr>
<tr>
<td>accept-encoding</td>
<td>gzip, deflate</td>
</tr>
<tr>
<td>host</td>
<td>localhost:8080</td>
</tr>
<tr>
<td>connection</td>
<td>Keep-Alive</td>
</tr>
<tr>
<td>cache-control</td>
<td>no-cache</td>
</tr>
</table>
</pre>
<h1>Servlets - Server HTTP Response</h1>
<p>As discussed in the previous chapter, when a Web server responds to an HTTP request, the response typically consists of a status line, some response headers, a blank line, and the document. A typical response looks like this &minus;</p>
<pre class="result notranslate">
HTTP/1.1 200 OK
Content-Type: text/html
Header2: ...
...
HeaderN: ...
   (Blank Line)
&lt;!doctype ...&gt;
&lt;html&gt;
   &lt;head&gt;...&lt;/head&gt;
   &lt;body&gt;
      ...
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>The status line consists of the HTTP version (HTTP/1.1 in the example), a status code (200 in the example), and a very short message corresponding to the status code (OK in the example). </p>
<p>Following is a summary of the most useful HTTP 1.1 response headers which go back to the browser from web server side and you would use them very frequently in web programming &minus;</p>
<table class="table table-bordered">
<tr>
<th>Sr.No.</th>
<th style="text-align:center;">Header &amp Description</th>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">1</td>
<td><p><b>Allow</b></p>
<p>This header specifies the request methods (GET, POST, etc.) that the server supports.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">2</td>
<td><p><b>Cache-Control</b></p>
<p>This header specifies the circumstances in which the response document can safely be cached. It can have values <b>public</b>, <b>private</b> or <b>no-cache</b> etc. Public means document is cacheable, Private means document is for a single user and can only be stored in private (non-shared) caches and nocache means document should never be cached.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">3</td>
<td><p><b>Connection</b></p>
<p>This header instructs the browser whether to use persistent in HTTP connections or not. A value of <b>close</b> instructs the browser not to use persistent HTTP connections and <b>keepalive</b> means using persistent connections.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">4</td>
<td><p><b>Content-Disposition</b></p>
<p>This header lets you request that the browser ask the user to save the response to disk in a file of the given name.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">5</td>
<td><p><b>Content-Encoding</b></p>
<p>This header specifies the way in which the page was encoded during transmission.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">6</td>
<td><p><b>Content-Language</b></p>
<p>This header signifies the language in which the document is written. For example en, en-us, ru, etc</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">7</td>
<td><p><b>Content-Length</b></p>
<p>This header indicates the number of bytes in the response. This information is needed only if the browser is using a persistent (keep-alive) HTTP connection.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">8</td>
<td><p><b>Content-Type</b></p>
<p>This header gives the MIME (Multipurpose Internet Mail Extension) type of the response document.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">9</td>
<td><p><b>Expires</b></p>
<p>This header specifies the time at which the content should be considered out-of-date and thus no longer be cached.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">10</td>
<td><p><b>Last-Modified</b></p>
<p>This header indicates when the document was last changed. The client can then cache the document and supply a date by an <b>If-Modified-Since</b> request header in later requests.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">11</td>
<td><p><b>Location</b></p>
<p>This header should be included with all responses that have a status code in the 300s. This notifies the browser of the document address. The browser automatically reconnects to this location and retrieves the new document.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">12</td>
<td><p><b>Refresh</b></p>
<p>This header specifies how soon the browser should ask for an updated page. You can specify time in number of seconds after which a page would be refreshed.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">13</td>
<td><p><b>Retry-After</b></p>
<p>This header can be used in conjunction with a 503 (Service Unavailable) response to tell the client how soon it can repeat its request.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">14</td>
<td><p><b>Set-Cookie</b></p>
<p>This header specifies a cookie associated with the page.</p></td>
</tr>
</table>
<h2>Methods to Set HTTP Response Header</h2>
<p>There are following methods which can be used to set HTTP response header in your servlet program. These methods are available with <i>HttpServletResponse</i> object.</p>
<table class="table table-bordered">
<tr>
<th>Sr.No.</th>
<th style="text-align:center;">Method &amp; Description</th>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">1</td>
<td><p><b>String encodeRedirectURL(String url)</b></p>
<p>Encodes the specified URL for use in the sendRedirect method or, if encoding is not needed, returns the URL unchanged.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">2</td>
<td><p><b>String encodeURL(String url)</b></p>
<p>Encodes the specified URL by including the session ID in it, or, if encoding is not needed, returns the URL unchanged.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">3</td>
<td><p><b>boolean containsHeader(String name)</b></p>
<p>Returns a Boolean indicating whether the named response header has already been set.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">4</td>
<td><p><b>boolean isCommitted() </b></p>
<p>Returns a Boolean indicating if the response has been committed.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">5</td>
<td><p><b>void addCookie(Cookie cookie)</b></p>
<p>Adds the specified cookie to the response.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">6</td>
<td><p><b>void addDateHeader(String name, long date)</b></p>
<p>Adds a response header with the given name and date-value.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">7</td>
<td><p><b>void addHeader(String name, String value)</b></p>
<p>Adds a response header with the given name and value.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">8</td>
<td><p><b>void addIntHeader(String name, int value)</b></p>
<p>Adds a response header with the given name and integer value.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">9</td>
<td><p><b>void flushBuffer() </b></p>
<p>Forces any content in the buffer to be written to the client.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">10</td>
<td><p><b>void reset()</b></p>
<p>Clears any data that exists in the buffer as well as the status code and headers.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">11</td>
<td><p><b>void resetBuffer()</b></p>
<p>Clears the content of the underlying buffer in the response without clearing headers or status code.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">12</td>
<td><p><b>void sendError(int sc)</b></p>
<p>Sends an error response to the client using the specified status code and clearing the buffer.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">13</td>
<td><p><b>void sendError(int sc, String msg)</b></p>
<p>Sends an error response to the client using the specified status.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">14</td>
<td><p><b>void sendRedirect(String location)</b></p>
<p>Sends a temporary redirect response to the client using the specified redirect location URL.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">15</td>
<td><p><b>void setBufferSize(int size) </b></p>
<p>Sets the preferred buffer size for the body of the response.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">16</td>
<td><p><b>void setCharacterEncoding(String charset)</b></p>
<p>Sets the character encoding (MIME charset) of the response being sent to the client, for example, to UTF-8.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">17</td>
<td><p><b>void setContentLength(int len) </b></p>
<p>Sets the length of the content body in the response In HTTP servlets, this method sets the HTTP Content-Length header.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">18</td>
<td><p><b>void setContentType(String type) </b></p>
<p>Sets the content type of the response being sent to the client, if the response has not been committed yet.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">19</td>
<td><p><b>void setDateHeader(String name, long date) </b></p>
<p>Sets a response header with the given name and date-value. </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">20</td>
<td><p><b>void setHeader(String name, String value) </b></p>
<p>Sets a response header with the given name and value.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">21</td>
<td><p><b>void setIntHeader(String name, int value) </b></p>
<p>Sets a response header with the given name and integer value</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">22</td>
<td><p><b>void setLocale(Locale loc)</b></p>
<p>Sets the locale of the response, if the response has not been committed yet. </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">23</td>
<td><p><b>void setStatus(int sc) </b></p>
<p>Sets the status code for this response</p></td>
</tr>
</table>
<h2>HTTP Header Response Example </h2>
<p>You already have seen setContentType() method working in previous examples and following example would also use same method, additionally we would use <b>setIntHeader()</b> method to set <b>Refresh</b> header.</p>
<pre class="prettyprint notranslate">
// Import required java libraries
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
import java.util.*;
 
// Extend HttpServlet class
public class Refresh extends HttpServlet {
 
   // Method to handle GET method request.
   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
   
      // Set refresh, autoload time as 5 seconds
      response.setIntHeader("Refresh", 5);
 
      // Set response content type
      response.setContentType("text/html");
 
      // Get current time
      Calendar calendar = new GregorianCalendar();
      String am_pm;
      int hour = calendar.get(Calendar.HOUR);
      int minute = calendar.get(Calendar.MINUTE);
      int second = calendar.get(Calendar.SECOND);
         
      if(calendar.get(Calendar.AM_PM) == 0)
         am_pm = "AM";
      else
         am_pm = "PM";
 
      String CT = hour+":"+ minute +":"+ second +" "+ am_pm;
    
      PrintWriter out = response.getWriter();
      String title = "Auto Refresh Header Setting";
      String docType =
         "&lt;!doctype html public \"-//w3c//dtd html 4.0 " + "transitional//en\"&gt;\n";

      out.println(docType +
         "&lt;html&gt;\n" +
         "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n"+
         "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" +
         "&lt;h1 align = \"center\"&gt;" + title + "&lt;/h1&gt;\n" +
         "&lt;p&gt;Current Time is: " + CT + "&lt;/p&gt;\n"
      );
   }
   
   // Method to handle POST method request.
   public void doPost(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      doGet(request, response);
   }
}
</pre>
<p>Now calling the above servlet would display current system time after every 5 seconds as follows. Just run the servlet and wait to see the result &minus;</p>
<pre class="result notranslate">
<h1 align="center">Auto Refresh Header Setting</h1>
<p>Current Time is: 9:44:50 PM</p>
</pre>
<h1>Servlets - Http Status Codes</h1>
<p>The format of the HTTP request and HTTP response messages are similar and will have following structure &minus;</p>
<ul class="list">
<li><p>An initial status line + CRLF ( Carriage Return + Line Feed i.e. New Line )</p></li>
<li><p>Zero or more header lines + CRLF </p></li>
<li><p>A blank line, i.e., a CRLF </p></li>
<li><p>An optional message body like file, query data or query output.</p></li>
</ul>
<p>For example, a server response header looks as follows &minus;</p>
<pre class="result notranslate">
HTTP/1.1 200 OK
Content-Type: text/html
Header2: ...
...
HeaderN: ...
   (Blank Line)
&lt;!doctype ...&gt;
&lt;html&gt;
   &lt;head&gt;...&lt;/head&gt;
   &lt;body&gt;
      ...
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>The status line consists of the HTTP version (HTTP/1.1 in the example), a status code (200 in the example), and a very short message corresponding to the status code (OK in the example).</p>
<p>Following is a list of HTTP status codes and associated messages that might be returned from the Web Server &minus;</p>
<table class="table table-bordered" style="text-align:center;">
<tr>
<th style="text-align:center; width:10%">Code</th>
<th style="text-align:center; width:30%">Message</th>
<th style="text-align:center; width:60%">Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">100</td>
<td style="vertical-align:middle;"> Continue</td>
<td>Only a part of the request has been received by the server, but as long as it has not been rejected, the client should continue with the request</td>
</tr>
<tr>
<td>101</td>
<td> Switching Protocols</td>
<td>The server switches protocol.</td>
</tr>
<tr>
<td>200</td>
<td> OK</td>
<td>The request is OK </td>
</tr>
<tr>
<td style="vertical-align:middle;">201</td>
<td style="vertical-align:middle;">Created</td>
<td>The request is complete, and a new resource is created</td>
</tr>
<tr>
<td style="vertical-align:middle;">202</td>
<td style="vertical-align:middle;">Accepted</td>
<td>The request is accepted for processing, but the processing is not complete.</td>
</tr>
<tr>
<td style="vertical-align:middle;">203</td>
<td style="width:36%;">Non-authoritative Information</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>204 </td>
<td>No Content</td>
<td>&nbsp; </td>
</tr>
<tr>
<td>205</td>
<td> Reset Content</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>206</td>
<td> Partial Content</td>
<td>&nbsp; </td>
</tr>
<tr>
<td style="vertical-align:middle;">300</td>
<td style="vertical-align:middle;">Multiple Choices</td>
<td>
A link list. The user can select a link and go to that location. Maximum five addresses </td>
</tr>
<tr>
<td style="vertical-align:middle;">301</td>
<td style="vertical-align:middle;"> Moved Permanently</td>
<td>The requested page has moved to a new url </td>
</tr>
<tr>
<td style="vertical-align:middle;">302</td>
<td style="vertical-align:middle;"> Found</td>
<td>The requested page has moved temporarily to a new url</td>
</tr>
<tr>
<td style="vertical-align:middle;">303</td>
<td style="vertical-align:middle;"> See Other</td>
<td>The requested page can be found under a different url</td>
</tr>
<tr>
<td>304</td>
<td> Not Modified</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>305</td>
<td> Use Proxy</td>
<td>&nbsp;
</td>
</tr>
<tr>
<td style="vertical-align:middle;">306</td>
<td style="vertical-align:middle;"><i>Unused</i></td>
<td>This code was used in a previous version. It is no longer used, but the code is reserved</td>
</tr>
<tr>
<td style="vertical-align:middle;">307</td>
<td style="vertical-align:middle;"> Temporary Redirect</td>
<td>The requested page has moved temporarily to a new url.</td>
</tr>
<tr>
<td>400</td>
<td>Bad Request</td>
<td>The server did not understand the request </td>
</tr>
<tr>
<td style="vertical-align:middle;">401</td>
<td style="vertical-align:middle;"> Unauthorized</td>
<td>The requested page needs a username and a password </td>
</tr>
<tr>
<td>402</td>
<td> Payment Required</td>
<td><i>You cannot use this code yet </i> </td>
</tr>
<tr>
<td>403</td>
<td> Forbidden</td>
<td>Access is forbidden to the requested page </td>
</tr>
<tr>
<td style="vertical-align:middle;">404</td>
<td style="vertical-align:middle;"> Not Found</td>
<td>The server cannot find the requested page.</td>
</tr>
<tr>
<td style="vertical-align:middle;">405</td>
<td style="vertical-align:middle;"> Method Not Allowed</td> 
<td>The method specified in the request is not allowed.</td>
</tr>
<tr>
<td style="vertical-align:middle;">406</td>
<td style="vertical-align:middle;"> Not Acceptable</td>
<td>The server can only generate a response that is not accepted by the client.</td>
</tr>
<tr>
<td style="vertical-align:middle;">407 </td>
<td>Proxy Authentication Required</td>
<td>You must authenticate with a proxy server before this request can be served.</td>
</tr>
<tr>
<td style="vertical-align:middle;">408</td>
<td style="vertical-align:middle;"> Request Timeout</td>
<td>The request took longer than the server was prepared to wait.</td>
</tr>
<tr>
<td style="vertical-align:middle;">409</td>
<td style="vertical-align:middle;"> Conflict</td>
<td>The request could not be completed because of a conflict.</td>
</tr>
<tr>
<td>410 </td>
<td>Gone</td>
<td>The requested page is no longer available.</td>
</tr>
<tr>
<td style="vertical-align:middle;">411</td>
<td style="vertical-align:middle;"> Length Required</td>
<td>The "Content-Length" is not defined. The server will not accept the request without it.</td>
</tr>
<tr>
<td style="vertical-align:middle;">412</td>
<td style="vertical-align:middle;"> Precondition Failed</td>
<td>The precondition given in the request evaluated to false by the server.</td>
</tr>
<tr>
<td style="vertical-align:middle;">413</td>
<td style="vertical-align:middle;"> Request Entity Too Large</td>
<td>The server will not accept the request, because the request entity is too large.</td>
</tr>
<tr>
<td style="vertical-align:middle;">414</td>
<td style="vertical-align:middle;"> Request-url Too Long</td>
<td>The server will not accept the request, because the url is too long. Occurs when you convert a "post" request to a "get" request with a long query information. </td>
</tr>
<tr>
<td style="vertical-align:middle;">415</td>
<td style="vertical-align:middle;"> Unsupported Media Type</td>
<td>The server will not accept the request, because the media type is not supported.</td>
</tr>
<tr>
<td>417</td>
<td> Expectation Failed</td>
<td>&nbsp;</td> 
</tr>
<tr>
<td style="vertical-align:middle;">500</td>
<td style="vertical-align:middle;">Internal Server Error</td>
<td>The request was not completed. The server met an unexpected condition.</td>
</tr>
<tr>
<td style="vertical-align:middle;">501</td>
<td style="vertical-align:middle;"> Not Implemented</td>
<td>The request was not completed. The server did not support the functionality required.</td>
</tr>
<tr>
<td style="vertical-align:middle;">502</td>
<td style="vertical-align:middle;"> Bad Gateway</td>
<td>The request was not completed. The server received an invalid response from the upstream server.</td>
</tr>
<tr>
<td style="vertical-align:middle;">503</td>
<td style="vertical-align:middle;"> Service Unavailable</td>
<td>The request was not completed. The server is temporarily overloading or down.</td>
</tr>
<tr>
<td>504</td>
<td> Gateway Timeout</td>
<td>The gateway has timed out.</td>
</tr>
<tr>
<td style="vertical-align:middle;">505</td>
<td> HTTP Version Not Supported</td>
<td>The server does not support the &quot;http protocol&quot; version.</td>
</tr>
</table>
<h2>Methods to Set HTTP Status Code</h2>
<p>The following methods can be used to set HTTP Status Code in your servlet program. These methods are available with <i>HttpServletResponse</i> object.</p>
<table class="table table-bordered">
<tr>
<th>Sr.No.</th>
<th style="text-align:center;">Method &amp; Description</th>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">1</td>
<td><p><b>public void setStatus ( int statusCode )</b></p>
<p>This method sets an arbitrary status code. The setStatus method takes an int (the status code) as an argument. If your response includes a special status code and a document, be sure to call setStatus before actually returning any of the content with the <i>PrintWriter</i>. </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">2</td>
<td><p><b>public void sendRedirect(String url)</b></p>
<p>This method generates a 302 response along with a <i>Location</i> header giving the URL of the new document</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">3</td>
<td><p><b>public void sendError(int code, String message)</b></p>
<p>This method sends a status code (usually 404) along with a short message that is automatically formatted inside an HTML document and sent to the client.</p></td>
</tr>
</table>
<h2>HTTP Status Code Example</h2>
<p>Following is the example which would send a 407 error code to the client browser and browser would show you "Need authentication!!!" message.</p>
<pre class="prettyprint notranslate">
// Import required java libraries
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
import java.util.*;

// Extend HttpServlet class
public class showError extends HttpServlet {
 
   // Method to handle GET method request.
   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      // Set error code and reason.
      response.sendError(407, "Need authentication!!!" );
   }
   
   // Method to handle POST method request.
   public void doPost(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      doGet(request, response);
   }
}
</pre>
<p>Now calling the above servlet would display the following result &minus;</p>
<pre class="result notranslate">
<h1 style="font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;">HTTP Status 407 - Need authentication!!!</h1>
<p><b style="font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;">type</b> Status report</p>
<p><b style="font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;">message</b><u>Need authentication!!!</u></p>
<p><b style="font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;">description</b><u>The client must first authenticate itself with the proxy (Need authentication!!!).</u></p>
<h3 style="font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;">Apache Tomcat/5.5.29</h3>
</pre>
<h1>Servlets - Writing Filters</h1>
<p>Servlet Filters are Java classes that can be used in Servlet Programming for the following purposes &minus;</p>
<ul class="list">
<li><p>To intercept requests from a client before they access a resource at back end.</p></li>
<li><p>To manipulate responses from server before they are sent back to the client.</p></li>
</ul>
<p>There are various types of filters suggested by the specifications &minus;</p>
<ul class="list">
<li>Authentication Filters.</li>
<li>Data compression Filters. </li>
<li>Encryption Filters.</li>
<li>Filters that trigger resource access events.</li>
<li>Image Conversion Filters.</li>
<li>Logging and Auditing Filters.</li> 
<li>MIME-TYPE Chain Filters.</li>
<li>Tokenizing Filters .</li>
<li>XSL/T Filters That Transform XML Content.</li> 
</ul>
<p>Filters are deployed in the deployment descriptor file <b>web.xml</b> and then map to either servlet names or URL patterns in your application's deployment descriptor.</p>
<p>When the web container starts up your web application, it creates an instance of each filter that you have declared in the deployment descriptor. The filters execute in the order that they are declared in the deployment descriptor.</p>
<h2>Servlet Filter Methods</h2>
<p>A filter is simply a Java class that implements the javax.servlet.Filter interface. The javax.servlet.Filter interface defines three methods &minus;</p>
<table class="table table-bordered">
<tr>
<th>Sr.No.</th>
<th style="text-align:center;">Method &amp; Description</th>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">1</td>
<td><p><b>public void doFilter (ServletRequest, ServletResponse, FilterChain)</b></p>
<p>This method is called by the container each time a request/response pair is passed through the chain due to a client request for a resource at the end of the chain.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">2</td>
<td><p><b>public void init(FilterConfig filterConfig)</b></p>
<p>This method is called by the web container to indicate to a filter that it is being placed into service.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">3</td>
<td><p><b>public void destroy()</b></p>
<p>This method is called by the web container to indicate to a filter that it is being taken out of service.</p></td>
</tr>
</table>
<h2>Servlet Filter &minus; Example </h2>
<p>Following is the Servlet Filter Example that would print the clients IP address and current date time. This example would give you basic understanding of Servlet Filter, but you can write more sophisticated filter applications using the same concept &minus;</p>
<pre class="prettyprint notranslate">
// Import required java libraries
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
import java.util.*;

// Implements Filter class
public class LogFilter implements Filter  {
   public void  init(FilterConfig config) throws ServletException {
      
      // Get init parameter 
      String testParam = config.getInitParameter("test-param"); 

      //Print the init parameter 
      System.out.println("Test Param: " + testParam); 
   }
   
   public void  doFilter(ServletRequest request, ServletResponse response,
      FilterChain chain) throws java.io.IOException, ServletException {

      // Get the IP address of client machine.
      String ipAddress = request.getRemoteAddr();

      // Log the IP address and current timestamp.
      System.out.println("IP "+ ipAddress + ", Time " + new Date().toString());

      // Pass request back down the filter chain
      chain.doFilter(request,response);
   }

   public void destroy( ) {
      /* Called before the Filter instance is removed from service by the web container*/
   }
}
</pre>
<p>Compile <b>LogFilter.java</b> in usual way and put your class file in &lt;Tomcat-installationdirectory&gt;/webapps/ROOT/WEB-INF/classes</p>
<h2>Servlet Filter Mapping in Web.xml</h2>
<p>Filters are defined and then mapped to a URL or Servlet, in much the same way as Servlet is defined and then mapped to a URL pattern. Create the following entry for filter tag in the deployment descriptor file <b>web.xml</b></p>
<pre class="prettyprint notranslate">
&lt;filter&gt;
   &lt;filter-name&gt;LogFilter&lt;/filter-name&gt;
   &lt;filter-class&gt;LogFilter&lt;/filter-class&gt;
   &lt;init-param&gt;
      &lt;param-name&gt;test-param&lt;/param-name&gt;
      &lt;param-value&gt;Initialization Paramter&lt;/param-value&gt;
   &lt;/init-param&gt;
&lt;/filter&gt;

&lt;filter-mapping&gt;
   &lt;filter-name&gt;LogFilter&lt;/filter-name&gt;
   &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;
</pre>
<p>The above filter would apply to all the servlets because we specified <b>/*</b> in our configuration. You can specicy a particular servlet path if you want to apply filter on few servlets only.</p>
<p>Now try to call any servlet in usual way and you would see generated log in your web server log. You can use Log4J logger to log above log in a separate file.</p>
<h2>Using Multiple Filters</h2>
<p>Your web application may define several different filters with a specific purpose. Consider, you define two filters <i>AuthenFilter</i> and <i>LogFilter</i>. Rest of the process would remain as explained above except you need to create a different mapping as mentioned below &minus;</p>
<pre class="prettyprint notranslate">
&lt;filter&gt;
   &lt;filter-name&gt;LogFilter&lt;/filter-name&gt;
   &lt;filter-class&gt;LogFilter&lt;/filter-class&gt;
   &lt;init-param&gt;
      &lt;param-name&gt;test-param&lt;/param-name&gt;
      &lt;param-value&gt;Initialization Paramter&lt;/param-value&gt;
   &lt;/init-param&gt;
&lt;/filter&gt;

&lt;filter&gt;
   &lt;filter-name&gt;AuthenFilter&lt;/filter-name&gt;
   &lt;filter-class&gt;AuthenFilter&lt;/filter-class&gt;
   &lt;init-param&gt;
      &lt;param-name&gt;test-param&lt;/param-name&gt;
      &lt;param-value&gt;Initialization Paramter&lt;/param-value&gt;
   &lt;/init-param&gt;
&lt;/filter&gt;

&lt;filter-mapping&gt;
   &lt;filter-name&gt;LogFilter&lt;/filter-name&gt;
   &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;

&lt;filter-mapping&gt;
   &lt;filter-name&gt;AuthenFilter&lt;/filter-name&gt;
   &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;
</pre>
<h2>Filters Application Order</h2>
<p>The order of filter-mapping elements in web.xml determines the order in which the web container applies the filter to the servlet. To reverse the order of the filter, you just need to reverse the filter-mapping elements in the web.xml file.</p>
<p>For example, above example would apply LogFilter first and then it would apply AuthenFilter to any servlet but the following example would reverse the order &minus;</p>
<pre class="prettyprint notranslate">
&lt;filter-mapping&gt;
   &lt;filter-name&gt;AuthenFilter&lt;/filter-name&gt;
   &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;

&lt;filter-mapping&gt;
   &lt;filter-name&gt;LogFilter&lt;/filter-name&gt;
   &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;
</pre>
<h1>Servlets - Exception Handling</h1>
<p>When a servlet throws an exception, the web container searches the configurations in <b>web.xml</b> that use the exception-type element for a match with the thrown exception type.</p>
<p>You would have to use the <b>error-page</b> element in web.xml to specify the invocation of servlets in response to certain <b>exceptions</b> or HTTP <b>status codes</b>.</p>
<h2>web.xml Configuration</h2>
<p>Consider, you have an <i>ErrorHandler</i> servlet which would be called whenever there is any defined exception or error. Following would be the entry created in web.xml.</p>
<pre class="prettyprint notranslate">
&lt;!-- servlet definition --&gt;
&lt;servlet&gt;
   &lt;servlet-name&gt;ErrorHandler&lt;/servlet-name&gt;
   &lt;servlet-class&gt;ErrorHandler&lt;/servlet-class&gt;
&lt;/servlet&gt;

&lt;!-- servlet mappings --&gt;
&lt;servlet-mapping&gt;
   &lt;servlet-name&gt;ErrorHandler&lt;/servlet-name&gt;
   &lt;url-pattern&gt;/ErrorHandler&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;

&lt;!-- error-code related error pages --&gt;
&lt;error-page&gt;
   &lt;error-code&gt;404&lt;/error-code&gt;
   &lt;location&gt;/ErrorHandler&lt;/location&gt;
&lt;/error-page&gt;

&lt;error-page&gt;
   &lt;error-code&gt;403&lt;/error-code&gt;
   &lt;location&gt;/ErrorHandler&lt;/location&gt;
&lt;/error-page&gt;

&lt;!-- exception-type related error pages --&gt;
&lt;error-page&gt;
   &lt;exception-type&gt;
      javax.servlet.ServletException
   &lt;/exception-type &gt;
   &lt;location&gt;/ErrorHandler&lt;/location&gt;
&lt;/error-page&gt;

&lt;error-page&gt;
   &lt;exception-type&gt;java.io.IOException&lt;/exception-type &gt;
   &lt;location&gt;/ErrorHandler&lt;/location&gt;
&lt;/error-page&gt;
</pre>
<p>If you want to have a generic Error Handler for all the exceptions then you should define following error-page instead of defining separate error-page elements for every exception &minus;</p>
<pre class="prettyprint notranslate">
&lt;error-page&gt;
   &lt;exception-type&gt;java.lang.Throwable&lt;/exception-type &gt;
   &lt;location&gt;/ErrorHandler&lt;/location&gt;
&lt;/error-page&gt;
</pre>
<p>Following are the points to be noted about above web.xml for Exception Handling &minus;</p>
<ul class="list">
<li><p>The servlet ErrorHandler is defined in usual way as any other servlet and configured in web.xml.</p></li>
<li><p>If there is any error with status code either 404 (Not Found) or 403 (Forbidden ), then ErrorHandler servlet would be called.</p></li>
<li><p>If the web application throws either ServletException or IOException, then the web container invokes the /ErrorHandler servlet.</p></li>
<li><p>You can define different Error Handlers to handle different type of errors or exceptions. Above example is very much generic and hope it serve the purpose to explain you the basic concept.</p></li>
</ul>
<h2>Request Attributes &minus; Errors/Exceptions</h2>
<p>Following is the list of request attributes that an error-handling servlet can access to analyze the nature of error/exception.</p>
<table class="table table-bordered">
<tr>
<th>Sr.No.</th>
<th style="text-align:center;">Attribute &amp; Description</th>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">1</td>
<td><p><b>javax.servlet.error.status_code </b></p>
<p>This attribute give status code which can be stored and analyzed after storing in a java.lang.Integer data type.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">2</td>
<td><p><b>javax.servlet.error.exception_type </b></p>
<p>This attribute gives information about exception type which can be stored and analysed after storing in a java.lang.Class data type.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">3</td>
<td><p><b>javax.servlet.error.message </b></p>
<p>This attribute gives information exact error message which can be stored and analyzed after storing in a java.lang.String data type.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">4</td>
<td><p><b>javax.servlet.error.request_uri </b></p>
<p>This attribute gives information about URL calling the servlet and it can be stored and analysed after storing in a java.lang.String data type.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">5</td>
<td><p><b>javax.servlet.error.exception </b></p>
<p>This attribute gives information about the exception raised, which can be stored and analysed.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">6</td>
<td><p><b>javax.servlet.error.servlet_name </b></p>
<p>This attribute gives servlet name which can be stored and analyzed after storing in a java.lang.String data type.</p></td>
</tr>
</table>
<h2>Error Handler Servlet Example </h2>
<p>This example would give you basic understanding of Exception Handling in Servlet, but you can write more sophisticated filter applications using the same concept &minus;</p>
<p>This example would give you basic understanding of Exception Handling in Servlet, but you can write more sophisticated filter applications using the same concept:</p>
<pre class="prettyprint notranslate">
// Import required java libraries
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
import java.util.*;

// Extend HttpServlet class
public class ErrorHandler extends HttpServlet {
 
   // Method to handle GET method request.
   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
         
      // Analyze the servlet exception       
      Throwable throwable = (Throwable)
      request.getAttribute("javax.servlet.error.exception");
      Integer statusCode = (Integer)
      request.getAttribute("javax.servlet.error.status_code");
      String servletName = (String)
      request.getAttribute("javax.servlet.error.servlet_name");
         
      if (servletName == null) {
         servletName = "Unknown";
      }
      String requestUri = (String)
      request.getAttribute("javax.servlet.error.request_uri");
      
      if (requestUri == null) {
         requestUri = "Unknown";
      }

      // Set response content type
      response.setContentType("text/html");

      PrintWriter out = response.getWriter();
      String title = "Error/Exception Information";
      String docType =
         "&lt;!doctype html public \"-//w3c//dtd html 4.0 " +
         "transitional//en\"&gt;\n";
         
      out.println(docType +
         "&lt;html&gt;\n" +
         "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n" +
         "&lt;body bgcolor = \"#f0f0f0\"&gt;\n");

      if (throwable == null &amp;&amp; statusCode == null) {
         out.println("&lt;h2&gt;Error information is missing&lt;/h2&gt;");
         out.println("Please return to the &lt;a href=\"" + 
            response.encodeURL("http://localhost:8080/") + 
            "\"&gt;Home Page&lt;/a&gt;.");
      } else if (statusCode != null) {
         out.println("The status code : " + statusCode);
      } else {
         out.println("&lt;h2&gt;Error information&lt;/h2&gt;");
         out.println("Servlet Name : " + servletName + "&lt;/br&gt;&lt;/br&gt;");
         out.println("Exception Type : " + throwable.getClass( ).getName( ) + "&lt;/br&gt;&lt;/br&gt;");
         out.println("The request URI: " + requestUri + "&lt;br&gt;&lt;br&gt;");
         out.println("The exception message: " + throwable.getMessage( ));
      }
      out.println("&lt;/body&gt;");
      out.println("&lt;/html&gt;");
   }
   
   // Method to handle POST method request.
   public void doPost(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      doGet(request, response);
   }
}
</pre>
<p>Compile <b>ErrorHandler.java</b> in usual way and put your class file in <Tomcat-installationdirectory>/webapps/ROOT/WEB-INF/classes.</p>
<p>Let us add the following configuration in web.xml to handle exceptions &minus;</p>
<pre class="prettyprint notranslate">
&lt;servlet&gt;
   &lt;servlet-name&gt;ErrorHandler&lt;/servlet-name&gt;
   &lt;servlet-class&gt;ErrorHandler&lt;/servlet-class&gt;
&lt;/servlet&gt;

&lt;!-- servlet mappings --&gt;
&lt;servlet-mapping&gt;
   &lt;servlet-name&gt;ErrorHandler&lt;/servlet-name&gt;
   &lt;url-pattern&gt;/ErrorHandler&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;

&lt;error-page&gt;
   &lt;error-code&gt;404&lt;/error-code&gt;
   &lt;location&gt;/ErrorHandler&lt;/location&gt;
&lt;/error-page&gt;

&lt;error-page&gt;
   &lt;exception-type&gt;java.lang.Throwable&lt;/exception-type &gt;
   &lt;location&gt;/ErrorHandler&lt;/location&gt;
&lt;/error-page&gt;
</pre>
<p>Now try to use a servlet which raise any exception or type a wrong URL, this would trigger Web Container to call <b>ErrorHandler</b> servlet and display an appropriate message as programmed. For example, if you type a wrong URL then it would display the following result &minus;</p>
<pre class="result notranslate">
The status code : 404
</pre>
<p>The above code may not work with some web browsers. So try with Mozilla and Safari and it should work.</p>
<h1>Servlets - Cookies Handling</h1>
<p>Cookies are text files stored on the client computer and they are kept for various information tracking purpose. Java Servlets transparently supports HTTP cookies.</p>
<p>There are three steps involved in identifying returning users &minus;</p>
<ul class="list">
<li><p>Server script sends a set of cookies to the browser. For example name, age, or identification number etc.</p></li>
<li><p>Browser stores this information on local machine for future use.</p></li>
<li><p>When next time browser sends any request to web server then it sends those cookies information to the server and server uses that information to identify the user.</p></li>
</ul>
<p>This chapter will teach you how to set or reset cookies, how to access them and how to delete them.</p>
<h2>The Anatomy of a Cookie </h2>
<p>Cookies are usually set in an HTTP header (although JavaScript can also set a cookie directly on a browser). A servlet that sets a cookie might send headers that look something like this &minus;</p>
<pre class="result notranslate">
HTTP/1.1 200 OK
Date: Fri, 04 Feb 2000 21:03:38 GMT
Server: Apache/1.3.9 (UNIX) PHP/4.0b3
Set-Cookie: name = xyz; expires = Friday, 04-Feb-07 22:03:38 GMT; 
   path = /; domain = tutorialspoint.com
Connection: close
Content-Type: text/html
</pre>
<p>As you can see, the Set-Cookie header contains a name value pair, a GMT date, a path and a domain. The name and value will be URL encoded. The expires field is an instruction to the browser to "forget" the cookie after the given time and date.</p>
<p>If the browser is configured to store cookies, it will then keep this information until the expiry date. If the user points the browser at any page that matches the path and domain of the cookie, it will resend the cookie to the server. The browser's headers might look something like this &minus;</p>
<pre class="result notranslate">
GET / HTTP/1.0
Connection: Keep-Alive
User-Agent: Mozilla/4.6 (X11; I; Linux 2.2.6-15apmac ppc)
Host: zink.demon.co.uk:1126
Accept: image/gif, */*
Accept-Encoding: gzip
Accept-Language: en
Accept-Charset: iso-8859-1,*,utf-8
Cookie: name = xyz
</pre>
<p>A servlet will then have access to the cookie through the request method <i>request.getCookies()</i> which returns an array of <i>Cookie</i> objects.</p>
<h2>Servlet Cookies Methods</h2>
<p>Following is the list of useful methods which you can use while manipulating cookies in servlet.</p>
<table class="table table-bordered">
<tr>
<th>Sr.No.</th>
<th style="text-align:center;">Method &amp; Description</th>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">1</td>
<td><p><b>public void setDomain(String pattern) </b></p>
<p>This method sets the domain to which cookie applies, for example tutorialspoint.com.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">2</td>
<td><p><b>public String getDomain() </b></p>
<p>This method gets the domain to which cookie applies, for example tutorialspoint.com.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">3</td>
<td><p><b>public void setMaxAge(int expiry)</b></p>
<p>This method sets how much time (in seconds) should elapse before the cookie expires. If you don't set this, the cookie will last only for the current session.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">4</td>
<td><p><b>public int getMaxAge()</b></p>
<p>This method returns the maximum age of the cookie, specified in seconds, By default, -1 indicating the cookie will persist until browser shutdown.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">5</td>
<td><p><b>public String getName()</b></p>
<p>This method returns the name of the cookie. The name cannot be changed after creation.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">6</td>
<td><p><b>public void setValue(String newValue) </b></p>
<p>This method sets the value associated with the cookie</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">7</td>
<td><p><b>public String getValue() </b></p>
<p>This method gets the value associated with the cookie.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">8</td>
<td><p><b>public void setPath(String uri) </b></p>
<p>This method sets the path to which this cookie applies. If you don't specify a path, the cookie is returned for all URLs in the same directory as the current page as well as all subdirectories.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">9</td>
<td><p><b>public String getPath()</b></p>
<p>This method gets the path to which this cookie applies.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">10</td>
<td><p><b>public void setSecure(boolean flag)</b></p>
<p>This method sets the boolean value indicating whether the cookie should only be sent over encrypted (i.e. SSL) connections.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">11</td>
<td><p><b>public void setComment(String purpose) </b></p>
<p>This method specifies a comment that describes a cookie's purpose. The comment is useful if the browser presents the cookie to the user.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">12</td>
<td><p><b>public String getComment()</b></p>
<p>This method returns the comment describing the purpose of this cookie, or null if the cookie has no comment.</p></td>
</tr>
</table>
<h2>Setting Cookies with Servlet</h2>
<p>Setting cookies with servlet involves three steps &minus;</p>
<p><b>(1) Creating a Cookie object</b> &minus; You call the Cookie constructor with a cookie name and a cookie value, both of which are strings.</p>
<pre class="result notranslate">
Cookie cookie = new Cookie("key","value");
</pre>
<p>Keep in mind, neither the name nor the value should contain white space or any of the following characters &minus;</p>
<pre class="result notranslate">
[ ] ( ) = , " / ? @ : ;
</pre>
<p><b>(2) Setting the maximum age</b> &minus; You use setMaxAge to specify how long (in seconds) the cookie should be valid. Following would set up a cookie for 24 hours.</p>
<pre class="result notranslate">
cookie.setMaxAge(60 * 60 * 24); 
</pre>
<p><b>(3) Sending the Cookie into the HTTP response headers</b> &minus; You use response.addCookie to add cookies in the HTTP response header as follows &minus;</p>
<pre class="result notranslate">
response.addCookie(cookie);
</pre>
<h3>Example</h3>
<p>Let us modify our <a href="servlets-form-data.html">Form Example</a> to set the cookies for first and last name.</p>
<pre class="prettyprint notranslate">
// Import required java libraries
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
 
// Extend HttpServlet class
public class HelloForm extends HttpServlet {

   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      // Create cookies for first and last names.      
      Cookie firstName = new Cookie("first_name", request.getParameter("first_name"));
      Cookie lastName = new Cookie("last_name", request.getParameter("last_name"));

      // Set expiry date after 24 Hrs for both the cookies.
      firstName.setMaxAge(60*60*24);
      lastName.setMaxAge(60*60*24);

      // Add both the cookies in the response header.
      response.addCookie( firstName );
      response.addCookie( lastName );

      // Set response content type
      response.setContentType("text/html");
 
      PrintWriter out = response.getWriter();
      String title = "Setting Cookies Example";
      String docType =
         "&lt;!doctype html public \"-//w3c//dtd html 4.0 " + "transitional//en\"&gt;\n";
      
      out.println(docType +
         "&lt;html&gt;\n" +
            "&lt;head&gt;
               &lt;title&gt;" + title + "&lt;/title&gt;
            &lt;/head&gt;\n" +
            
            "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" +
               "&lt;h1 align = \"center\"&gt;" + title + "&lt;/h1&gt;\n" +
               "&lt;ul&gt;\n" +
                  "  &lt;li&gt;&lt;b&gt;First Name&lt;/b&gt;: "
                  + request.getParameter("first_name") + "\n" +
                  "  &lt;li&gt;&lt;b&gt;Last Name&lt;/b&gt;: "
                  + request.getParameter("last_name") + "\n" +
               "&lt;/ul&gt;\n" +
            "&lt;/body&gt;
         &lt;/html&gt;"
      );
   }
}
</pre>
<p>Compile the above servlet <b>HelloForm</b> and create appropriate entry in web.xml file and finally try following HTML page to call servlet. </p> 
<pre class="prettyprint notranslate"> 
&lt;html&gt;
   &lt;body&gt;
      &lt;form action = "HelloForm" method = "GET"&gt;
         First Name: &lt;input type = "text" name = "first_name"&gt;
         &lt;br /&gt;
         Last Name: &lt;input type = "text" name = "last_name" /&gt;
         &lt;input type = "submit" value = "Submit" /&gt;
      &lt;/form&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Keep above HTML content in a file Hello.htm and put it in &lt;Tomcat-installationdirectory&gt;/webapps/ROOT directory. When you would access <i>http://localhost:8080/Hello.htm</i>, here is the actual output of the above form.</p> 
<form action="javascript:void();" method="get" target="_blank"> 
First Name: <input type="text" name="first_name" />  <br /> 
 
Last Name: <input type="text" name="last_name" /> 
<input type="button" value="Submit" /> 
</form> 
<p>Try to enter First Name and Last Name and then click submit button. This would display first name and last name on your screen and same time it would set two cookies firstName and lastName which would be passed back to the server when next time you would press Submit button.</p> 
<p>Next section would explain you how you would access these cookies back in your web application.</p>
<h2>Reading Cookies with Servlet </h2>
<p>To read cookies, you need to create an array of <i>javax.servlet.http.Cookie</i> objects by calling the <b>getCookies()</b> method of <i>HttpServletRequest</i>. Then cycle through the array, and use getName() and getValue() methods to access each cookie and associated value.</p>
<h3>Example</h3>
<p>Let us read cookies which we have set in previous example &minus;</p>
<pre class="prettyprint notranslate">
// Import required java libraries
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
 
// Extend HttpServlet class
public class ReadCookies extends HttpServlet {
 
   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      Cookie cookie = null;
      Cookie[] cookies = null;

      // Get an array of Cookies associated with this domain
      cookies = request.getCookies();

      // Set response content type
      response.setContentType("text/html");

      PrintWriter out = response.getWriter();
      String title = "Reading Cookies Example";
      String docType =
         "&lt;!doctype html public \"-//w3c//dtd html 4.0 " +
         "transitional//en\"&gt;\n";
         
      out.println(docType +
         "&lt;html&gt;\n" +
         "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n" +
         "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" );

      if( cookies != null ) {
         out.println("&lt;h2&gt; Found Cookies Name and Value&lt;/h2&gt;");

         for (int i = 0; i &lt; cookies.length; i++) {
            cookie = cookies[i];
            out.print("Name : " + cookie.getName( ) + ",  ");
            out.print("Value: " + cookie.getValue( ) + " &lt;br/&gt;");
         }
      } else {
         out.println("&lt;h2&gt;No cookies founds&lt;/h2&gt;");
      }
      out.println("&lt;/body&gt;");
      out.println("&lt;/html&gt;");
   }
}
</pre>
<p>Compile above servlet <b>ReadCookies</b> and create appropriate entry in web.xml file. If you would have set first_name cookie as "John" and last_name cookie as "Player" then running <i>http://localhost:8080/ReadCookies</i> would display the following result &minus;</p>
<pre class="result notranslate">
<h2> Found Cookies Name and Value</h2>
Name : first_name, Value: John <br />
Name : last_name,  Value: Player
</pre>
<h2>Delete Cookies with Servlet </h2>
<p>To delete cookies is very simple. If you want to delete a cookie then you simply need to follow up following three steps &minus;</p>
<ul class="list">
<li><p>Read an already existing cookie and store it in Cookie object.</p></li>
<li><p>Set cookie age as zero using <b>setMaxAge()</b> method to delete an existing cookie</p></li>
<li><p>Add this cookie back into response header.</p></li>
</ul>
<h3>Example</h3>
<p>The following example would delete and existing cookie named "first_name" and when you would run ReadCookies servlet next time it would return null value for first_name.</p>
<pre class="prettyprint notranslate">
// Import required java libraries
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
 
// Extend HttpServlet class
public class DeleteCookies extends HttpServlet {
 
   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      Cookie cookie = null;
      Cookie[] cookies = null;
         
      // Get an array of Cookies associated with this domain
      cookies = request.getCookies();

      // Set response content type
      response.setContentType("text/html");
 
      PrintWriter out = response.getWriter();
      String title = "Delete Cookies Example";
      String docType =
         "&lt;!doctype html public \"-//w3c//dtd html 4.0 " + "transitional//en\"&gt;\n";
         
      out.println(docType +
         "&lt;html&gt;\n" +
         "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n" +
         "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" );
         
      if( cookies != null ) {
         out.println("&lt;h2&gt; Cookies Name and Value&lt;/h2&gt;");

         for (int i = 0; i &lt; cookies.length; i++) {
            cookie = cookies[i];

            if((cookie.getName( )).compareTo("first_name") == 0 ) {
               cookie.setMaxAge(0);
               response.addCookie(cookie);
               out.print("Deleted cookie : " + cookie.getName( ) + "&lt;br/&gt;");
            }
            out.print("Name : " + cookie.getName( ) + ",  ");
            out.print("Value: " + cookie.getValue( )+" &lt;br/&gt;");
         }
      } else {
         out.println("&lt;h2&gt;No cookies founds&lt;/h2&gt;");
      }
      out.println("&lt;/body&gt;");
      out.println("&lt;/html&gt;");
   }
}
</pre>
<p>Compile above servlet <b>DeleteCookies</b> and create appropriate entry in web.xml file. Now running <i>http://localhost:8080/DeleteCookies</i> would display the following result &minus;</p>
<pre class="result notranslate">
<h2>Cookies Name and Value</h2>
<p>Deleted cookie : first_name</p>
<p>Name : first_name, Value: John</p>
<p>Name : last_name,  Value: Player</p>
</pre>
<p>Now try to run <i>http://localhost:8080/ReadCookies</i> and it would display only one cookie as follows &minus;</p>
<pre class="result notranslate">
<h2> Found Cookies Name and Value</h2>
Name : last_name,  Value: Player
</pre>
<p>You can delete your cookies in Internet Explorer manually. Start at the Tools menu and select Internet Options. To delete all cookies, press Delete Cookies.</p>
<h1>Servlets - Session Tracking</h1>
<p>HTTP is a "stateless" protocol which means each time a client retrieves a Web page, the client opens a separate connection to the Web server and the server automatically does not keep any record of previous client request.</p>
<p>Still there are following three ways to maintain session between web client and web server &minus;</p>
<h2>Cookies</h2>
<p>A webserver can assign a unique session ID as a cookie to each web client and for subsequent requests from the client they can be recognized using the recieved cookie.</p>
<p>This may not be an effective way because many time browser does not support a cookie, so I would not recommend to use this procedure to maintain the sessions.</p>
<h2>Hidden Form Fields</h2>
<p>A web server can send a hidden HTML form field along with a unique session ID as follows &minus;</p>
<pre class="result notranslate">
&lt;input type = "hidden" name = "sessionid" value = "12345"&gt;
</pre>
<p>This entry means that, when the form is submitted, the specified name and value are automatically included in the GET or POST data. Each time when web browser sends request back, then session_id value can be used to keep the track of different web browsers.</p>
<p>This could be an effective way of keeping track of the session but clicking on a regular (&lt;A HREF...&gt;) hypertext link does not result in a form submission, so hidden form fields also cannot support general session tracking.</p>
<h2>URL Rewriting</h2>
<p>You can append some extra data on the end of each URL that identifies the session, and the server can associate that session identifier with data it has stored about that session.</p>
<p>For example, with http://tutorialspoint.com/file.htm;sessionid = 12345, the session identifier is attached as sessionid = 12345 which can be accessed at the web server to identify the client.</p>
<p>URL rewriting is a better way to maintain sessions and it works even when browsers don't support cookies.  The drawback of URL re-writing is that you would have to generate every URL dynamically to assign a session ID, even in case of a simple static HTML page.</p>
<h2>The HttpSession Object</h2>
<p>Apart from the above mentioned three ways, servlet provides HttpSession Interface which provides a way to identify a user across more than one page request or visit to a Web site and to store information about that user.</p>
<p>The servlet container uses this interface to create a session between an HTTP client and an HTTP server. The session persists for a specified time period, across more than one connection or page request from the user.</p>
<p>You would get HttpSession object by calling the public method <b>getSession()</b> of HttpServletRequest, as below &minus;</p>
<pre class="prettyprint notranslate">
HttpSession session = request.getSession();
</pre>
<p>You need to call <i>request.getSession()</i> before you send any document content to the client. Here is a summary of the important methods available through HttpSession object &minus;</p>
<table class="table table-bordered">
<tr>
<th>Sr.No.</th>
<th style="text-align:center;">Method &amp; Description</th>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">1</td>
<td><p><b>public Object getAttribute(String name) </b></p>
<p>This method returns the object bound with the specified name in this session, or null if no object is bound under the name.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">2</td>
<td><p><b>public Enumeration getAttributeNames()</b></p>
<p>This method returns an Enumeration of String objects containing the names of all the objects bound to this session.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">3</td>
<td><p><b>public long getCreationTime() </b></p>
<p>This method returns the time when this session was created, measured in milliseconds since midnight January 1, 1970 GMT.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">4</td>
<td><p><b>public String getId() </b></p>
<p>This method returns a string containing the unique identifier assigned to this session.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">5</td>
<td><p><b>public long getLastAccessedTime() </b></p>
<p>This method returns the last accessed time of the session, in the format of milliseconds since midnight January 1, 1970 GMT</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">6</td>
<td><p><b>public int getMaxInactiveInterval() </b></p>
<p>This method returns the maximum time interval (seconds), that the servlet container will keep the session open between client accesses.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">7</td>
<td><p><b>public void invalidate() </b></p>
<p>This method invalidates this session and unbinds any objects bound to it.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">8</td>
<td><p><b>public boolean isNew( </b></p>
<p>This method returns true if the client does not yet know about the session or if the client chooses not to join the session.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">9</td>
<td><p><b>public void removeAttribute(String name) </b></p>
<p>This method removes the object bound with the specified name from this session. </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">10</td>
<td><p><b>public void setAttribute(String name, Object value) </b></p>
<p>This method binds an object to this session, using the name specified.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">11</td>
<td><p><b>public void setMaxInactiveInterval(int interval) </b></p>
<p>This method specifies the time, in seconds, between client requests before the servlet container will invalidate this session. </p></td>
</tr>
</table>
<h2>Session Tracking Example </h2>
<p>This example describes how to use the HttpSession object to find out the creation time and the last-accessed time for a session. We would associate a new session with the request if one does not already exist.</p>
<pre class="prettyprint notranslate">
// Import required java libraries
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
import java.util.*;
 
// Extend HttpServlet class
public class SessionTrack extends HttpServlet {
 
   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
         
      // Create a session object if it is already not  created.
      HttpSession session = request.getSession(true);
         
      // Get session creation time.
      Date createTime = new Date(session.getCreationTime());
         
      // Get last access time of this web page.
      Date lastAccessTime = new Date(session.getLastAccessedTime());

      String title = "Welcome Back to my website";
      Integer visitCount = new Integer(0);
      String visitCountKey = new String("visitCount");
      String userIDKey = new String("userID");
      String userID = new String("ABCD");

      // Check if this is new comer on your web page.
      if (session.isNew()) {
         title = "Welcome to my website";
         session.setAttribute(userIDKey, userID);
      } else {
         visitCount = (Integer)session.getAttribute(visitCountKey);
         visitCount = visitCount + 1;
         userID = (String)session.getAttribute(userIDKey);
      }
      session.setAttribute(visitCountKey,  visitCount);

      // Set response content type
      response.setContentType("text/html");
      PrintWriter out = response.getWriter();

      String docType =
         "&lt;!doctype html public \"-//w3c//dtd html 4.0 " +
         "transitional//en\"&gt;\n";

      out.println(docType +
         "&lt;html&gt;\n" +
            "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n" +
            
            "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" +
               "&lt;h1 align = \"center\"&gt;" + title + "&lt;/h1&gt;\n" +
               "&lt;h2 align = \"center\"&gt;Session Infomation&lt;/h2&gt;\n" +
               "&lt;table border = \"1\" align = \"center\"&gt;\n" +
                  
                  "&lt;tr bgcolor = \"#949494\"&gt;\n" +
                     "  &lt;th&gt;Session info&lt;/th&gt;&lt;th&gt;value&lt;/th&gt;
                  &lt;/tr&gt;\n" +
                     
                  "&lt;tr&gt;\n" +
                     "  &lt;td&gt;id&lt;/td&gt;\n" +
                     "  &lt;td&gt;" + session.getId() + "&lt;/td&gt;
                  &lt;/tr&gt;\n" +
                  
                  "&lt;tr&gt;\n" +
                     "  &lt;td&gt;Creation Time&lt;/td&gt;\n" +
                     "  &lt;td&gt;" + createTime + "  &lt;/td&gt;
                  &lt;/tr&gt;\n" +
                  
                  "&lt;tr&gt;\n" +
                     "  &lt;td&gt;Time of Last Access&lt;/td&gt;\n" +
                     "  &lt;td&gt;" + lastAccessTime + "  &lt;/td&gt;
                  &lt;/tr&gt;\n" +
                  
                  "&lt;tr&gt;\n" +
                     "  &lt;td&gt;User ID&lt;/td&gt;\n" +
                     "  &lt;td&gt;" + userID + "  &lt;/td&gt;
                  &lt;/tr&gt;\n" +
                  
                  "&lt;tr&gt;\n" +
                     "  &lt;td&gt;Number of visits&lt;/td&gt;\n" +
                     "  &lt;td&gt;" + visitCount + "&lt;/td&gt;
                  &lt;/tr&gt;\n" +
               "&lt;/table&gt;\n" +
            "&lt;/body&gt;
         &lt;/html&gt;"
      );
   }
}
</pre>
<p>Compile the above servlet  <b>SessionTrack</b> and create appropriate entry in web.xml file. Now running <i>http://localhost:8080/SessionTrack</i> would display the following result when you would run for the first time &minus;</p>
<pre class="result notranslate">
<h1 align="center">Welcome to my website</h1>
<h2 align="center">Session Infomation</h2>
<table cellpadding="5" class="table table-bordered">
<tr bgcolor="#949494">
<th>Session info</th>
<th>value</th>
</tr>
<tr>
<td>id</td>
<td>0AE3EC93FF44E3C525B4351B77ABB2D5</td>
</tr>
<tr>
<td>Creation Time</td>
<td>Tue Jun 08 17:26:40 GMT+04:00 2010  </td>
</tr>
<tr>
<td>Time of Last Access</td>
<td>Tue Jun 08 17:26:40 GMT+04:00 2010  </td>
</tr>
<tr>
<td>User ID</td>
<td>ABCD  </td>
</tr>
<tr>
<td>Number of visits</td>
<td>0</td>
</tr>
</table>
</pre>
<p>Now try to run the same servlet for second time, it would display following result.</p>
<pre class="result notranslate">
<h1 align="center">Welcome Back to my website</h1>
<h2 align="center">Session Infomation</h2>
<table cellpadding="5" class="table table-bordered">
<tr bgcolor="#949494">
<th>info type</th>
<th>value</th>
</tr>
<tr>
<td>id</td>
<td>0AE3EC93FF44E3C525B4351B77ABB2D5</td>
</tr>
<tr>
<td>Creation Time</td>
<td>Tue Jun 08 17:26:40 GMT+04:00 2010  </td>
</tr>
<tr>
<td>Time of Last Access</td>
<td>Tue Jun 08 17:26:40 GMT+04:00 2010  </td>
</tr>
<tr>
<td>User ID</td>
<td>ABCD  </td>
</tr>
<tr>
<td>Number of visits</td>
<td>1</td>
</tr>
</table>
</pre>
<h2>Deleting Session Data</h2>
<p>When you are done with a user's session data, you have several options &minus;</p>
<ul class="list">
<li><p><b>Remove a particular attribute</b> &minus; You can call <i>public void removeAttribute(String name)</i> method to delete the value associated with a particular key.</p></li>
<li><p><b>Delete the whole session</b> &minus; You can call <i>public void invalidate()</i> method to discard an entire session.</p></li>
<li><p><b>Setting Session timeout</b> &minus; You can call <i>public void setMaxInactiveInterval(int interval)</i> method to set the timeout for a session individually.</p></li>
<li><p><b>Log the user out</b> &minus; The servers that support servlets 2.4, you can call <b>logout</b> to log the client out of the Web server and invalidate all sessions belonging to all the users.</p></li>
<li><p><b>web.xml Configuration</b> &minus; If you are using Tomcat, apart from the above mentioned methods, you can configure session time out in web.xml file as follows.</p></li>
</ul>
<pre class="prettyprint notranslate">
&lt;session-config&gt;
   &lt;session-timeout&gt;15&lt;/session-timeout&gt;
&lt;/session-config&gt;
</pre>
<p>The timeout is expressed as minutes, and overrides the default timeout which is 30 minutes in Tomcat. </p>
<p>The getMaxInactiveInterval( ) method in a servlet returns the timeout period for that session in seconds. So if your session is configured in web.xml for 15 minutes, getMaxInactiveInterval( ) returns 900.</p>
<h1>Servlets - Database Access</h1>
<p>This tutorial assumes you have understanding on how JDBC application works. Before starting with database access through a servlet, make sure you have proper JDBC environment setup along with a database.</p>
<p>For more detail on how to access database using JDBC and its environment setup you can go through our <a href="../jdbc/index.html" title="JDBC Tutorial" target="_blank">JDBC Tutorial</a>.</p>
<p>To start with basic concept, let us create a simple table and create few records in that table as follows &minus;</p>
<h2>Create Table</h2>
<p>To create the <b>Employees</b> table in TEST database, use the following steps &minus;</p>
<h3>Step 1</h3>
<p>Open a <b>Command Prompt</b> and change to the installation directory as follows &minus;</p>
<pre class="prettyprint notranslate">
C:\&gt;
C:\&gt;cd Program Files\MySQL\bin
C:\Program Files\MySQL\bin&gt;
</pre>
<h3>Step 2</h3>
<p>Login to database as follows</p>
<pre class="prettyprint notranslate">
C:\Program Files\MySQL\bin&gt;mysql -u root -p
Enter password: ********
mysql&gt;
</pre>
<h3>Step 3</h3>
<p>Create the table <b>Employee</b> in <b>TEST</b> database as follows &minus;</p>
<pre class="prettyprint notranslate">
mysql&gt; use TEST;
mysql&gt; create table Employees (
   id int not null,
   age int not null,
   first varchar (255),
   last varchar (255)
);
Query OK, 0 rows affected (0.08 sec)
mysql&gt;
</pre>
<h2>Create Data Records</h2>
<p>Finally you create few records in Employee table as follows &minus;</p>
<pre class="prettyprint notranslate">
mysql&gt; INSERT INTO Employees VALUES (100, 18, 'Zara', 'Ali');
Query OK, 1 row affected (0.05 sec)
 
mysql&gt; INSERT INTO Employees VALUES (101, 25, 'Mahnaz', 'Fatma');
Query OK, 1 row affected (0.00 sec)
 
mysql&gt; INSERT INTO Employees VALUES (102, 30, 'Zaid', 'Khan');
Query OK, 1 row affected (0.00 sec)
 
mysql&gt; INSERT INTO Employees VALUES (103, 28, 'Sumit', 'Mittal');
Query OK, 1 row affected (0.00 sec)
 
mysql&gt;
</pre>
<h2>Accessing a Database</h2>
<p>Here is an example which shows how to access TEST database using Servlet.</p>
<pre class="prettyprint notranslate">
// Loading required libraries
import java.io.*;
import java.util.*;
import javax.servlet.*;
import javax.servlet.http.*;
import java.sql.*;
 
public class DatabaseAccess extends HttpServlet{

   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
   
      // JDBC driver name and database URL
      static final String JDBC_DRIVER = "com.mysql.jdbc.Driver";  
      static final String DB_URL="jdbc:mysql://localhost/TEST";

      //  Database credentials
      static final String USER = "root";
      static final String PASS = "password";

      // Set response content type
      response.setContentType("text/html");
      PrintWriter out = response.getWriter();
      String title = "Database Result";
      
      String docType =
         "&lt;!doctype html public \"-//w3c//dtd html 4.0 " + "transitional//en\"&gt;\n";
      
      out.println(docType +
         "&lt;html&gt;\n" +
         "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n" +
         "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" +
         "&lt;h1 align = \"center\"&gt;" + title + "&lt;/h1&gt;\n");
      try {
         // Register JDBC driver
         Class.forName("com.mysql.jdbc.Driver");

         // Open a connection
         Connection conn = DriverManager.getConnection(DB_URL, USER, PASS);

         // Execute SQL query
         Statement stmt = conn.createStatement();
         String sql;
         sql = "SELECT id, first, last, age FROM Employees";
         ResultSet rs = stmt.executeQuery(sql);

         // Extract data from result set
         while(rs.next()){
            //Retrieve by column name
            int id  = rs.getInt("id");
            int age = rs.getInt("age");
            String first = rs.getString("first");
            String last = rs.getString("last");

            //Display values
            out.println("ID: " + id + "&lt;br&gt;");
            out.println(", Age: " + age + "&lt;br&gt;");
            out.println(", First: " + first + "&lt;br&gt;");
            out.println(", Last: " + last + "&lt;br&gt;");
         }
         out.println("&lt;/body&gt;&lt;/html&gt;");

         // Clean-up environment
         rs.close();
         stmt.close();
         conn.close();
      } catch(SQLException se) {
         //Handle errors for JDBC
         se.printStackTrace();
      } catch(Exception e) {
         //Handle errors for Class.forName
         e.printStackTrace();
      } finally {
         //finally block used to close resources
         try {
            if(stmt!=null)
               stmt.close();
         } catch(SQLException se2) {
         } // nothing we can do
         try {
            if(conn!=null)
            conn.close();
         } catch(SQLException se) {
            se.printStackTrace();
         } //end finally try
      } //end try
   }
} 
</pre>
<p>Now let us compile above servlet and create following entries in web.xml </p>
<pre class="prettyprint notranslate">
....
&lt;servlet&gt;
   &lt;servlet-name&gt;DatabaseAccess&lt;/servlet-name&gt;
   &lt;servlet-class&gt;DatabaseAccess&lt;/servlet-class&gt;
&lt;/servlet&gt;
 
&lt;servlet-mapping&gt;
   &lt;servlet-name&gt;DatabaseAccess&lt;/servlet-name&gt;
   &lt;url-pattern&gt;/DatabaseAccess&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
....
</pre>
<p>Now call this servlet using URL http://localhost:8080/DatabaseAccess which would display following response &minus;</p>
<pre class="result notranslate">
<h1 align="center">Database Result</h1>
ID: 100, Age: 18, First: Zara, Last: Ali
ID: 101, Age: 25, First: Mahnaz, Last: Fatma
ID: 102, Age: 30, First: Zaid, Last: Khan
ID: 103, Age: 28, First: Sumit, Last: Mittal
</pre>
<h1>Servlets - File Uploading</h1>
<p>A Servlet can be used with an HTML form tag to allow users to upload files to the server. An uploaded file could be a text file or image file or any document.</p>
<h2>Creating a File Upload Form </h2> 
<p>The following HTM code below creates an uploader form. Following are the important points to be noted down &minus;</p>
<ul class="list">
<li><p>The form <b>method</b> attribute should be set to <b>POST</b> method and GET method can not be used</p></li>
<li><p>The form <b>enctype</b> attribute should be set to <b>multipart/form-data</b>.</p></li>
<li><p>The form <b>action</b> attribute should be set to a servlet file which would handle file uploading at backend server. Following example is using <b>UploadServlet</b> servlet to upload file.</p></li>
<li><p>To upload a single file you should use a single &lt;input .../&gt; tag with attribute type="file". To allow multiple files uploading, include more than one input tags with different values for the name attribute. The browser associates a Browse button with each of them.</p></li>
</ul>
<pre class="prettyprint notranslate"> 
&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;File Uploading Form&lt;/title&gt;
   &lt;/head&gt;
   
   &lt;body&gt;
      &lt;h3&gt;File Upload:&lt;/h3&gt;
      Select a file to upload: &lt;br /&gt;
      &lt;form action = "UploadServlet" method = "post" enctype = "multipart/form-data"&gt;
         &lt;input type = "file" name = "file" size = "50" /&gt;
         &lt;br /&gt;
         &lt;input type = "submit" value = "Upload File" /&gt;
      &lt;/form&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>This will display following result which would allow to select a file from local PC and when user would click at "Upload File", form would be submitted along with the selected fil &minus;</p> 
<pre class="result notranslate"> 
<b>File Upload:</b> 
Select a file to upload: <br /> 
<input type="file" name="file" size="50" /> 
<br /> 
<input type="button" value="Upload File" /> 
<br /> 
NOTE: This is just dummy form and would not work.
</pre>
<h2>Writing Backend Servlet </h2>
<p>Following is the servlet <b>UploadServlet</b> which would take care of accepting uploaded file and to store it in directory &lt;Tomcat-installation-directory&gt;/webapps/data. This directory name could also be added using an external configuration such as a <b>context-param</b> element in web.xml as follows &minus;</p>
<pre class="prettyprint notranslate"> 
&lt;web-app&gt;
   ....
   &lt;context-param&gt; 
      &lt;description&gt;Location to store uploaded file&lt;/description&gt; 
      &lt;param-name&gt;file-upload&lt;/param-name&gt; 
      &lt;param-value&gt;
         c:\apache-tomcat-5.5.29\webapps\data\
     &lt;/param-value&gt; 
   &lt;/context-param&gt;
   ....
&lt;/web-app&gt;
</pre> 
<p>Following is the source code for UploadServlet which can handle multiple file uploading at a time. Before proceeding you have make sure the followings &minus;</p>
<ul class="list">
<li><p>Following example depends on FileUpload, so make sure you have the latest version of <b>commons-fileupload.x.x.jar</b> file in your classpath. You can download it from <a rel="nofollow" href="https://commons.apache.org/fileupload/" target="_blank">https://commons.apache.org/fileupload/</a>.</p></li>
<li><p>FileUpload depends on Commons IO, so make sure you have the latest version of <b>commons-io-x.x.jar</b> file in your classpath. You can download it from <a href="https://commons.apache.org/io/" rel="nofollow" target="_blank">https://commons.apache.org/io/</a>.</p></li>
<li><p>While testing following example, you should upload a file which has less size than <i>maxFileSize</i> otherwise file would not be uploaded.</p></li>
<li><p>Make sure you have created directories c:\temp and c:\apache-tomcat8.0.28\webapps\data well in advance. </p></li>
</ul>
<pre class="prettyprint notranslate">
// Import required java libraries
import java.io.*;
import java.util.*;
 
import javax.servlet.ServletConfig;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
 
import org.apache.commons.fileupload.FileItem;
import org.apache.commons.fileupload.FileUploadException;
import org.apache.commons.fileupload.disk.DiskFileItemFactory;
import org.apache.commons.fileupload.servlet.ServletFileUpload;
import org.apache.commons.io.output.*;

public class UploadServlet extends HttpServlet {
   
   private boolean isMultipart;
   private String filePath;
   private int maxFileSize = 50 * 1024;
   private int maxMemSize = 4 * 1024;
   private File file ;

   public void init( ){
      // Get the file location where it would be stored.
      filePath = getServletContext().getInitParameter("file-upload"); 
   }
   
   public void doPost(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, java.io.IOException {
   
      // Check that we have a file upload request
      isMultipart = ServletFileUpload.isMultipartContent(request);
      response.setContentType("text/html");
      java.io.PrintWriter out = response.getWriter( );
   
      if( !isMultipart ) {
         out.println("&lt;html&gt;");
         out.println("&lt;head&gt;");
         out.println("&lt;title&gt;Servlet upload&lt;/title&gt;");  
         out.println("&lt;/head&gt;");
         out.println("&lt;body&gt;");
         out.println("&lt;p&gt;No file uploaded&lt;/p&gt;"); 
         out.println("&lt;/body&gt;");
         out.println("&lt;/html&gt;");
         return;
      }
  
      DiskFileItemFactory factory = new DiskFileItemFactory();
   
      // maximum size that will be stored in memory
      factory.setSizeThreshold(maxMemSize);
   
      // Location to save data that is larger than maxMemSize.
      factory.setRepository(new File("c:\\temp"));

      // Create a new file upload handler
      ServletFileUpload upload = new ServletFileUpload(factory);
   
      // maximum file size to be uploaded.
      upload.setSizeMax( maxFileSize );

      try { 
         // Parse the request to get file items.
         List fileItems = upload.parseRequest(request);
	
         // Process the uploaded file items
         Iterator i = fileItems.iterator();

         out.println("&lt;html&gt;");
         out.println("&lt;head&gt;");
         out.println("&lt;title&gt;Servlet upload&lt;/title&gt;");  
         out.println("&lt;/head&gt;");
         out.println("&lt;body&gt;");
   
         while ( i.hasNext () ) {
            FileItem fi = (FileItem)i.next();
            if ( !fi.isFormField () ) {
               // Get the uploaded file parameters
               String fieldName = fi.getFieldName();
               String fileName = fi.getName();
               String contentType = fi.getContentType();
               boolean isInMemory = fi.isInMemory();
               long sizeInBytes = fi.getSize();
            
               // Write the file
               if( fileName.lastIndexOf("\\") &gt;= 0 ) {
                  file = new File( filePath + fileName.substring( fileName.lastIndexOf("\\"))) ;
               } else {
                  file = new File( filePath + fileName.substring(fileName.lastIndexOf("\\")+1)) ;
               }
               fi.write( file ) ;
               out.println("Uploaded Filename: " + fileName + "&lt;br&gt;");
            }
         }
         out.println("&lt;/body&gt;");
         out.println("&lt;/html&gt;");
         } catch(Exception ex) {
            System.out.println(ex);
         }
      }
      
      public void doGet(HttpServletRequest request, HttpServletResponse response)
         throws ServletException, java.io.IOException {

         throw new ServletException("GET method used with " +
            getClass( ).getName( )+": POST method required.");
      }
   }
}
</pre>
<h2>Compile and Running Servlet</h2>
<p>Compile above servlet UploadServlet and create required entry in web.xml file as follows.</p>
<pre class="prettyprint notranslate"> 
&lt;servlet&gt;
   &lt;servlet-name&gt;UploadServlet&lt;/servlet-name&gt;
   &lt;servlet-class&gt;UploadServlet&lt;/servlet-class&gt;
&lt;/servlet&gt;

&lt;servlet-mapping&gt;
   &lt;servlet-name&gt;UploadServlet&lt;/servlet-name&gt;
   &lt;url-pattern&gt;/UploadServlet&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
</pre>
<p>Now try to upload files using the HTML form which you created above. When you would try http://localhost:8080/UploadFile.htm, it would display following result which would help you uploading any file from your local machine.</p>
<pre class="result notranslate"> 
<b>File Upload:</b> 
<p>Select a file to upload:</p>
<input type="file" name="file" size="50" /> <br />
<input type="button" value="Upload File" /> 
</pre>
<p>If your servlet script works fine, your file should be uploaded in c:\apache-tomcat8.0.28\webapps\data\ directory.</p>
<h1>Servlets - Handling Date</h1>
<p>One of the most important advantages of using Servlet is that you can use most of the methods available in core Java. This tutorial would take you through Java provided <b>Date</b> class which is available in <b>java.util</b> package, this class encapsulates the current date and time.</p>
<p>The Date class supports two constructors. The first constructor initializes the object with the current date and time.</p>
<pre class="result notranslate">
Date( )
</pre>
<p>The following constructor accepts one argument that equals the number of milliseconds that have elapsed since midnight, January 1, 1970</p>
<pre class="result notranslate">
Date(long millisec)
</pre>
<p>Once you have a Date object available, you can call any of the following support methods to play with dates &minus;</p>
<table class="table table-bordered">
<tr>
<th>Sr.No.</th>
<th style="text-align:center;">Methods &amp; Description</th>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">1</td>
<td><p><b>boolean after(Date date)</b></p>
<p>Returns true if the invoking Date object contains a date that is later than the one specified by date, otherwise, it returns false.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">2</td>
<td><p><b>boolean before(Date date)</b></p>
<p>Returns true if the invoking Date object contains a date that is earlier than the one specified by date, otherwise, it returns false.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">3</td>
<td><p><b>Object clone( )</b></p>
<p>Duplicates the invoking Date object.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">4</td>
<td><p><b>int compareTo(Date date)</b></p>
<p>Compares the value of the invoking object with that of date. Returns 0 if the values are equal. Returns a negative value if the invoking object is earlier than date. Returns a positive value if the invoking object is later than date.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">5</td>
<td><p><b>int compareTo(Object obj)</b></p>
<p>Operates identically to compareTo(Date) if obj is of class Date. Otherwise, it throws a ClassCastException.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">6</td>
<td><p><b>boolean equals(Object date)</b></p>
<p>Returns true if the invoking Date object contains the same time and date as the one specified by date, otherwise, it returns false.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">7</td>
<td><p><b>long getTime( )</b></p>
<p>Returns the number of milliseconds that have elapsed since January 1, 1970.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">8</td>
<td><p><b>int hashCode( )</b></p>
<p>Returns a hash code for the invoking object.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">9</td>
<td><p><b>void setTime(long time)</b></p>
<p>Sets the time and date as specified by time, which represents an elapsed time in milliseconds from midnight, January 1, 1970.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">10</td>
<td><p><b>String toString( )</b></p>
<p>Converts the invoking Date object into a string and returns the result.</p></td>
</tr>
</table>
<h2>Getting Current Date &amp; Time </h2>
<p>This is very easy to get current date and time in Java Servlet. You can use a simple Date object with <i>toString()</i> method to print current date and time as follows &minus;</p>
<pre class="prettyprint notranslate">
// Import required java libraries
import java.io.*;
import java.util.Date;
import javax.servlet.*;
import javax.servlet.http.*;
 
// Extend HttpServlet class
public class CurrentDate extends HttpServlet {
 
   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      // Set response content type
      response.setContentType("text/html");
 
      PrintWriter out = response.getWriter();
      String title = "Display Current Date &amp; Time";
      Date date = new Date();
      String docType = "&lt;!doctype html public \"-//w3c//dtd html 4.0 " + "transitional//en\"&gt;\n";
      
      out.println(docType +
         "&lt;html&gt;\n" +
            "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n" +
            "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" +
               "&lt;h1 align = \"center\"&gt;" + title + "&lt;/h1&gt;\n" +
               "&lt;h2 align = \"center\"&gt;" + date.toString() + "&lt;/h2&gt;\n" +
            "&lt;/body&gt;
         &lt;/html&gt;"
      );
   }
}
</pre>
<p>Now let us compile above servlet and create appropriate entries in web.xml and then call this servlet using URL http://localhost:8080/CurrentDate. This would produce following result &minus;</p>
<pre class="result notranslate">
<h1 align="center">Display Current Date &amp; Time</h1>
<h2 align="center">Mon Jun 21 21:46:49 GMT+04:00 2010</h2>
</pre>
<p>Try to refresh URL http://localhost:8080/CurrentDate and you would find difference in seconds every time you would refresh.</p>
<h2>Date Comparison</h2>
<p>As I mentioned above you can use all the available Java methods in your Servlet. In case you need to compare two dates, following are the methods &minus;</p>
<ul class="list">
<li><p>You can use getTime( ) to obtain the number of milliseconds that have elapsed since midnight, January 1, 1970, for both objects and then compare these two values.</p></li>
<li><p>You can use the methods before( ), after( ), and equals( ). Because the 12th of the month comes before the 18th, for example, new Date(99, 2, 12).before(new Date (99, 2, 18)) returns true.</p></li>
<li><p>You can use the compareTo( ) method, which is defined by the Comparable interface and implemented by Date.</p></li>
</ul>
<h2>Date Formatting using SimpleDateFormat</h2>
<p>SimpleDateFormat is a concrete class for formatting and parsing dates in a localesensitive manner. SimpleDateFormat allows you to start by choosing any user-defined patterns for date-time formatting. </p>
<p>Let us modify above example as follows &minus;</p>
<pre class="prettyprint notranslate">
// Import required java libraries
import java.io.*;
import java.text.*;
import java.util.Date;
import javax.servlet.*;
import javax.servlet.http.*;
 
// Extend HttpServlet class
public class CurrentDate extends HttpServlet {
 
   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      // Set response content type
      response.setContentType("text/html");
 
      PrintWriter out = response.getWriter();
      String title = "Display Current Date &amp; Time";
      Date dNow = new Date( );
      SimpleDateFormat ft = new SimpleDateFormat ("E yyyy.MM.dd 'at' hh:mm:ss a zzz");
      String docType = "&lt;!doctype html public \"-//w3c//dtd html 4.0 " + "transitional//en\"&gt;\n";
      
      out.println(docType +
         "&lt;html&gt;\n" +
            "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n" +
            "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" +
               "&lt;h1 align = \"center\"&gt;" + title + "&lt;/h1&gt;\n" +
               "&lt;h2 align = \"center\"&gt;" + ft.format(dNow) + "&lt;/h2&gt;\n" +
            "&lt;/body&gt;
         &lt;/html&gt;"
      );
   }
}
</pre>
<p>Compile above servlet once again and then call this servlet using URL http://localhost:8080/CurrentDate. This would produce following result &minus;</p>
<pre class="result notranslate">
<h1 align="center">Display Current Date &amp; Time</h1>
<h2 align="center">Mon 2010.06.21 at 10:06:44 PM GMT+04:00</h2>
</pre>
<h2>Simple DateFormat Format Codes </h2>
<p>To specify the time format use a time pattern string. In this pattern, all ASCII letters are reserved as pattern letters, which are defined as the following &minus;</p>
<table class="table table-bordered" style="text-align:center;">
<tr>
<th style="text-align:center;" width="10%">Character</th>
<th style="text-align:center;" width="45%">Description</th>
<th style="text-align:center;">Example</th>
</tr>
<tr>
<td>G</td>
<td>Era designator</td>
<td>AD</td>
</tr>
<tr>
<td>y</td>
<td>Year in four digits</td>
<td>2001</td>
</tr>
<tr>
<td>M</td>
<td>Month in year</td>
<td>July or 07</td>
</tr>
<tr>
<td>d</td>
<td>Day in month</td>
<td>10</td>
</tr>
<tr>
<td>h</td>
<td>Hour in A.M./P.M. (1~12)</td>
<td>12</td>
</tr>
<tr>
<td>H</td>
<td>Hour in day (0~23)</td>
<td>22</td>
</tr>
<tr>
<td>m</td>
<td>Minute in hour</td>
<td>30</td>
</tr>
<tr>
<td>s</td>
<td>Second in minute</td>
<td>55</td>
</tr>
<tr>
<td>S</td>
<td>Millisecond</td>
<td>234</td>
</tr>
<tr>
<td>E</td>
<td>Day in week</td>
<td>Tuesday</td>
</tr>
<tr>
<td>D</td>
<td>Day in year</td>
<td>360</td>
</tr>
<tr>
<td>F</td>
<td>Day of week in month</td>
<td>2 (second Wed. in July)</td>
</tr>
<tr>
<td>w</td>
<td>Week in year</td>
<td>40</td>
</tr>
<tr>
<td>W</td>
<td>Week in month</td>
<td>1</td>
</tr>
<tr>
<td>a</td>
<td>A.M./P.M. marker</td>
<td>PM</td>
</tr>
<tr>
<td>k</td>
<td>Hour in day (1~24)</td>
<td>24</td>
</tr>
<tr>
<td>K</td>
<td>Hour in A.M./P.M. (0~11)</td>
<td>10</td>
</tr>
<tr>
<td>z</td>
<td>Time zone</td>
<td>Eastern Standard Time</td>
</tr>
<tr>
<td>'</td>
<td>Escape for text</td>
<td>Delimiter</td>
</tr>
<tr>
<td>"</td>
<td>Single quote</td>
<td>`</td>
</tr>
</table>
<p>For a complete list of constant available methods to manipulate date, you can refer to standard Java documentation.</p>
<h1>Servlets - Page Redirection</h1>
<p>Page redirection is a technique where the client is sent to a new location other than requested. Page redirection is generally used when a document moves to a new location or may be because of load balancing.</p>
<p>The simplest way of redirecting a request to another page is using method <b>sendRedirect()</b> of response object. Following is the signature of this method &minus;</p>
<pre class="prettyprint notranslate">
public void HttpServletResponse.sendRedirect(String location) 
throws IOException 
</pre>
<p>This method sends back the response to the browser along with the status code and new page location. You can also use setStatus() and setHeader() methods together to achieve the same &minus;</p>
<pre class="prettyprint notranslate">
.... 
String site = "http://www.newpage.com" ; 
response.setStatus(response.SC_MOVED_TEMPORARILY); 
response.setHeader("Location", site);  
.... 
</pre>
<h2>Example</h2>
<p>This example shows how a servlet performs page redirection to another location &minus;</p>
<pre class="prettyprint notranslate">
import java.io.*;
import java.sql.Date;
import java.util.*;
import javax.servlet.*;
import javax.servlet.http.*;

public class PageRedirect extends HttpServlet {
    
   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {

      // Set response content type
      response.setContentType("text/html");

      // New location to be redirected
      String site = new String("http://www.photofuntoos.com");

      response.setStatus(response.SC_MOVED_TEMPORARILY);
      response.setHeader("Location", site);    
   }
} 
</pre>
<p>Now let us compile above servlet and create following entries in web.xml</p>
<pre class="prettyprint notranslate">
....
&lt;servlet&gt;
   &lt;servlet-name&gt;PageRedirect&lt;/servlet-name&gt;
   &lt;servlet-class&gt;PageRedirect&lt;/servlet-class&gt;
&lt;/servlet&gt;

&lt;servlet-mapping&gt;
   &lt;servlet-name&gt;PageRedirect&lt;/servlet-name&gt;
   &lt;url-pattern&gt;/PageRedirect&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
....
</pre>
<p>Now call this servlet using URL http://localhost:8080/PageRedirect. This would redirect you to URL http://www.photofuntoos.com. </p>
<h1>Servlets - Hits Counter</h1>
<h2>Hit Counter for a Web Page</h2>
<p>Many times you would be interested in knowing total number of hits on a particular page of your website. It is very simple to count these hits using a servlet because the life cycle of a servlet is controlled by the container in which it runs. </p>
<p>Following are the steps to be taken to implement a simple page hit counter which is based on Servlet Life Cycle &minus;</p>
<ul class="list">
<li><p>Initialize a global variable in init() method.</p></li>
<li><p>Increase global variable every time either doGet() or doPost() method is called.</p></li>
<li><p>If required, you can use a database table to store the value of global variable in destroy() method. This value can be read inside init() method when servlet would be initialized next time. This step is optional.</p></li>
<li><p>If you want to count only unique page hits with-in a session then you can use isNew() method to check if same page already have been hit with-in that session. This step is optional.</p></li>
<li><p>You can display value of the global counter to show total number of hits on your web site. This step is also optional.</p></li>
</ul>
<p>Here I'm assuming that the web container will not be restarted. If it is restarted or servlet destroyed, the hit counter will be reset.</p>
<h3>Example</h3>
<p>This example shows how to implement a simple page hit counter &minus;</p>
<pre class="prettyprint notranslate">
import java.io.*;
import java.sql.Date;
import java.util.*;
import javax.servlet.*;
import javax.servlet.http.*;

public class PageHitCounter extends HttpServlet {

   private int hitCount; 

   public void init() { 
      // Reset hit counter.
      hitCount = 0;
   } 

   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {

      // Set response content type
      response.setContentType("text/html");

      // This method executes whenever the servlet is hit 
      // increment hitCount 
      hitCount++; 
      PrintWriter out = response.getWriter();
      String title = "Total Number of Hits";
      String docType = "&lt;!doctype html public \"-//w3c//dtd html 4.0 " + "transitional//en\"&gt;\n";
      
      out.println(docType +
         "&lt;html&gt;\n" +
            "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n" +
            "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" +
               "&lt;h1 align = \"center\"&gt;" + title + "&lt;/h1&gt;\n" +
               "&lt;h2 align = \"center\"&gt;" + hitCount + "&lt;/h2&gt;\n" +
            "&lt;/body&gt;
         &lt;/html&gt;"
      );
   }
   
   public void destroy() { 
      // This is optional step but if you like you
      // can write hitCount value in your database.
   } 
} 
</pre>
<p>Now let us compile above servlet and create following entries in web.xml</p>
<pre class="prettyprint notranslate">
&lt;servlet&gt;
   &lt;servlet-name&gt;PageHitCounter&lt;/servlet-name&gt;
   &lt;servlet-class&gt;PageHitCounter&lt;/servlet-class&gt;
&lt;/servlet&gt;

&lt;servlet-mapping&gt;
   &lt;servlet-name&gt;PageHitCounter&lt;/servlet-name&gt;
   &lt;url-pattern&gt;/PageHitCounter&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
....
</pre>
<p>Now call this servlet using URL http://localhost:8080/PageHitCounter. This would increase counter by one every time this page gets refreshed and it would display following result &minus;</p>
<pre class="result notranslate">
<h1 align="center">Total Number of Hits</h1>
<h2 align="center">6</h2>
<p style="text-align:center">Hit Counter for a Website:</p>
</pre>
<p>Many times you would be interested in knowing total number of hits on your whole website. This is also very simple in Servlet and we can achieve this using filters.</p>
<p>Following are the steps to be taken to implement a simple website hit counter which is based on Filter Life Cycle &minus;</p>
<ul class="list">
<li><p>Initialize a global variable in init() method of a filter.</p></li>
<li><p>Increase global variable every time doFilter method is called.</p></li>
<li><p>If required, you can use a database table to store the value of global variable in destroy() method of filter. This value can be read inside init() method when filter would be initialized next time. This step is optional.</p></li>
</ul>
<p>Here I'm assuming that the web container will not be restarted. If it is restarted or servlet destroyed, the hit counter will be reset.</p>
<h3>Example</h3>
<p>This example shows how to implement a simple website hit counter &minus;</p>
<pre class="prettyprint notranslate">
// Import required java libraries
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
import java.util.*;

public class SiteHitCounter implements Filter {

   private int hitCount; 

   public void  init(FilterConfig config) throws ServletException {
      // Reset hit counter.
      hitCount = 0;
   }

   public void  doFilter(ServletRequest request, ServletResponse response, FilterChain chain) 
      throws java.io.IOException, ServletException {

      // increase counter by one
      hitCount++;

      // Print the counter.
      System.out.println("Site visits count :"+ hitCount );

      // Pass request back down the filter chain
      chain.doFilter(request,response);
   }
   
   public void destroy() { 
      // This is optional step but if you like you
      // can write hitCount value in your database.
   } 
} 
</pre>
<p>Now let us compile the above servlet and create the following entries in web.xml</p>
<pre class="prettyprint notranslate">
....
&lt;filter&gt;
   &lt;filter-name&gt;SiteHitCounter&lt;/filter-name&gt;
   &lt;filter-class&gt;SiteHitCounter&lt;/filter-class&gt;
&lt;/filter&gt;

&lt;filter-mapping&gt;
   &lt;filter-name&gt;SiteHitCounter&lt;/filter-name&gt;
   &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;
....
</pre>
<p>Now call any URL like URL http://localhost:8080/. This would increase counter by one every time any page gets a hit and it would display following message in the log &minus;</p>
<pre class="result notranslate">
Site visits count : 1
Site visits count : 2
Site visits count : 3
Site visits count : 4
Site visits count : 5
..................
</pre>
<h1>Servlets - Auto Page Refresh</h1>
<p>Consider a webpage which is displaying live game score or stock market status or currency exchange ration. For all such type of pages, you would need to refresh your web page regularly using refresh or reload button with your browser.</p>
<p>Java Servlet makes this job easy by providing you a mechanism where you can make a webpage in such a way that it would refresh automatically after a given interval.</p>
<p>The simplest way of refreshing a web page is using method <b>setIntHeader()</b> of response object. Following is the signature of this method &minus;</p>
<pre class="prettyprint notranslate">
public void setIntHeader(String header, int headerValue)
</pre>
<p>This method sends back header "Refresh" to the browser along with an integer value which indicates time interval in seconds.</p>
<h2>Auto Page Refresh Example </h2>
<p>This example shows how a servlet performs auto page refresh using <b>setIntHeader()</b> method to set <b>Refresh</b> header. </p>
<pre class="prettyprint notranslate">
// Import required java libraries
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
import java.util.*;
 
// Extend HttpServlet class
public class Refresh extends HttpServlet {
 
   // Method to handle GET method request.
   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      // Set refresh, autoload time as 5 seconds
      response.setIntHeader("Refresh", 5);
 
      // Set response content type
      response.setContentType("text/html");
 
      // Get current time
      Calendar calendar = new GregorianCalendar();
      String am_pm;
      int hour = calendar.get(Calendar.HOUR);
      int minute = calendar.get(Calendar.MINUTE);
      int second = calendar.get(Calendar.SECOND);
      
      if(calendar.get(Calendar.AM_PM) == 0)
        am_pm = "AM";
      else
        am_pm = "PM";
 
      String CT = hour+":"+ minute +":"+ second +" "+ am_pm;
    
      PrintWriter out = response.getWriter();
      String title = "Auto Page Refresh using Servlet";
      String docType =
         "&lt;!doctype html public \"-//w3c//dtd html 4.0 " + "transitional//en\"&gt;\n";
      
      out.println(docType +
         "&lt;html&gt;\n" +
         "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n"+
         "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" +
         "&lt;h1 align = \"center\"&gt;" + title + "&lt;/h1&gt;\n" +
         "&lt;p&gt;Current Time is: " + CT + "&lt;/p&gt;\n"
      );
   }
   
   // Method to handle POST method request.
   public void doPost(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      doGet(request, response);
   }
}
</pre>
<p>Now let us compile the above servlet and create the following entries in web.xml</p>
<pre class="result notranslate">
....
 &lt;servlet&gt;
     &lt;servlet-name&gt;Refresh&lt;/servlet-name&gt;
     &lt;servlet-class&gt;Refresh&lt;/servlet-class&gt;
 &lt;/servlet&gt;
 
 &lt;servlet-mapping&gt;
     &lt;servlet-name&gt;Refresh&lt;/servlet-name&gt;
     &lt;url-pattern&gt;/Refresh&lt;/url-pattern&gt;
 &lt;/servlet-mapping&gt;
....
</pre>
<p>Now call this servlet using URL http://localhost:8080/Refresh which would display current system time after every 5 seconds as follows. Just run the servlet and wait to see the result &minus;</p>
<pre class="result notranslate">
<h1 align="center">Auto Page Refresh using Servlet</h1>
<p>Current Time is: 9:44:50 PM</p>
</pre>
<h1>Servlets - Sending Email</h1>
<p>To send an email using your a Servlet is simple enough but to start with you should have <b>JavaMail API</b> and <b>Java Activation Framework (JAF)</b> installed on your machine. </p>
<ul class="list">
<li><p>You can download latest version of <a href="https://java.sun.com/products/javamail/" target="_blank">JavaMail (Version 1.2)</a> from Java's standard website.</p></li>
<li><p>You can download latest version of <a href="https://java.sun.com/products/javabeans/glasgow/jaf.html" target="_blank">JAF (Version 1.1.1)</a> from Java's standard website.</p></li>
</ul>
<p>Download and unzip these files, in the newly created top level directories you will find a number of jar files for both the applications. You need to add <b>mail.jar</b> and <b>activation.jar</b> files in your CLASSPATH. </p>
<h2>Send a Simple Email</h2>
<p>Here is an example to send a simple email from your machine. Here it is assumed that your <b>localhost</b> is connected to the internet and capable enough to send an email. Same time make sure all the jar files from Java Email API package and JAF package are available in CLASSPATH.</p>
<pre class="prettyprint notranslate">
// File Name SendEmail.java
import java.io.*;
import java.util.*;
import javax.servlet.*;
import javax.servlet.http.*;
import javax.mail.*;
import javax.mail.internet.*;
import javax.activation.*;
 
public class SendEmail extends HttpServlet {

   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      // Recipient's email ID needs to be mentioned.
      String to = "abcd@gmail.com";
 
      // Sender's email ID needs to be mentioned
      String from = "web@gmail.com";
 
      // Assuming you are sending email from localhost
      String host = "localhost";
 
      // Get system properties
      Properties properties = System.getProperties();
 
      // Setup mail server
      properties.setProperty("mail.smtp.host", host);
 
      // Get the default Session object.
      Session session = Session.getDefaultInstance(properties);
      
      // Set response content type
      response.setContentType("text/html");
      PrintWriter out = response.getWriter();

      try {
         // Create a default MimeMessage object.
         MimeMessage message = new MimeMessage(session);
         
         // Set From: header field of the header.
         message.setFrom(new InternetAddress(from));
         
         // Set To: header field of the header.
         message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));
         
         // Set Subject: header field
         message.setSubject("This is the Subject Line!");
         
         // Now set the actual message
         message.setText("This is actual message");
         
         // Send message
         Transport.send(message);
         String title = "Send Email";
         String res = "Sent message successfully....";
         String docType =
            "&lt;!doctype html public \"-//w3c//dtd html 4.0 " + "transitional//en\"&gt;\n";
         
         out.println(docType +
            "&lt;html&gt;\n" +
               "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n" +
               "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" +
                  "&lt;h1 align = \"center\"&gt;" + title + "&lt;/h1&gt;\n" +
                  "&lt;p align = \"center\"&gt;" + res + "&lt;/p&gt;\n" +
               "&lt;/body&gt;
            &lt;/html&gt;"
         );
      } catch (MessagingException mex) {
         mex.printStackTrace();
      }
   }
} 
</pre>
<p>Now let us compile the above servlet and create the following entries in web.xml</p>
<pre class="result notranslate">
....
 &lt;servlet&gt;
   &lt;servlet-name&gt;SendEmail&lt;/servlet-name&gt;
   &lt;servlet-class&gt;SendEmail&lt;/servlet-class&gt;
&lt;/servlet&gt;
 
&lt;servlet-mapping&gt;
   &lt;servlet-name&gt;SendEmail&lt;/servlet-name&gt;
   &lt;url-pattern&gt;/SendEmail&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
....
</pre>
<p>Now call this servlet using URL http://localhost:8080/SendEmail which would send an email to given email ID <i>abcd@gmail.com</i> and would display following response &minus;</p>
<pre class="result notranslate">
<h1 align="center">Send Email</h1>
<p align="center">Sent message successfully....</p>
</pre>
<p>If you want to send an email to multiple recipients then following methods would be used to specify multiple email IDs &minus;</p>
<pre class="prettyprint notranslate">
void addRecipients(Message.RecipientType type, Address[] addresses)
throws MessagingException
</pre>
<p>Here is the description of the parameters &minus;</p>
<ul class="list">
<li><p><b>type</b> &minus; This would be set to TO, CC or BCC. Here CC represents Carbon Copy and BCC represents Black Carbon Copy. Example <i>Message.RecipientType.TO</i></p></li>
<li><p><b>addresses</b> &minus; This is the array of email ID. You would need to use InternetAddress() method while specifying email IDs.</p></li>
</ul>
<h2>Send an HTML Email</h2>
<p>Here is an example to send an HTML email from your machine. Here it is assumed that your <b>localhost</b> is connected to the internet and capable enough to send an email. At the same time, make sure all the jar files from Java Email API package and JAF package are available in CLASSPATH.</p>
<p>This example is very similar to previous one, except here we are using setContent() method to set content whose second argument is "text/html" to specify that the HTML content is included in the message.</p>
<p>Using this example, you can send as big as HTML content you like.</p>
<pre class="prettyprint notranslate">
// File Name SendEmail.java
import java.io.*;
import java.util.*;
import javax.servlet.*;
import javax.servlet.http.*;
import javax.mail.*;
import javax.mail.internet.*;
import javax.activation.*;
 
public class SendEmail extends HttpServlet {
    
   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      // Recipient's email ID needs to be mentioned.
      String to = "abcd@gmail.com";
 
      // Sender's email ID needs to be mentioned
      String from = "web@gmail.com";
 
      // Assuming you are sending email from localhost
      String host = "localhost";
 
      // Get system properties
      Properties properties = System.getProperties();
 
      // Setup mail server
      properties.setProperty("mail.smtp.host", host);
 
      // Get the default Session object.
      Session session = Session.getDefaultInstance(properties);
      
      // Set response content type
      response.setContentType("text/html");
      PrintWriter out = response.getWriter();

      try {
         
         // Create a default MimeMessage object.
         MimeMessage message = new MimeMessage(session);
         
         // Set From: header field of the header.
         message.setFrom(new InternetAddress(from));
         
         // Set To: header field of the header.
         message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));
         // Set Subject: header field
         message.setSubject("This is the Subject Line!");

         // Send the actual HTML message, as big as you like
         message.setContent("&lt;h1&gt;This is actual message&lt;/h1&gt;", "text/html" );
         
         // Send message
         Transport.send(message);
         String title = "Send Email";
         String res = "Sent message successfully....";
         String docType =
         "&lt;!doctype html public \"-//w3c//dtd html 4.0 " + "transitional//en\"&gt;\n";
         
         out.println(docType +
            "&lt;html&gt;\n" +
               "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n" +
               "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" +
                  "&lt;h1 align = \"center\"&gt;" + title + "&lt;/h1&gt;\n" +
                  "&lt;p align = \"center\"&gt;" + res + "&lt;/p&gt;\n" +
               "&lt;/body&gt;
            &lt;/html&gt;"
         );
      } catch (MessagingException mex) {
         mex.printStackTrace();
      }
   }
} 
</pre>
<p>Compile and run the above servlet to send HTML message on a given email ID.</p>
<h2>Send Attachment in Email </h2>
<p>Here is an example to send an email with attachment from your machine. Here it is assumed that your <b>localhost</b> is connected to the internet and capable enough to send an email. </p>
<pre class="prettyprint notranslate">
// File Name SendEmail.java
import java.io.*;
import java.util.*;
import javax.servlet.*;
import javax.servlet.http.*;
import javax.mail.*;
import javax.mail.internet.*;
import javax.activation.*;
 
public class SendEmail extends HttpServlet {

   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      // Recipient's email ID needs to be mentioned.
      String to = "abcd@gmail.com";
 
      // Sender's email ID needs to be mentioned
      String from = "web@gmail.com";
 
      // Assuming you are sending email from localhost
      String host = "localhost";

      // Get system properties
      Properties properties = System.getProperties();
 
      // Setup mail server
      properties.setProperty("mail.smtp.host", host);
 
      // Get the default Session object.
      Session session = Session.getDefaultInstance(properties);
      
	  // Set response content type
      response.setContentType("text/html");
      PrintWriter out = response.getWriter();

      try {
         // Create a default MimeMessage object.
         MimeMessage message = new MimeMessage(session);
 
         // Set From: header field of the header.
         message.setFrom(new InternetAddress(from));
 
         // Set To: header field of the header.
         message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));
 
         // Set Subject: header field
         message.setSubject("This is the Subject Line!");
 
         // Create the message part 
         BodyPart messageBodyPart = new MimeBodyPart();
 
         // Fill the message
         messageBodyPart.setText("This is message body");
         
         // Create a multipar message
         Multipart multipart = new MimeMultipart();
 
         // Set text message part
         multipart.addBodyPart(messageBodyPart);
 
         // Part two is attachment
         messageBodyPart = new MimeBodyPart();
         String filename = "file.txt";
         DataSource source = new FileDataSource(filename);
         messageBodyPart.setDataHandler(new DataHandler(source));
         messageBodyPart.setFileName(filename);
         multipart.addBodyPart(messageBodyPart);
 
         // Send the complete message parts
         message.setContent(multipart );
 
         // Send message
         Transport.send(message);
         String title = "Send Email";
         String res = "Sent message successfully....";
         String docType =
         "&lt;!doctype html public \"-//w3c//dtd html 4.0 " + "transitional//en\"&gt;\n";
         
         out.println(docType +
            "&lt;html&gt;\n" +
               "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n" +
               "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" +
                  "&lt;h1 align = \"center\"&gt;" + title + "&lt;/h1&gt;\n" +
                  "&lt;p align = \"center\"&gt;" + res + "&lt;/p&gt;\n" +
               "&lt;/body&gt;
            &lt;/html&gt;"
         );
      } catch (MessagingException mex) {
         mex.printStackTrace();
      }
   }
} 
</pre>
<p>Compile and run above servlet to send a file as an attachment along with a message on a given email ID.</p>
<h2>User Authentication Part</h2>
<p>If it is required to provide user ID and Password to the email server for authentication purpose then you can set these properties as follows &minus;</p>
<pre class="prettyprint notranslate">
 props.setProperty("mail.user", "myuser");
 props.setProperty("mail.password", "mypwd");
</pre>
<p>Rest of the email sending mechanism would remain as explained above.</p>
<h1>Servlets - Packaging</h1>
<p>The web application structure involving the WEB-INF subdirectory is standard to all Java web applications and specified by the servlet API specification. Given a top-level directory name of myapp. Here is how this directory structure looks like &minus;</p>
<pre class="prettyprint notranslate">
/myapp
   /images
   /WEB-INF
      /classes
      /lib
</pre>
<p>The WEB-INF subdirectory contains the application's deployment descriptor, named web.xml. All the HTML files should be kept in the top-level directory which is <i>myapp</i>. For admin user, you would find ROOT directory as parent directory.</p>
<h2>Creating Servlets in Packages </h2>
<p>The WEB-INF/classes directory contains all the servlet classes and other class files, in a structure that matches their package name. For example, If you have a fully qualified class name of <b>com.myorg.MyServlet</b>, then this servlet class must be located in the following directory &minus;</p>
<pre class="prettyprint notranslate">
/myapp/WEB-INF/classes/com/myorg/MyServlet.class 
</pre>
<p>Following is the example to create MyServlet class with a package name <i>com.myorg</i></p>
<pre class="prettyprint notranslate">
// Name your package
package com.myorg;  

// Import required java libraries
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
 
public class MyServlet extends HttpServlet {
 
   private String message;
 
   public void init() throws ServletException {
      // Do required initialization
      message = "Hello World";
   }
 
   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      // Set response content type
      response.setContentType("text/html");
 
      // Actual logic goes here.
      PrintWriter out = response.getWriter();
      out.println("&lt;h1&gt;" + message + "&lt;/h1&gt;");
   }

   public void destroy() {
      // do nothing.
   }
}
</pre>
<h2>Compiling Servlets in Packages </h2>
<p>There is nothing much different to compile a class available in package. The simplest way is to keep your java file in fully qualified path, as mentioned above class would be kept in com.myorg. You would also need to add this directory in CLASSPATH.</p>
<p>Assuming your environment is setup properly, go in <b>&lt;Tomcat-installationdirectory&gt;</b>/webapps/ROOT/WEB-INF/classes directory and compile MyServlet.java as follows</p>
<pre class="prettyprint notranslate">
$ javac MyServlet.java
</pre>
<p>If the servlet depends on any other libraries, you have to include those JAR files on your CLASSPATH as well. I have included only servlet-api.jar JAR file because I'm not using any other library in Hello World program.</p>
<p>This command line uses the built-in javac compiler that comes with the Sun Microsystems Java Software Development Kit (JDK). For this command to work properly, you have to include the location of the Java SDK that you are using in the PATH environment variable.</p>
<p>If everything goes fine, above compilation would produce <b>MyServlet.class</b> file in the same directory. Next section would explain how a compiled servlet would be deployed in production.</p>
<h2>Packaged Servlet Deployment</h2>
<p>By default, a servlet application is located at the path &lt;Tomcat-installationdirectory&gt;/webapps/ROOT and the class file would reside in &lt;Tomcat-installationdirectory&gt;/webapps/ROOT/WEB-INF/classes.</p>
<p>If you have a fully qualified class name of <b>com.myorg.MyServlet</b>, then this servlet class must be located in WEB-INF/classes/com/myorg/MyServlet.class and you would need to create following entries in <b>web.xml</b> file located in &lt;Tomcat-installationdirectory&gt;/webapps/ROOT/WEB-INF/</p>
<pre class="prettyprint notranslate">
&lt;servlet&gt;
   &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;
   &lt;servlet-class&gt;com.myorg.MyServlet&lt;/servlet-class&gt;
&lt;/servlet&gt;
 
&lt;servlet-mapping&gt;
   &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;
   &lt;url-pattern&gt;/MyServlet&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
</pre>
<p>Above entries to be created inside &lt;web-app&gt;...&lt;/web-app&gt; tags available in web.xml file. There could be various entries in this table already available, but never mind.</p>
<p>You are almost done, now let us start tomcat server using &lt;Tomcat-installationdirectory&gt;\bin\startup.bat (on windows) or &lt;Tomcat-installationdirectory&gt;/bin/startup.sh (on Linux/Solaris etc.) and finally type <b>http://localhost:8080/MyServlet</b> in browser's address box. If everything goes fine, you would get following result &minus;</p>
<pre class="result notranslate">
<h1 align="center">Hello World</h1>
</pre>
<h1>Servlets - Debugging</h1>
<p>It is always difficult to testing/debugging a servlets. Servlets tend to involve a large amount of client/server interaction, making errors likely but hard to reproduce.</p>
<p>Here are a few hints and suggestions that may aid you in your debugging.</p>
<h2>System.out.println()</h2>
<p>System.out.println() is easy to use as a marker to test whether a certain piece of code is being executed or not. We can print out variable values as well. Additionally &minus;</p>
<ul class="list">
<li><p>Since the System object is part of the core Java objects, it can be used everywhere without the need to install any extra classes. This includes Servlets, JSP, RMI, EJB's, ordinary Beans and classes, and standalone applications.</p></li>
<li><p>Stopping at breakpoints technique stops the normal execution hence takes more time. Whereas writing to System.out doesn't interfere much with the normal execution flow of the application, which makes it very valuable when timing is crucial.</p></li>
</ul>
<p>Following is the syntax to use System.out.println() &minus;</p>
<pre class="prettyprint notranslate">
System.out.println("Debugging message");
</pre>
<p>All the messages generated by above syntax would be logged in web server log file.</p>
<h2>Message Logging </h2>
<p>It is always great idea to use proper logging method to log all the debug, warning and error messages using a standard logging method. I use <a href="../log4j/index.html">log4J</a> to log all the messages.</p>
<p>The Servlet API also provides a simple way of outputting information by using the log() method as follows &minus;</p>
<pre class="prettyprint notranslate">
// Import required java libraries
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;

public class ContextLog extends HttpServlet {
   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, java.io.IOException {
    
      String par = request.getParameter("par1");
      
      //Call the two ServletContext.log methods
      ServletContext context = getServletContext( );

      if (par == null || par.equals(""))
         //log version with Throwable parameter
         context.log("No message received:", new IllegalStateException("Missing parameter"));
      else
         context.log("Here is the visitor's message: " + par);
      
      response.setContentType("text/html");
      java.io.PrintWriter out = response.getWriter( );
      String title = "Context Log";
      String docType =
         "&lt;!doctype html public \"-//w3c//dtd html 4.0 " + "transitional//en\"&gt;\n";
      
      out.println(docType +
         "&lt;html&gt;\n" +
            "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n" +
            "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" +
               "&lt;h1 align = \"center\"&gt;" + title + "&lt;/h1&gt;\n" +
               "&lt;h2 align = \"center\"&gt;Messages sent&lt;/h2&gt;\n" +
            "&lt;/body&gt;
         &lt;/html&gt;"
      );
   } //doGet
}
</pre>
<p>The ServletContext logs its text messages to the servlet container's log file. With Tomcat these logs are found in &lt;Tomcat-installation-directory&gt;/logs. </p>
<p>The log files do give an indication of new emerging bugs or the frequency of problems. For that reason it's good to use the log() function in the catch clause of exceptions which should normally not occur.</p>
<h2>Using JDB Debugger</h2>
<p>You can debug servlets with the same jdb commands you use to debug an applet or an application.</p>
<p>To debug a servlet, we debug sun.servlet.http.HttpServer and carefully watch as HttpServer executes servlets in response to HTTP requests made from browser. This is very similar to how applets are debugged. The difference is that with applets, the actual program being debugged is sun.applet.AppletViewer.</p>
<p>Most debuggers hide this detail by automatically knowing how to debug applets. Until they do the same for servlets, you have to help your debugger by doing the following &minus;</p>
<ul class="list">
<li><p>Set your debugger's classpath so that it can find sun.servlet.http.Http-Server and associated classes.</p></li>
<li><p>Set your debugger's classpath so that it can also find your servlets and support classes, typically server_root/servlets and server_root/classes.</p></li>
</ul>
<p>You normally wouldn't want server_root/servlets in your classpath because it disables servlet reloading. This inclusion, however, is useful for debugging. It allows your debugger to set breakpoints in a servlet before the custom servlet loader in HttpServer loads the servlet.</p>
<p>Once you have set the proper classpath, start debugging sun.servlet.http.HttpServer. You can set breakpoints in whatever servlet you're interested in debugging, then use a web browser to make a request to the HttpServer for the given servlet (http://localhost:8080/servlet/ServletToDebug). You should see execution being stopped at your breakpoints.</p>
<h2>Using Comments</h2>
<p>Comments in your code can help the debugging process in various ways. Comments can be used in lots of other ways in the debugging process.</p>
<p>The Servlet uses Java comments and single line (// ...) and multiple line (/* ... */) comments can be used to temporarily remove parts of your Java code. If the bug disappears, take a closer look at the code you just commented and find out the problem.</p>
<h2>Client and Server Headers</h2>
<p>Sometimes when a servlet doesn't behave as expected, it's useful to look at the raw HTTP request and response. If you're familiar with the structure of HTTP, you can read the request and response and see exactly what exactly is going with those headers.</p>
<h2>Important Debugging Tips</h2>
<p>Here is a list of some more debugging tips on servlet debugging &minus;</p>
<ul class="list">
<li><p>Remember that server_root/classes doesn't reload and that server_root/servlets probably does.</p></li>
<li><p>Ask a browser to show the raw content of the page it is displaying. This can help identify formatting problems. It's usually an option under the View menu.</p></li>
<li><p>Make sure the browser isn't caching a previous request's output by forcing a full reload of the page. With Netscape Navigator, use Shift-Reload; with Internet Explorer use Shift-Refresh.</p></li>
<li><p>Verify that your servlet's init() method takes a ServletConfig parameter and calls super.init(config) right away. </p></li>
</ul>
<h1>Servlets - Internationalization</h1>
<p>Before we proceed, let me explain three important terms &minus;</p>
<ul class="list">
<li><p><b>Internationalization (i18n)</b> &minus; This means enabling a web site to provide different versions of content translated into the visitor's language or nationality</p></li>
<li><p><b>Localization (l10n)</b> &minus; This means adding resources to a web site to adapt to a particular geographical or cultural region. </p></li>
<li><p><b>locale</b> &minus; This is a particular cultural or geographical region. It is usually referred to as a language symbol followed by a country symbol which is separated by an underscore. For example "en_US" represents English locale for US. </p></li>
</ul>
<p>There are number of items which should be taken care while building up a global website. This tutorial would not give you complete detail on this but it would give you a good example on how you can offer your web page in different languages to internet community by differentiating their location i.e. locale.</p>
<p>A servlet can pickup appropriate version of the site based on the requester's locale and provide appropriate site version according to the local language, culture and requirements. Following is the method of request object which returns Locale object.</p>
<pre class="prettyprint notranslate">
java.util.Locale request.getLocale() 
</pre>
<h2>Detecting Locale</h2>
<p>Following are the important locale methods which you can use to detect requester's location, language and of course locale. All the below methods display country name and language name set in requester's browser.</p>
<table class="table table-bordered">
<tr>
<th>Sr.No.</th>
<th style="text-align:center;">Method &amp; Description</th>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">1</td>
<td><p><b>String getCountry()</b></p>
<p>This method returns the country/region code in upper case for this locale in ISO 3166 2-letter format.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">2</td>
<td><p><b>String getDisplayCountry()</b></p>
<p>This method returns a name for the locale's country that is appropriate for display to the user. </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">3</td>
<td><p><b>String getLanguage()</b></p>
<p>This method returns the language code in lower case for this locale in ISO 639 format. </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">4</td>
<td><p><b>String getDisplayLanguage()</b></p>
<p>This method returns a name for the locale's language that is appropriate for display to the user. </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">5</td>
<td><p><b>String getISO3Country()</b></p>
<p>This method returns a three-letter abbreviation for this locale's country. </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">6</td>
<td><p><b>String getISO3Language()</b></p>
<p>This method returns a three-letter abbreviation for this locale's language.</p></td>
</tr>
</table>
<h3>Example</h3>
<p>This example shows how you display a language and associated country for a request &minus;</p>
<pre class="prettyprint notranslate">
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
import java.util.Locale;

public class GetLocale extends HttpServlet {

   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
   
      //Get the client's Locale
      Locale locale = request.getLocale();
      String language = locale.getLanguage();
      String country = locale.getCountry();

      // Set response content type
      response.setContentType("text/html");
      PrintWriter out = response.getWriter();

      String title = "Detecting Locale";
      String docType =
         "&lt;!doctype html public \"-//w3c//dtd html 4.0 " + "transitional//en\"&gt;\n";
      
      out.println(docType +
         "&lt;html&gt;\n" +
            "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n" +
            "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" +
               "&lt;h1 align = \"center\"&gt;" + language + "&lt;/h1&gt;\n" +
               "&lt;h2 align = \"center\"&gt;" + country + "&lt;/h2&gt;\n" +
         "&lt;/body&gt;
         &lt;/html&gt;"
      );
   }
} 
</pre>
<h2>Languages Setting</h2>
<p>A servlet can output a page written in a Western European language such as English, Spanish, German, French, Italian, Dutch etc. Here it is important to set ContentLanguage header to display all the characters properly.</p>
<p>Second point is to display all the special characters using HTML entities, For example, "&amp;#241;" represents "&#241;", and "&amp;#161;" represents "&#161;" as follows:</p>
<pre class="prettyprint notranslate">
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
import java.util.Locale;

public class DisplaySpanish extends HttpServlet {

   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {

      // Set response content type
      response.setContentType("text/html");
      PrintWriter out = response.getWriter();

      // Set spanish language code.
      response.setHeader("Content-Language", "es");

      String title = "En Espa&amp;ntilde;ol";
      String docType =
      "&lt;!doctype html public \"-//w3c//dtd html 4.0 " + "transitional//en\"&gt;\n";
      
      out.println(docType +
         "&lt;html&gt;\n" +
            "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n" +
            "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" +
               "&lt;h1&gt;" + "En Espa&amp;ntilde;ol:" + "&lt;/h1&gt;\n" +
               "&lt;h1&gt;" + "&amp;iexcl;Hola Mundo!" + "&lt;/h1&gt;\n" +
            "&lt;/body&gt;
         &lt;/html&gt;"
      );
   }
} 
</pre>
<h2>Locale Specific Dates</h2>
<p>You can use the java.text.DateFormat class and its static getDateTimeInstance() method to format date and time specific to locale. Following is the example which shows how to format dates specific to a given locale &minus;</p>
<pre class="prettyprint notranslate">
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
import java.util.Locale;
import java.text.DateFormat;
import java.util.Date;

public class DateLocale extends HttpServlet {

   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      // Set response content type
      response.setContentType("text/html");
      PrintWriter out = response.getWriter();
      
      //Get the client's Locale
      Locale locale = request.getLocale( );
      String date = DateFormat.getDateTimeInstance(DateFormat.FULL, 
         DateFormat.SHORT, locale).format(new Date( ));

      String title = "Locale Specific Dates";
      String docType =
         "&lt;!doctype html public \"-//w3c//dtd html 4.0 " + "transitional//en\"&gt;\n";
     
      out.println(docType +
         "&lt;html&gt;\n" +
            "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n" +
            "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" +
               "&lt;h1 align = \"center\"&gt;" + date + "&lt;/h1&gt;\n" +
            "&lt;/body&gt;
         &lt;/html&gt;"
      );
   }
} 
</pre>
<h2>Locale Specific Currency</h2>
<p>You can use the java.txt.NumberFormat class and its static getCurrencyInstance() method to format a number, such as a long or double type, in a locale specific currency. Following is the example which shows how to format currency specific to a given locale &minus;</p>
<pre class="prettyprint notranslate">
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
import java.util.Locale;
import java.text.NumberFormat;
import java.util.Date;

public class CurrencyLocale extends HttpServlet {
    
   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {

      // Set response content type
      response.setContentType("text/html");
      PrintWriter out = response.getWriter();

      //Get the client's Locale
      Locale locale = request.getLocale( );
      NumberFormat nft = NumberFormat.getCurrencyInstance(locale);
      String formattedCurr = nft.format(1000000);

      String title = "Locale Specific Currency";
      String docType =
         "&lt;!doctype html public \"-//w3c//dtd html 4.0 " + "transitional//en\"&gt;\n";
      
      out.println(docType +
         "&lt;html&gt;\n" +
            "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n" +
            "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" +
               "&lt;h1 align = \"center\"&gt;" + formattedCurr + "&lt;/h1&gt;\n" +
            "&lt;/body&gt;
         &lt;/html&gt;"
      );
   }
} 
</pre>
<h2>Locale Specific Percentage</h2>
<p>You can use the java.txt.NumberFormat class and its static getPercentInstance() method to get locale specific percentage. Following is the example which shows how to format percentage specific to a given locale &minus;</p>
<pre class="prettyprint notranslate">
import java.io.*;
import javax.servlet.*;
import javax.servlet.http.*;
import java.util.Locale;
import java.text.NumberFormat;
import java.util.Date;

public class PercentageLocale extends HttpServlet {

   public void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
      
      // Set response content type
      response.setContentType("text/html");
      PrintWriter out = response.getWriter();
      
      //Get the client's Locale
      Locale locale = request.getLocale( );
      NumberFormat nft = NumberFormat.getPercentInstance(locale);
      String formattedPerc = nft.format(0.51);

      String title = "Locale Specific Percentage";
      String docType =
      "&lt;!doctype html public \"-//w3c//dtd html 4.0 " + "transitional//en\"&gt;\n";
      
      out.println(docType +
         "&lt;html&gt;\n" +
            "&lt;head&gt;&lt;title&gt;" + title + "&lt;/title&gt;&lt;/head&gt;\n" +
            "&lt;body bgcolor = \"#f0f0f0\"&gt;\n" +
               "&lt;h1 align = \"center\"&gt;" + formattedPerc + "&lt;/h1&gt;\n" +
            "&lt;/body&gt;
         &lt;/html&gt;"
      );
   }
} 
</pre>
<h1>Servlets - Annotations</h1>
<p>So far, you have learnt how Servlet uses the deployment descriptor (web.xml file) for deploying your application into a web server. Servlet API 3.0 has introduced a new package called javax.servlet.annotation. It provides annotation types which can be used for annotating a servlet class. If you use annotation, then the deployment descriptor (web.xml) is not required. But you should use tomcat7 or any later version of tomcat.</p>
<p>Annotations can replace equivalent XML configuration in the web deployment descriptor file (web.xml) such as servlet declaration and servlet mapping. Servlet containers will process the annotated classes at deployment time.</p>
<p>The annotation types introduced in Servlet 3.0 are &minus;</p>
<table class="table table-bordered">
<tr>
<th>Sr.No.</th>
<th style="text-align:center;">Annotation &amp; Description</th>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">1</td>
<td><p><b>@WebServle</b></p>
<p>To declare a servlet.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">2</td>
<td><p><b>@WebInitParam</b></p>
<p>To specify an initialization parameter. </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">3</td>
<td><p><b>QWebFilter</b></p>
<p>To declare a servlet filter.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">4</td>
<td><p><b>@WebListener</b></p>
<p>To declare a WebListener</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">5</td>
<td><p><b>@HandlesTypes </b></p>
<p>To declare the class types that a ServletContainerInitializer can handle.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">6</td>
<td><p><b>@HttpConstraint</b></p>
<p>This annotation is used within the ServletSecurity annotation to represent the security constraints to be applied to all HTTP protocol methods for which a corresponding HttpMethodConstraint element does NOT occur within the ServletSecurity annotation.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">7</td>
<td><p><b>@HttpMethodConstraint </b></p>
<p>This annotation is used within the ServletSecurity annotation to represent security constraints on specific HTTP protocol messages.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">8</td>
<td><p><b>@MultipartConfig </b></p>
<p>Annotation that may be specified on a Servlet class, indicating that instances of the Servlet expect requests that conform to the multipart/form-data MIME type.</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">9</td>
<td><p><b>@ServletSecurity</b></p>
<p>This annotation is used on a Servlet implementation class to specify security constraints to be enforced by a Servlet container on HTTP protocol messages.</p></td>
</tr>
</table>
<p>Here we have discussed some of the Annotations in detail.</p>
<h2>@WebServlet </h2>
<p>The @WebServlet is used to declare the configuration of a Servlet with a container. The following table contains the list of attributes used for WebServlet annotation.</p>
<table class="table table-bordered">
<tr>
<th>Sr.No.</th>
<th style="text-align:center;">Attribute &amp; Description</th>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">1</td>
<td><p><b>String name</b></p>
<p>Name of the Servlet </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">2</td>
<td><p><b>String[] value</b></p>
<p>Array of URL patterns </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">3</td>
<td><p><b>String[] urlPatterns</b></p>
<p>Array of URL patterns to which this Filter applies </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">4</td>
<td><p><b>Int loadOnStartup</b></p>
<p>The integer value gives you the startup ordering hint </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">5</td>
<td><p><b>WebInitParam[] initParams</b></p>
<p>Array of initialization parameters for this Servlet </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">6</td>
<td><p><b>Boolean asyncSupported</b></p>
<p>Asynchronous operation supported by this Servlet </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">7</td>
<td><p><b>String smallIcon</b></p>
<p>Small icon for this Servlet, if present </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">8</td>
<td><p><b>String largeIcon</b></p>
<p>Large icon for this Servlet, if present </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">9</td>
<td><p><b>String description</b></p>
<p>Description of this Servlet, if present </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">10</td>
<td><p><b>String displayName</b></p>
<p>Display name of this Servlet, if present </p></td>
</tr>
</table>
<p>At least one URL pattern MUST be declared in either the  <b>value</b> or <b>urlPattern</b> attribute of the annotation, but not both.</p>
<p>The <b>value</b> attribute is recommended for use when the URL pattern is the only attribute being set, otherwise the <b>urlPattern</b> attribute should be used.</p>
<h3>Example</h3>
<p>The following example describes how to use @WebServlet annotation. It is a simple servlet that displays the text <b>Hello Servlet</b>.</p>
<pre class="prettyprint notranslate">
import java.io.IOException; 
import java.io.PrintWriter; 
import javax.servlet.ServletException; 
import javax.servlet.annotation.WebInitParam; 
import javax.servlet.annotation.WebServlet; 
import javax.servlet.http.HttpServlet; 
import javax.servlet.http.HttpServletRequest; 
import javax.servlet.http.HttpServletResponse; 
@WebServlet(value = "/Simple") 
public class Simple extends HttpServlet {

   private static final long serialVersionUID = 1L; 

   protected void doGet(HttpServletRequest request, HttpServletResponse response)  
      throws ServletException, IOException { 
   
      response.setContentType("text/html");   
      PrintWriter out = response.getWriter();   
      out.print("&lt;html&gt;&lt;body&gt;");   
      out.print("&lt;h3&gt;Hello Servlet&lt;/h3&gt;");   
      out.print("&lt;/body&gt;&lt;/html&gt;");         
   }   
}
</pre>
<p>Compile <b>Simple.java</b> in the usual way and put your class file in &lt;Tomcat-installationdirectory&gt;/webapps/ROOT/WEB-INF/classes.</p>
<p>Now try to call any servlet by just running <i>http://localhost:8080/Simple</i>. You will see the following output on the web page.</p>
<pre class="result notranslate">
Hello servlet
</pre>
<h2>@WebInitParam </h2>
<p>The @WebInitParam annotation is used for specifying an initialization parameter for a Servlet or a Filter. It is used within a WebFilter or WebSevlet annotations. The following table contains the list of attributes used for WebInitParam annotation.</p>
<table class="table table-bordered">
<tr>
<th>Sr.No.</th>
<th style="text-align:center;">Attribute &amp; Description</th>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">1</td>
<td><p><b>String name</b></p>
<p>Name of the initialization parameter </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">2</td>
<td><p><b>String value</b></p>
<p>Value of the initialization parameter </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">3</td>
<td><p><b>String description</b></p>
<p>Description of the initialization parameter </p></td>
</tr>
</table>
<h3>Example</h3>
<p>The following example describes how to use @WeInitParam annotation along with @WebServlet annotation. It is a simple servlet that displays the text <b>Hello Servlet</b> and the string value <b>Hello World!</b> which are taken from the <b>init</b> parameters.</p>
<pre class="prettyprint notranslate">
import java.io.IOException; 
import java.io.PrintWriter; 
import javax.servlet.ServletException; 
import javax.servlet.annotation.WebInitParam; 
import javax.servlet.annotation.WebServlet; 
import javax.servlet.http.HttpServlet; 
import javax.servlet.http.HttpServletRequest; 
import javax.servlet.http.HttpServletResponse;

@WebServlet(value = "/Simple", initParams = { 
   @WebInitParam(name = "foo", value = "Hello "), 
   @WebInitParam(name = "bar", value = " World!") 
}) 
public class Simple extends HttpServlet {

   private static final long serialVersionUID = 1L; 

   protected void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {   
      
      response.setContentType("text/html");   
      PrintWriter out = response.getWriter();   
      out.print("&lt;html&gt;&lt;body&gt;");   
      out.print("&lt;h3&gt;Hello Servlet&lt;/h3&gt;");   
      out.println(getInitParameter("foo")); 
      out.println(getInitParameter("bar")); 
      out.print("&lt;/body&gt;&lt;/html&gt;");         
   }   
}
</pre>
<p>Compile <b>Simple.java</b> in the usual way and put your class file in &lt;Tomcat-installationdirectory&gt;;/webapps/ROOT/WEB-INF/classes.</p>
<p>Now try to call any servlet by just running <i>http://localhost:8080/Simple</i>. You will see the following output on the web page.</p>
<pre class="result notranslate">
Hello Servlet

Hello World! 
</pre>
<h2>@Webfilter </h2>
<p>This is the annotation used to declare a servlet filter. It is processed by the container at deployment time, and the corresponding filter applied to the specified URL patterns, servlets, and dispatcher types. </p> 	
<p>The <b>@WebFilter</b> annotation defines a filter in a web application. This annotation is specified on a class and contains metadata about the filter being declared. The annotated filter must specify at least one URL pattern. The following table lists the attributes used for WebFilter annotation.</p> 
<table class="table table-bordered">
<tr>
<th>Sr.No.</th>
<th style="text-align:center;">Attribute &amp; Description</th>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">1</td>
<td><p><b>String filterName</b></p>
<p>Name of the filter </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">2</td>
<td><p><b> String[] urlPatterns </b></p>
<p>Provides array of values or urlPatterns to which the filter applies</p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">3</td>
<td><p><b>DispatcherType[] dispatcherTypes</b></p>
<p>Specifies the types of dispatcher (Request/Response) to which the filter applies </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">4</td>
<td><p><b>String[] servletNames</b></p>
<p>Provides an array of servlet names </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">5</td>
<td><p><b>String displayName</b></p>
<p>Name of the filter </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">6</td>
<td><p><b>String description</b></p>
<p>Description of the filter </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">7</td>
<td><p><b>WebInitParam[] initParams</b></p>
<p>Array of initialization parameters for this filter </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">8</td>
<td><p><b>Boolean asyncSupported</b></p>
<p>Asynchronous operation supported by this filter </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">9</td>
<td><p><b>String smallIcon</b></p>
<p>Small icon for this filter, if present </p></td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">10</td>
<td><p><b>String largeIcon</b></p>
<p>Large icon for this filter, if present </p></td>
</tr>
</table>
<h3>Example</h3>
<p>The following example describes how to use @WebFilter annotation. It is a simple LogFilter that displays the value of Init-param <b>test-param</b> and the current time timestamp on the console. That means, the filter works like an interface layer between the request and the response. Here we use "/*" for urlPattern. It means, this filter is applicable for all the servlets.</p>
<pre class="prettyprint notranslate">
import java.io.IOException; 
import javax.servlet.annotation.WebFilter; 
import javax.servlet.annotation.WebInitParam; 
import javax.servlet.*; 
import java.util.*;  

// Implements Filter class

@WebFilter(urlPatterns = {"/*"}, initParams = { 
   @WebInitParam(name = "test-param", value = "Initialization Paramter")}) 
public class LogFilter implements Filter {
   
   public void init(FilterConfig config) throws ServletException { 
      // Get init parameter  
      String testParam = config.getInitParameter("test-param");
            
      //Print the init parameter  
      System.out.println("Test Param: " + testParam);  
   } 

   public void doFilter(ServletRequest request, ServletResponse response,
      FilterChain chain) throws IOException, ServletException { 
	  
      // Log the current timestamp. 
      System.out.println("Time " + new Date().toString());  
         
      // Pass request back down the filter chain 
      chain.doFilter(request,response); 
   }

   public void destroy( ) {
      /* Called before the Filter instance is removed  
      from service by the web container*/ 
   } 
}
</pre>
<p>Compile <b>Simple.java</b> in the usual way and put your class file in &lt;Tomcat-installationdirectory&gt;/webapps/ROOT/WEB-INF/classes. </p>
<p>Now try to call any servlet by just running <i>http://localhost:8080/Simple</i>. You will see the following output on the web page.</p>
<pre class="result notranslate">
Hello Servlet
  
Hello World!
</pre>
<p>Now, open the servlet console. There, you will find the value of the <b>init</b> parameter <b>testparam</b> and the <b>current timestamp</b> along with servlet notification messages.</p>
<hr />
<div class="pre-btn">
<a href="servlets-questions-answers.html"><i class="icon icon-arrow-circle-o-left big-font"></i> Previous Page</a>
</div>
<div class="print-btn center">
<a href="../cgi-bin/printpage.html" target="_blank"><i class="icon icon-print big-font"></i> Print</a>
</div>
<div class="nxt-btn">
<a href="servlets-useful-resources.html">Next Page <i class="icon icon-arrow-circle-o-right big-font"></i>&nbsp;</a>
</div>
<hr />
<!-- PRINTING ENDS HERE -->
<div class="bottomgooglead">
<div class="bottomadtag">Advertisements</div>
<script type="text/javascript"><!--
var width = 580;
var height = 400;
var format = "580x400_as";
if( window.innerWidth < 468 ){
   width = 300;
   height = 250;
   format = "300x250_as";
}
google_ad_client = "pub-7133395778201029";
google_ad_width = width;
google_ad_height = height;
google_ad_format = format;
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
</div>
</div>
<div class="row">
<div class="col-md-3" id="rightbar">
<div class="simple-ad">
<a href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.facebook.com/sharer.php?u=' + 'http://www.tutorialspoint.com/servlets/servlets-quick-guide.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/facebookIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://twitter.com/share?url=' + 'http://www.tutorialspoint.com/servlets/servlets-quick-guide.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/twitterIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.linkedin.com/cws/share?url=' + 'http://www.tutorialspoint.com/servlets/servlets-quick-guide.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/linkedinIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://plus.google.com/share?url=http://www.tutorialspoint.com/servlets/servlets-quick-guide.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/googlePlusIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.stumbleupon.com/submit?url=http://www.tutorialspoint.com/servlets/servlets-quick-guide.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/StumbleUponIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://reddit.com/submit?url=http://www.tutorialspoint.com/servlets/servlets-quick-guide.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=656,top='+sTop+',left='+sLeft);return false;">
<img src="../images/reddit.jpg" alt="img" />
</a>
</div>
<div class="rightgooglead">
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 300;
google_ad_height = 250;
google_ad_format = "300x250_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
<div class="rightgooglead">
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 300;
google_ad_height = 600;
google_ad_format = "300x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
<div class="rightgooglead">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-2537027957187252";
/* Right Side Ad */
google_ad_slot = "right_side_ad";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
</div>
</div>
</div>
</div>
</div>

<div class="footer-copyright">
<div class="container">
<div class="row">
<div class="col-md-1">
<a href="../index-2.html" class="logo"> <img alt="Tutorials Point" class="img-responsive" src="../scripts/img/logo-footer.png"> </a>
</div>
<div class="col-md-4 col-sm-12 col-xs-12">
   <nav id="sub-menu">
      <ul>
         <li><a href="../about/tutorials_writing.html">Write for us</a></li>
         <li><a href="../about/faq.html">FAQ's</a></li>
         <li><a href="../about/about_helping.html">Helping</a></li>
         <li><a href="../about/contact_us.html">Contact</a></li>
      </ul>
   </nav>
</div>
<div class="col-md-3 col-sm-12 col-xs-12">
<p>&copy; Copyright 2017. All Rights Reserved.</p>
</div>
<div class="col-md-4 col-sm-12 col-xs-12">
   <div class="news-group">
      <input type="text" class="form-control-foot search" name="textemail" id="textemail" autocomplete="off" placeholder="Enter email for newsletter" onfocus="if (this.value == 'Enter email for newsletter...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Enter email for newsletter...';}">
      <span class="input-group-btn"> <button class="btn btn-default btn-footer" id="btnemail" type="submit" onclick="javascript:void(0);">go</button> </span>
      <div id="newsresponse"></div>
   </div>
</div>
</div>
</div>
</div>
</div>
<!-- Libs -->
<script type="text/javascript" src="../theme/js/custom-minae52.js?v=5"></script>
<script src="../../www.google-analytics.com/urchin.js">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
$('.pg-icon').click(function(){
   $('.wrapLoader').show();
});
</script>

<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "Servlets Quick Guide",
    "name": "Servlets Quick Guide",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://www.tutorialspoint.com/servlets/servlets-quick-guide.htm"
    },
    "image": {
        "@type": "ImageObject",
        "url": "https://www.tutorialspoint.com/servlets/images/servlet-arch.jpg",
        "width": 352,
        "height": 230
    },
    "author": {
        "@type": "Organization",
        "name": "Tutorials Point",
        "url": "https://www.tutorialspoint.com",
        "logo": {
            "@type": "ImageObject",
            "url": "https://www.tutorialspoint.com/images/logo60.png",
            "width": 210,
            "height": 60
        }
    },
    "datePublished": "July 23 2017 03:34:50.",
    "dateModified": "July 23 2017 03:34:50.",
    "publisher": {
        "@type": "Organization",
        "name": "Tutorials Point",
        "url": "https://www.tutorialspoint.com",
        "logo": {
            "@type": "ImageObject",
            "url": "https://www.tutorialspoint.com/images/logo60.png",
            "width": 210,
            "height": 60
        }
    },
    "description": "Java Servlets are programs that run on a Web or Application server and act as a middle layer between a requests coming from a Web browser or other HTTP client and databases or applications on the HTTP server...."
}
</script>
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
        {
            "@type": "ListItem",
            "position": 1,
            "item": {
                "name": "www.tutorialspoint.com",
                "@id": "https://www.tutorialspoint.com"
            }
        },
        {
            "@type": "ListItem",
            "position": 2,
            "item": {
                "name": "Servlets",
                "@id": "https://www.tutorialspoint.com/servlets"
            }
        },
        {
            "@type": "ListItem",
            "position": 3,
            "item": {
                "name": "Servlets - Quick Guide"
            }
        }
    ]
}
</script>
</div>
</body>

<!-- Mirrored from www.tutorialspoint.com/servlets/servlets-quick-guide.htm by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Aug 2017 15:19:52 GMT -->
</html>
