<!DOCTYPE html>
<!--[if IE 8]><html class="ie ie8"> <![endif]-->
<!--[if IE 9]><html class="ie ie9"> <![endif]-->
<!--[if gt IE 9]><!-->	<html> <!--<![endif]-->

<!-- Mirrored from www.tutorialspoint.com/flask/flask_quick_guide.htm by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Aug 2017 18:03:35 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<!-- Basic -->
<meta charset="utf-8">
<title>Flask Quick Guide</title>
<meta name="description" content="Flask Quick Guide - Learn Flask starting from Overview, Environment, Application, Routing, Variable Rules, URL Building, HTTP Methods, Templates, Static Files, Request Object, Sending Form Data to Template, Cookies, Sessions, Redirect and Errors, Message Flashing, File Uploading, Extensions, Mail, WTF, SQLite, SQLAlchemy, Sijax, Deployment, FastCGI." />
<meta name="keywords" content="Flask, Tutorial, Overview, Environment, Application, Routing, Variable Rules, URL Building, HTTP Methods, Templates, Static Files, Request Object, Sending Form Data to Template, Cookies, Sessions, Redirect and Errors, Message Flashing, File Uploading, Extensions, Mail, WTF, SQLite, SQLAlchemy, Sijax, Deployment, FastCGI." />
<base  />
<link rel="shortcut icon" href="../favicon.ico" type="image/x-icon" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes">
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="website" />
<meta property="fb:app_id" content="471319149685276" />
<meta property="og:site_name" content="www.tutorialspoint.com" />
<meta name="robots" content="index, follow"/>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="author" content="tutorialspoint.com">
<script type="text/javascript" src="../theme/js/script-min-v4.js"></script>
<link rel="stylesheet" href="../theme/css/style-min5e1f.css?v=2">
<!-- Head Libs -->
<!--[if IE 8]>
<link rel="stylesheet" type="text/css" href="/theme/css/ie8.css">
<![endif]-->
<style>
select{ border:0 !important; outline: 1px inset black !important; outline-offset: -1px !important; }
ul.nav-list.primary>li a.videolink{    background: none; margin: 0px; padding: 0px; border: 1px solid #d6d6d6;}
div.feature-box div.feature-box-icon, .col-md-3 .course-box, li.heading, div.footer-copyright { background: #3fa783 url(../images/pattern.png) repeat center center !important;}
.sub-main-menu .sub-menuu div:hover, .sub-main-menu .viewall, header nav ul.nav-main li a:hover, button.btn-responsive-nav, header div.search button.btn-default { background: #3fa783 !important;}
.submenu-item{ border-bottom: 2px solid #3fa783 !important; border-top: 2px solid #3fa783 !important }
.ace_scroller{overflow: auto!important;}
</style>
<script>
$(document).ready(function() {
  $('input[name="q"]').keydown(function(event){
    if(event.keyCode == 13) {
      event.preventDefault();
      return false;
    }
  });
});
</script>
</head>
<body onload="prettyPrint()">
<div class="wrapLoader">
   <div class="imgLoader">
      <img  src="../images/loading-cg.gif" alt="" width="70" height="70" />
   </div>
</div>
<header>
   <div class="container">			
      <h1 class="logo">
      <a href="../index-2.html" title="tutorialspoint">
      <img alt="tutorialspoint" src="images/logo.png">
      </a>
      </h1>			
      <nav>
         <ul class="nav nav-pills nav-top">
            <li><a href="../about/about_careers.html" style="background: #fffb09; font-weight: bold;"><i class="icon icon-suitcase"></i> Jobs</a></li>
            <li> <a href="http://www.sendfiles.net/"><i class="fa fa-send"></i> &nbsp;SENDFiles</a> </li>
            <li> <a href="../whiteboard.html"><img src="../theme/css/icons/image-editor.png" alt="Whiteboard" title="Whiteboard"> &nbsp;Whiteboard</a> </li>
            <li> <a href="../netmeeting.html"><i class="fa-camera"></i> &nbsp;Net Meeting</a> </li>
            <li> <a href="../online_dev_tools.html"> <i class="dev-tools-menu" style="opacity:.5"></i> Tools </a> </li>
            <li> <a href="../articles/index.html"><i class="icon icon-file-text-o"></i> &nbsp;Articles</a> </li>            
            <li class="top-icons">
              <ul class="social-icons">
              <li class="facebook"><a href="https://www.facebook.com/tutorialspointindia" target="_blank" data-placement="bottom" title="tutorialspoint @ Facebook">Facebook</a></li>
              <li class="googleplus"><a href="https://plus.google.com/u/0/116678774017490391259/posts" target="_blank" data-placement="bottom" title="tutorialspoint @ Google+">Google+</a></li>
              <li class="twitter"><a href="https://www.twitter.com/tutorialspoint" target="_blank" data-placement="bottom" title="tutorialspoint @ Twitter">Twitter</a></li>
              <li class="linkedin"><a href="https://www.linkedin.com/company/tutorialspoint" target="_blank" data-placement="bottom" title="tutorialspoint @ Linkedin">Linkedin</a></li>
              <li class="youtube"><a href="https://www.youtube.com/channel/UCVLbzhxVTiTLiVKeGV7WEBg" target="_blank" data-placement="bottom" title="tutorialspoint YouTube">YouTube</a></li>
              </ul>
           </li>
         </ul>
      </nav>
         <!-- search code here  --> 
      <button class="btn btn-responsive-nav btn-inverse" data-toggle="collapse" data-target=".nav-main-collapse" id="pull" style="top: 24px!important"> <i class="icon icon-bars"></i> </button>
   </div>
  
   <div class="navbar nav-main">
      <div class="container">
         <nav class="nav-main mega-menu">
            <ul class="nav nav-pills nav-main" id="mainMenu">
               <li class="dropdown no-sub-menu"> <a class="dropdown" href="../index-2.html"><i class="icon icon-home"></i> Home</a> </li>   
               <li class="dropdown" id="liTL"><a class="dropdown" href="javascript:void(0);"><span class="tut-lib"> Tutorials Library <i class="fa-caret-down"></i></span></a></li>
               <li class="dropdown no-sub-menu"><a class="dropdown" href="../codingground.html"><i class="fa-code"></i> Coding Ground </a> </li>
               <li class="dropdown no-sub-menu"><a class="dropdown" href="../tutor_connect/index.html"><i class="fa-user"> </i> Tutor Connect</a></li>
               <li class="dropdown no-sub-menu"><a class="dropdown" href="../videotutorials/index.html"><i class="fa-toggle-right"></i> Videos </a></li>
               <li class="dropdown no-sub-menu">
                  <div class="searchform-popup">
                     <input class="header-search-box" type="text" id="search-string" name="q" placeholder="Search your favorite tutorials..." onfocus="if (this.value == 'Search your favorite tutorials...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search your favorite tutorials...';}" autocomplete="off">
                     <div class="magnifying-glass"><i class="icon-search"></i> Search </div>
                 </div>
               </li>
            </ul>
         </nav>
         <div class="submenu-item sub-main-menu" id="top-sub-menu"></div>
         
      </div>
   </div>	
</header>
<div style="clear:both;"></div>
<div role="main" class="main">
<div class="container">
<div class="row">
<div class="col-md-2">
<aside class="sidebar">
<div class="mini-logo">
<img src="images/flask-mini-logo.jpg" alt="Flask Tutorial" />
</div>
<ul class="nav nav-list primary left-menu" >
<li><a class="videolink" href="../flask_framework_online_training/index.html" target="_blank"><img src="images/flask-video-tutorials.jpg" alt="Flask Video Tutorials" /></a></li>
</ul>
<ul class="nav nav-list primary left-menu" >
<li class="heading">Flask Tutorial</li>
<li><a href="index.html">Flask - Home</a></li>
<li><a href="flask_overview.html">Flask – Overview</a></li>
<li><a href="flask_environment.html">Flask - Environment</a></li>
<li><a href="flask_application.html">Flask - Application</a></li>
<li><a href="flask_routing.html">Flask - Routing</a></li>
<li><a href="flask_variable_rules.html">Flask - Variable Rules</a></li>
<li><a href="flask_url_building.html">Flask - URL Building</a></li>
<li><a href="flask_http_methods.html">Flask - HTTP Methods</a></li>
<li><a href="flask_templates.html">Flask - Templates</a></li>
<li><a href="flask_static_files.html">Flask - Static Files</a></li>
<li><a href="flask_request_object.html">Flask - Request Object</a></li>
<li><a href="flask_sending_form_data_to_template.html">Sending Form Data to Template</a></li>
<li><a href="flask_cookies.html">Flask - Cookies</a></li>
<li><a href="flask_sessions.html">Flask - Sessions</a></li>
<li><a href="flask_redirect_and_errors.html">Flask - Redirect &amp; Errors</a></li>
<li><a href="flask_message_flashing.html">Flask - Message Flashing</a></li>
<li><a href="flask_file_uploading.html">Flask - File Uploading</a></li>
<li><a href="flask_extensions.html">Flask - Extensions</a></li>
<li><a href="flask_mail.html">Flask - Mail</a></li>
<li><a href="flask_wtf.html">Flask - WTF</a></li>
<li><a href="flask_sqlite.html">Flask - SQLite</a></li>
<li><a href="flask_sqlalchemy.html">Flask - SQLAlchemy</a></li>
<li><a href="flask_sijax.html">Flask - Sijax</a></li>
<li><a href="flask_deployment.html">Flask - Deployment</a></li>
<li><a href="flask_fastcgi.html">Flask - FastCGI</a></li>
</ul>
<ul class="nav nav-list primary left-menu" >
<li class="heading">Flask Useful Resources</li>
<li><a href="flask_quick_guide.html">Flask - Quick Guide</a></li>
<li><a href="flask_useful_resources.html">Flask - Useful Resources</a></li>
<li><a href="flask_discussion.html">Flask - Discussion</a></li>
</ul>
<ul class="nav nav-list primary push-bottom left-menu special">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="../developers_best_practices/index.html">Developer's Best Practices</a></li>
<li><a target="_top" href="../questions_and_answers.html">Questions and Answers</a></li>
<li><a target="_top" href="../effective_resume_writing.html">Effective Resume Writing</a></li>
<li><a target="_top" href="../hr_interview_questions/index.html">HR Interview Questions</a></li>
<li><a target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</aside>
</div>
<!-- PRINTING STARTS HERE -->
<div class="row">
<div class="content">
<div class="col-md-7 middle-col">
<h1>Flask - Quick Guide</h1>
<div class="topgooglead">
<hr />
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript" 
src="../../pagead2.googlesyndication.com/pagead/f.txt"> 
</script>
</div>
<hr />
<div class="pre-btn">
<a href="flask_fastcgi.html"><i class="icon icon-arrow-circle-o-left big-font"></i> Previous Page</a>
</div>
<div class="nxt-btn">
<a href="flask_useful_resources.html">Next Page <i class="icon icon-arrow-circle-o-right big-font"></i>&nbsp;</a>
</div>
<div class="clearer"></div>
<hr />
<h1>Flask – Overview</h1>
<h2>What is Web Framework?</h2>
<p>Web Application Framework or simply Web Framework represents a collection of libraries and modules that enables a web application developer to write applications without having to bother about low-level details such as protocols, thread management etc.</p>
<h2>What is Flask?</h2>
<p>Flask is a web application framework written in Python. It is developed by <b>Armin Ronacher</b>, who leads an international group of Python enthusiasts named Pocco. Flask is based on the Werkzeug WSGI toolkit and Jinja2 template engine. Both are Pocco projects.</p>
<h2>WSGI</h2>
<p>Web Server Gateway Interface (WSGI) has been adopted as a standard for Python web application development. WSGI is a specification for a universal interface between the web server and the web applications.</p>
<h2>Werkzeug</h2>
<p>It is a WSGI toolkit, which implements requests, response objects, and other utility functions. This enables building a web framework on top of it. The Flask framework uses Werkzeug as one of its bases.</p>
<h2>jinja2</h2>
<p>jinja2 is a popular templating engine for Python. A web templating system combines a template with a certain data source to render dynamic web pages.</p>
<p>Flask is often referred to as a micro framework. It aims to keep the core of an application simple yet extensible. Flask does not have built-in abstraction layer for database handling, nor does it have form a validation support. Instead, Flask supports the extensions to add such functionality to the application. Some of the popular Flask extensions are discussed later in the tutorial.</p>
<h1>Flask – Environment</h1>
<h2>Prerequisite</h2>
<p>Python 2.6 or higher is usually required for installation of Flask. Although Flask and its dependencies work well with Python 3 (Python 3.3 onwards), many Flask extensions do not support it properly. Hence, it is recommended that Flask should be installed on Python 2.7.</p>
<h2>Install virtualenv for development environment</h2>
<p><b>virtualenv</b> is a virtual Python environment builder. It helps a user to create multiple Python environments side-by-side. Thereby, it can avoid compatibility issues between the different versions of the libraries.</p>
<p>The following command installs <b>virtualenv</b>.</p>
<pre class="result notranslate">
pip install virtualenv
</pre>
<p>This command needs administrator privileges. Add <b>sudo</b> before <b>pip</b> on Linux/Mac OS. If you are on Windows, log in as Administrator. On Ubuntu <b>virtualenv</b> may be installed using its package manager.</p>
<pre class="result notranslate">
Sudo apt-get install virtualenv
</pre>
<p>Once installed, new virtual environment is created in a folder.</p>
<pre class="result notranslate">
mkdir newproj
cd newproj
virtualenv venv
</pre>
<p>To activate corresponding environment, on <b>Linux/OS X</b>, use the following &minus;</p>
<pre class="result notranslate">
venv/bin/activate
</pre>
<p>On <b>Windows</b>, following can be used &minus;</p>
<pre class="result notranslate">
venv\scripts\activate
</pre>
<p>We are now ready to install Flask in this environment.</p>
<pre class="result notranslate">
pip install Flask
</pre>
<p>The above command can be run directly, without virtual environment for system-wide installation.</p>
<h1>Flask – Application</h1>
<p>In order to test <b>Flask</b> installation, type the following code in the editor as <b>Hello.py</b></p>
<pre class="prettyprint notranslate">
from flask import Flask
app = Flask(__name__)

@app.route('/')
def hello_world():
   return 'Hello World’

if __name__ == '__main__':
   app.run()
</pre>
<p>Importing flask module in the project is mandatory. An object of Flask class is our <b>WSGI</b> application.</p>
<p>Flask constructor takes the name of <b>current module (__name__)</b> as argument.</p>
<p>The <b>route()</b> function of the Flask class is a decorator, which tells the application which URL should call the associated function.</p>
<pre class="result notranslate">
app.route(rule, options)
</pre>
<ul class="list">
<li><p>The <b>rule</b> parameter represents URL binding with the function.</p></li>
<li><p>The <b>options</b> is a list of parameters to be forwarded to the underlying Rule object.</p></li>
</ul>
<p>In the above example, <b>‘/’</b> URL is bound with <b>hello_world()</b> function. Hence, when the home page of web server is opened in browser, the output of this function will be rendered.</p>
<p>Finally the <b>run()</b> method of Flask class runs the application on the local development server.</p>
<pre class="result notranslate">
app.run(host, port, debug, options)
</pre>
<p>All parameters are optional</p>
<table class="table table-bordered">
<tr>
<th>Sr.No</th>
<th>Parameters &amp; Description</th>
</tr>
<tr>
<td>1</td>
<td>
<p><b>host</b></p>
<p>Hostname to listen on. Defaults to 127.0.0.1 (localhost). Set to ‘0.0.0.0’ to have server available externally</p>
</td>
</tr>
<tr>
<td>2</td>
<td>
<p><b>port</b></p>
<p>Defaults to 5000</p>
</td>
</tr>
<tr>
<td>3</td>
<td>
<p><b>debug</b></p>
<p>Defaults to false. If set to true, provides a debug information</p>
</td>
</tr>
<tr>
<td>4</td>
<td>
<p><b>options</b></p>
<p>To be forwarded to underlying Werkzeug server.</p>
</td>
</tr>
</table>
<p>The above given <b>Python</b> script is executed from Python shell.</p>
<pre class="result notranslate">
Python Hello.py
</pre>
<p>A message in Python shell informs you that</p>
<pre class="result notranslate">
* Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
</pre>
<p>Open the above URL <b>(localhost:5000)</b> in the browser. <b>‘Hello World’</b> message will be displayed on it.</p>
<h2>Debug mode</h2>
<p>A <b>Flask</b> application is started by calling the <b>run()</b> method. However, while the application is under development, it should be restarted manually for each change in the code. To avoid this inconvenience, enable <b>debug support</b>. The server will then reload itself if the code changes. It will also provide a useful debugger to track the errors if any, in the application.</p>
<p>The <b>Debug</b> mode is enabled by setting the <b>debug</b> property of the <b>application</b> object to <b>True</b> before running or passing the debug parameter to the <b>run()</b> method.</p>
<pre class="prettyprint notranslate">
app.debug = True
app.run()
app.run(debug = True)
</pre>
<h1>Flask – Routing</h1>
<p>Modern web frameworks use the routing technique to help a user remember application URLs. It is useful to access the desired page directly without having to navigate from the home page.</p>
<p>The <b>route()</b> decorator in Flask is used to bind URL to a function. For example &minus;</p>
<pre class="prettyprint notranslate">
@app.route(‘/hello’)
def hello_world():
   return ‘hello world’
</pre>
<p>Here, URL <b>‘/hello’</b> rule is bound to the <b>hello_world()</b> function. As a result, if a user visits <b>http://localhost:5000/hello</b> URL, the output of the <b>hello_world()</b> function will be rendered in the browser.</p>
<p>The <b>add_url_rule()</b> function of an application object is also available to bind a URL with a function as in the above example, <b>route()</b> is used.</p>
<p>A decorator’s purpose is also served by the following representation &minus;</p>
<pre class="prettyprint notranslate">
def hello_world():
   return ‘hello world’
app.add_url_rule(‘/’, ‘hello’, hello_world)
</pre>
<h1>Flask – Variable Rules</h1>
<p>It is possible to build a URL dynamically, by adding variable parts to the rule parameter. This variable part is marked as <b>&lt;variable-name&gt;</b>. It is passed as a keyword argument to the function with which the rule is associated.</p>
<p>In the following example, the rule parameter of <b>route()</b> decorator contains <b>&lt;name&gt;</b> variable part attached to URL <b>‘/hello’</b>. Hence, if the <b>http://localhost:5000/hello/TutorialsPoint</b> is entered as a <b>URL</b> in the browser, <b>‘TutorialPoint’</b> will be supplied to <b>hello()</b> function as argument.</p>
<pre class="prettyprint notranslate">
from flask import Flask
app = Flask(__name__)

@app.route('/hello/&lt;name&gt;')
def hello_name(name):
   return 'Hello %s!' % name

if __name__ == '__main__':
   app.run(debug = True)
</pre>
<p>Save the above script as <b>hello.py</b> and run it from Python shell. Next, open the browser and enter URL <b>http://localhost:5000/hello/TutorialsPoint.</b></p>
<p>The following output will be displayed in the browser.</p>
<pre class="result notranslate">
Hello TutorialsPoint!
</pre>
<p>In addition to the default string variable part, rules can be constructed using the following converters &minus;</p>
<table class="table table-bordered">
<tr>
<th width="10%">Sr.No</th>
<th>Converters &amp; Description</th>
</tr>
<tr>
<td>1</td>
<td>
<p><b>int</b></p>
<p>accepts integer</p>
</td>
</tr>
<tr>
<td>2</td>
<td>
<p><b>float</b></p>
<p>For floating point value</p>
</td>
</tr>
<tr>
<td>3</td>
<td>
<p><b>path</b></p>
<p>accepts slashes used as directory separator character</p>
</td>
</tr>
</table>
<p>In the following code, all these constructors are used.</p>
<pre class="prettyprint notranslate">
from flask import Flask
app = Flask(__name__)

@app.route('/blog/&lt;int:postID&gt;')
def show_blog(postID):
   return 'Blog Number %d' % postID

@app.route('/rev/&lt;float:revNo&gt;')
def revision(revNo):
   return 'Revision Number %f' % revNo

if __name__ == '__main__':
   app.run()
</pre>
<p>Run the above code from Python Shell. Visit the URL <b>http://localhost:5000/blog/11</b> in the browser.</p>
<p>The given number is used as argument to the <b>show_blog()</b> function. The browser displays the following output &minus;</p>
<pre class="result notranslate">
Blog Number 11
</pre>
<p>Enter this URL in the browser &minus; <b>http://localhost:5000/rev/1.1</b></p>
<p>The <b>revision()</b> function takes up the floating point number as argument. The following result appears in the browser window &minus;</p>
<pre class="result notranslate">
Revision Number 1.100000
</pre>
<p>The URL rules of Flask are based on <b>Werkzeug’s</b> routing module. This ensures that the URLs formed are unique and based on precedents laid down by Apache.</p>
<p>Consider the rules defined in the following script &minus;</p>
<pre class="prettyprint notranslate">
from flask import Flask
app = Flask(__name__)

@app.route('/flask')
def hello_flask():
   return 'Hello Flask'

@app.route('/python/')
def hello_python():
   return 'Hello Python'

if __name__ == '__main__':
   app.run()
</pre>
<p>Both the rules appear similar but in the second rule, trailing slash <b>(/)</b> is used. As a result, it becomes a canonical URL. Hence, using <u><b>/python</b></u> or <u><b>/python/</b></u> returns the same output. However, in case of the first rule, <u><b>/flask/</b></u> URL results in <u><b>404 Not Found</b></u> page.</p>
<h1>Flask – URL Building</h1>
<p>The <b>url_for()</b> function is very useful for dynamically building a URL for a specific function. The function accepts the name of a function as first argument, and one or more keyword arguments, each corresponding to the variable part of URL.</p>
<p>The following script demonstrates use of <b>url_for()</b> function.</p>
<pre class="prettyprint notranslate">
from flask import Flask, redirect, url_for
app = Flask(__name__)

@app.route('/admin')
def hello_admin():
   return 'Hello Admin'

@app.route('/guest/&lt;guest&gt;')
def hello_guest(guest):
   return 'Hello %s as Guest' % guest

@app.route('/user/&lt;name&gt;')
def hello_user(name):
   if name =='admin':
      return redirect(url_for('hello_admin'))
   else:
      return redirect(url_for('hello_guest',guest = name))

if __name__ == '__main__':
   app.run(debug = True)
</pre>
<p>The above script has a function <b>user(name)</b> which accepts a value to its argument from the URL.</p>
<p>The <b>User()</b> function checks if an argument received matches <b>‘admin’</b> or not. If it matches, the application is redirected to the <b>hello_admin()</b> function using <b>url_for()</b>, otherwise to the <b>hello_guest()</b> function passing the received argument as guest parameter to it.</p>
<p>Save the above code and run from Python shell.</p>
<p>Open the browser and enter URL as &minus; <b>http://localhost:5000/hello/admin</b></p>
<p>The application response in browser is &minus;</p>
<pre class="result notranslate">
Hello Admin
</pre>
<p>Enter the following URL in the browser &minus; <b>http://localhost:5000/hello/mvl</b></p>
<p>The application response now changes to &minus;</p>
<pre class="result notranslate">
Hello mvl as Guest
</pre>
<h1>Flask – HTTP methods</h1>
<p>Http protocol is the foundation of data communication in world wide web. Different methods of data retrieval from specified URL are defined in this protocol.</p>
<p>The following table summarizes different http methods &minus;</p>
<table class="table table-bordered">
<tr>
<th>Sr.No</th>
<th>Methods &amp; Description</th>
</tr>
<tr>
<td>1</td>
<td>
<p><b>GET</b></p>
<p>Sends data in unencrypted form to the server. Most common method.</p>
</td>
</tr>
<tr>
<td>2</td>
<td>
<p><b>HEAD</b></p>
<p>Same as GET, but without response body</p>
</td>
</tr>
<tr>
<td>3</td>
<td>
<p><b>POST</b></p>
<p>Used to send HTML form data to server. Data received by POST method is not cached by server.</p>
</td>
</tr>
<tr>
<td>4</td>
<td>
<p><b>PUT</b></p>
<p>Replaces all current representations of the target resource with the uploaded content.</p>
</td>
</tr>
<tr>
<td>5</td>
<td>
<p><b>DELETE</b></p>
<p>Removes all current representations of the target resource given by a URL</p>
</td>
</tr>
</table>
<p>By default, the Flask route responds to the <b>GET</b> requests. However, this preference can be altered by providing methods argument to <b>route()</b> decorator.</p>
<p>In order to demonstrate the use of <b>POST</b> method in URL routing, first let us create an HTML form and use the <b>POST</b> method to send form data to a URL.</p>
<p>Save the following script as login.html</p>
<pre class="prettyprint notranlsate">
&lt;html&gt;
   &lt;body&gt;
      
      &lt;form action = "http://localhost:5000/login" method = "post"&gt;
         &lt;p&gt;Enter Name:&lt;/p&gt;
         &lt;p&gt;&lt;input type = "text" name = "nm" /&gt;&lt;/p&gt;
         &lt;p&gt;&lt;input type = "submit" value = "submit" /&gt;&lt;/p&gt;
      &lt;/form&gt;
      
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Now enter the following script in Python shell.</p>
<pre class="prettyprint notranlsate">
from flask import Flask, redirect, url_for, request
app = Flask(__name__)

@app.route('/success/&lt;name&gt;')
def success(name):
   return 'welcome %s' % name

@app.route('/login',methods = ['POST', 'GET'])
def login():
   if request.method == 'POST':
      user = request.form['nm']
      return redirect(url_for('success',name = user))
   else:
      user = request.args.get('nm')
      return redirect(url_for('success',name = user))

if __name__ == '__main__':
   app.run(debug = True)
</pre>
<p>After the development server starts running, open <b>login.html</b> in the browser, enter name in the text field and click <b>Submit</b>.</p>
<img src="images/post_method_example.jpg" alt="Post Method Example" />
<p>Form data is POSTed to the URL in action clause of form tag.</p>
<p><b>http://localhost/login</b> is mapped to the <b>login()</b> function. Since the server has received data by <b>POST</b> method, value of ‘nm’ parameter obtained from the form data is obtained by &minus;</p>
<pre class="result notranlsate">
user = request.form['nm']
</pre>
<p>It is passed to <b>‘/success’</b> URL as variable part. The browser displays a <b>welcome</b> message in the window.</p>
<img src="images/welcome_message.jpg" alt="Welcome Message" />
<p>Change the method parameter to <b>‘GET’</b> in <b>login.html</b> and open it again in the browser. The data received on server is by the <b>GET</b> method. The value of ‘nm’ parameter is now obtained by &minus;</p>
<pre class="result notranlsate">
User = request.args.get(‘nm’)
</pre>
<p>Here, <b>args</b> is dictionary object containing a list of pairs of form parameter and its corresponding value. The value corresponding to ‘nm’ parameter is passed on to ‘/success’ URL as before.</p>
<h1>Flask – Templates</h1>
<p>It is possible to return the output of a function bound to a certain URL in the form of HTML. For instance, in the following script, <b>hello()</b> function will render <b>‘Hello World’</b> with <b>&lt;h1&gt;</b> tag attached to it.</p>
<pre class="prettyprint notranslate">
from flask import Flask
app = Flask(__name__)

@app.route('/')
def index():
   return '&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello World'&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;'

if __name__ == '__main__':
   app.run(debug = True)
</pre>
<p>However, generating HTML content from Python code is cumbersome, especially when variable data and Python language elements like conditionals or loops need to be put. This would require frequent escaping from HTML.</p>
<p>This is where one can take advantage of <b>Jinja2</b> template engine, on which Flask is based. Instead of returning hardcode HTML from the function, a HTML file can be rendered by the <b>render_template()</b> function.</p>
<pre class="prettyprint notranslate">
from flask import Flask
app = Flask(__name__)

@app.route('/')
def index():
   return render_template(‘hello.html’)

if __name__ == '__main__':
   app.run(debug = True)
</pre>
<p>Flask will try to find the HTML file in the templates folder, in the same folder in which this script is present.</p>
<ul class="list">
<li>Application folder
<ul class="list">
<li>Hello.py</li>
<li>templates
<ul class="list">
<li>hello.html</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>The term <b>‘web templating system’</b> refers to designing an HTML script in which the variable data can be inserted dynamically. A web template system comprises of a template engine, some kind of data source and a template processor.</p>
<p>Flask uses <b>jinja2</b> template engine. A web template contains HTML syntax interspersed placeholders for variables and expressions (in these case Python expressions) which are replaced values when the template is rendered.</p>
<p>The following code is saved as <b>hello.html</b> in the templates folder.</p>
<pre class="prettyprint notranslate">
&lt;!doctype html&gt;
&lt;html&gt;
   &lt;body&gt;
   
      &lt;h1&gt;Hello {{ name }}!&lt;/h1&gt;
      
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Next, run the following script from Python shell.</p>
<pre class="prettyprint notranslate">
from flask import Flask, render_template
app = Flask(__name__)

@app.route('/hello/&lt;user&gt;')
def hello_name(user):
   return render_template('hello.html', name = user)

if __name__ == '__main__':
   app.run(debug = True)
</pre>
<p>As the development server starts running, open the browser and enter URL as &minus; <b>http://localhost:5000/hello/mvl</b></p>
<p>The <b>variable</b> part of URL is inserted at <b>{{ name }}</b> place holder.</p>
<img src="images/web_templating_system_example.jpg" alt="Web Templating System Example" />
<p>The <b>jinja2</b> template engine uses the following delimiters for escaping from HTML.</p>
<ul class="list">
<li>{% ... %} for Statements</li>
<li>{{ ... }} for Expressions to print to the template output</li>
<li>{# ... #} for Comments not included in the template output</li>
<li># ... ## for Line Statements</li>
</ul>
<p>In the following example, use of conditional statement in the template is demonstrated. The URL rule to the <b>hello()</b> function accepts the integer parameter. It is passed to the <b>hello.html</b> template. Inside it, the value of number received (marks) is compared (greater or less than 50) and accordingly HTML is conditionally rendered.</p>
<p>The Python Script is as follows &minus;</p>
<pre class="prettyprint notranslate">
from flask import Flask, render_template
app = Flask(__name__)

@app.route('/hello/&lt;int:score&gt;')
def hello_name(score):
   return render_template('hello.html', marks = score)

if __name__ == '__main__':
   app.run(debug = True)
</pre>
<p>HTML template script of <b>hello.html</b> is as follows &minus;</p>
<pre class="prettyprint notranslate">
&lt;!doctype html&gt;
&lt;html&gt;
   &lt;body&gt;
   
      {% if marks&gt;50 %}
      &lt;h1&gt; Your result is pass!&lt;/h1&gt;
      {% else %}
      &lt;h1&gt;Your result is fail&lt;/h1&gt;
      {% endif %}
      
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Note that the conditional statements <b>if-else</b> and <b>endif</b> are enclosed in delimiter <b>{%..%}</b>.</p>
<p>Run the Python script and visit URL <b>http://localhost/hello/60</b> and then <b>http://localhost/hello/30</b> to see the output of HTML changing conditionally.</p>
<p>The Python loop constructs can also be employed inside the template. In the following script, the <b>result()</b> function sends a dictionary object to template <b>results.html</b> when URL <b>http://localhost:5000/result</b> is opened in the browser.</p>
<p>The Template part of <b>result.html</b> employs a <b>for loop</b> to render key and value pairs of dictionary object <b>result{}</b> as cells of an HTML table.</p>
<p>Run the following code from Python shell.</p>
<pre class="prettyprint notranslate">
from flask import Flask, render_template
app = Flask(__name__)

@app.route('/result')
def result():
   dict = {'phy':50,'che':60,'maths':70}
   return render_template('result.html', result = dict)

if __name__ == '__main__':
   app.run(debug = True)
</pre>
<p>Save the following HTML script as <b>result.html</b> in the templates folder.</p>
<pre class="prettyprint notranslate">
&lt;!doctype html&gt;
&lt;html&gt;
   &lt;body&gt;
   
      &lt;table border = 1&gt;
         {% for key, value in result.iteritems() %}
         
            &lt;tr&gt;
               &lt;th&gt; {{ key }} &lt;/th&gt;
               &lt;td&gt; {{ value }} &lt;/td&gt;
            &lt;/tr&gt;
            
         {% endfor %}
      &lt;/table&gt;
      
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Here, again the Python statements corresponding to the <b>For</b> loop are enclosed in {%..%} whereas, the expressions <b>key and value</b> are put inside <b>{{ }}</b>.</p>
<p>After the development starts running, open <b>http://localhost:5000/result</b> in the browser to get the following output.</p>
<img src="images/table_template_example.jpg" alt="Table Template Example" />
<h1>Flask – Static Files</h1>
<p>A web application often requires a static file such as a <b>javascript</b> file or a <b>CSS</b> file supporting the display of a web page. Usually, the web server is configured to serve them for you, but during the development, these files are served from <i>static</i> folder in your package or next to your module and it will be available at <b><i>/static</i></b> on the application.</p>
<p>A special endpoint ‘static’ is used to generate URL for static files.</p>
<p>In the following example, a <b>javascript</b> function defined in <b>hello.js</b> is called on <b>OnClick</b> event of HTML button in <b>index.html</b>, which is rendered on <b>‘/’</b> URL of the Flask application.</p>
<pre class="prettyprint notranslate">
from flask import Flask, render_template
app = Flask(__name__)

@app.route("/")
def index():
   return render_template("index.html")

if __name__ == '__main__':
   app.run(debug = True)
</pre>
<p>The HTML script of <b>index.html</b> is given below.</p>
<pre class="prettyprint notranslate">
&lt;html&gt;

   &lt;head&gt;
      &lt;script type = "text/javascript" 
         src = "{{ url_for('static', filename = 'hello.js') }}" &gt;&lt;/script&gt;
   &lt;/head&gt;
   
   &lt;body&gt;
      &lt;input type = "button" onclick = "sayHello()" value = "Say Hello" /&gt;
   &lt;/body&gt;
   
&lt;/html&gt;
</pre>
<p><b>hello.js</b> contains <b>sayHello()</b> function.</p>
<pre class="prettyprint notranslate">
function sayHello() {
   alert("Hello World")
}
</pre>
<h1>Flask – Request Object</h1>
<p>The data from a client’s web page is sent to the server as a global request object. In order to process the request data, it should be imported from the Flask module.</p>
<p>Important attributes of request object are listed below &minus;</p>
<ul class="list">
<li><p><b>Form</b> &minus; It is a dictionary object containing key and value pairs of form parameters and their values.</p></li>
<li><p><b>args</b> &minus; parsed contents of query string which is part of URL after question mark (?).</p></li>
<li><p><b>Cookies</b> &minus; dictionary object holding Cookie names and values.</p></li>
<li><p><b>files</b> &minus; data pertaining to uploaded file.</p></li>
<li><p><b>method</b> &minus; current request method.</p></li>
</ul>
<h1>Flask – Sending Form Data to Template</h1>
<p>We have already seen that the http method can be specified in URL rule. The <b>Form</b> data received by the triggered function can collect it in the form of a dictionary object and forward it to a template to render it on a corresponding web page.</p>
<p>In the following example, <b>‘/’</b> URL renders a web page (student.html) which has a form. The data filled in it is posted to the <b>‘/result’</b> URL which triggers the <b>result()</b> function.</p>
<p>The <b>results()</b> function collects form data present in <b>request.form</b> in a dictionary object and sends it for rendering to <b>result.html</b>.</p>
<p>The template dynamically renders an HTML table of <b>form</b> data.</p>
<p>Given below is the Python code of application &minus;</p>
<pre class="prettyprint notranslate">
from flask import Flask, render_template, request
app = Flask(__name__)

@app.route('/')
def student():
   return render_template('student.html')

@app.route('/result',methods = ['POST', 'GET'])
def result():
   if request.method == 'POST':
      result = request.form
      return render_template("result.html",result = result)

if __name__ == '__main__':
   app.run(debug = True)
</pre>
<p>Given below is the HTML script of <b>student.html</b>.</p>
<pre class="prettyprint notranslate">
&lt;html&gt;
   &lt;body&gt;
   
      &lt;form action = "http://localhost:5000/result" method = "POST"&gt;
         &lt;p&gt;Name &lt;input type = "text" name = "Name" /&gt;&lt;/p&gt;
         &lt;p&gt;Physics &lt;input type = "text" name = "Physics" /&gt;&lt;/p&gt;
         &lt;p&gt;Chemistry &lt;input type = "text" name = "chemistry" /&gt;&lt;/p&gt;
         &lt;p&gt;Maths &lt;input type ="text" name = "Mathematics" /&gt;&lt;/p&gt;
         &lt;p&gt;&lt;input type = "submit" value = "submit" /&gt;&lt;/p&gt;
      &lt;/form&gt;
      
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Code of template <b>(result.html)</b> is given below &minus;</p>
<pre class="prettyprint notranslate">
&lt;!doctype html&gt;
&lt;html&gt;
   &lt;body&gt;
   
      &lt;table border = 1&gt;
         {% for key, value in result.iteritems() %}
         
            &lt;tr&gt;
               &lt;th&gt; {{ key }} &lt;/th&gt;
               &lt;td&gt; {{ value }} &lt;/td&gt;
            &lt;/tr&gt;
            
         {% endfor %}
      &lt;/table&gt;
      
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Run the Python script and enter the URL <b>http://localhost:5000/</b> in the browser.</p>
<img src="images/submit_marks.jpg" alt="Submit Marks" />
<p>When the <b>Submit</b> button is clicked, form data is rendered on <b>result.html</b> in the form of HTML table.</p>
<img src="images/marks_table.jpg" alt="Marks Table" />
<h1>Flask – Cookies</h1>
<p>A cookie is stored on a client’s computer in the form of a text file. Its purpose is to remember and track data pertaining to a client’s usage for better visitor experience and site statistics.</p>
<p>A <b>Request object</b> contains a cookie’s attribute. It is a dictionary object of all the cookie variables and their corresponding values, a client has transmitted. In addition to it, a cookie also stores its expiry time, path and domain name of the site.</p>
<p>In Flask, cookies are set on response object. Use <b>make_response()</b> function to get response object from return value of a view function. After that, use the <b>set_cookie()</b> function of response object to store a cookie.</p>
<p>Reading back a cookie is easy. The <b>get()</b> method of <b>request.cookies</b> attribute is used to read a cookie.</p>
<p>In the following Flask application, a simple form opens up as you visit <b>‘/’</b> URL.</p>
<pre class="prettyprint notranslate">
@app.route('/')
def index():
   return render_template('index.html')
</pre>
<p>This HTML page contains one text input.</p>
<pre class="prettyprint notranslate">
&lt;html&gt;
   &lt;body&gt;
   
      &lt;form action = "/setcookie" method = "POST"&gt;
         &lt;p&gt;&lt;h3&gt;Enter userID&lt;/h3&gt;&lt;/p&gt;
         &lt;p&gt;&lt;input type = 'text' name = 'nm'/&gt;&lt;/p&gt;
         &lt;p&gt;&lt;input type = 'submit' value = 'Login'/&gt;&lt;/p&gt;
      &lt;/form&gt;
      
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>The Form is posted to <b>‘/setcookie’</b> URL. The associated view function sets a Cookie name <b>userID</b> and renders another page.</p>
<pre class="prettyprint notranslate">
@app.route('/setcookie', methods = ['POST', 'GET'])
def setcookie():
   if request.method == 'POST':
   user = request.form['nm']
   
   resp = make_response(render_template('readcookie.html'))
   resp.set_cookie('userID', user)
   
   return resp
</pre>
<p><b>‘readcookie.html’</b> contains a hyperlink to another view function <b>getcookie()</b>, which reads back and displays the cookie value in browser.</p>
<pre class="prettyprint notranslate">
@app.route('/getcookie')
def getcookie():
   name = request.cookies.get('userID')
   return '&lt;h1&gt;welcome '&plus;name&plus;'&lt;/h1&gt;'
</pre>
<p>Run the application and visit <b>http://localhost:5000/</b></p>
<img src="images/readcookie_html.jpg" alt="ReadCookie HTML" />
<p>The result of setting a cookie is displayed like this &minus;</p>
<img src="images/result_of_setting_cookie.jpg" alt="Result of Setting Cookie" />
<p>The output of read back cookie is shown below.</p>
<img src="images/reading_cookie_back.jpg" alt="Reading Cookie Back" />
<h1>Flask – Sessions</h1>
<p>Unlike a Cookie, <b>Session</b> data is stored on server. Session is the time interval when a client logs into a server and logs out of it. The data, which is needed to be held across this session, is stored in a temporary directory on the server.</p>
<p>A session with each client is assigned a <b>Session ID</b>. The Session data is stored on top of cookies and the server signs them cryptographically. For this encryption, a Flask application needs a defined <b>SECRET_KEY</b>.</p>
<p>Session object is also a dictionary object containing key-value pairs of session variables and associated values.</p>
<p>For example, to set a <b>‘username’</b> session variable use the statement &minus;</p>
<pre class="result notranslate">
Session[‘username’] = ’admin’
</pre>
<p>To release a session variable use <b>pop()</b> method.</p>
<pre class="result notranslate">
session.pop('username', None)
</pre>
<p>The following code is a simple demonstration of session works in Flask. URL <b>‘/’</b> simply prompts user to log in, as session variable <b>‘username’</b> is not set.</p>
<pre class="prettyprint notranslate">
@app.route('/')
def index():
   if 'username' in session:
      username = session['username']
         return 'Logged in as ' &plus; username &plus; '&lt;br&gt;' &plus; \
         "&lt;b&gt;&lt;a href = '/logout'&gt;click here to log out&lt;/a&gt;&lt;/b&gt;"
   return "You are not logged in &lt;br&gt;&lt;a href = '/login'&gt;&lt;/b&gt;" &plus; \
      "click here to log in&lt;/b&gt;&lt;/a&gt;"
</pre>
<p>As user browses to ‘/login’ the login() view function, because it is called through GET method, opens up a login form.</p>
<p>A Form is posted back to <b>‘/login’</b> and now session variable is set. Application is redirected to <b>‘/’</b>. This time session variable <b>‘username’</b> is found.</p>
<pre class="prettyprint notranslate">
@app.route('/login', methods = ['GET', 'POST'])
def login():
   if request.method == 'POST':
      session['username'] = request.form['username']
      return redirect(url_for('index'))
   return '''
	
   &lt;form action = "" method = "post"&gt;
      &lt;p&gt;&lt;input type = text name = username/&gt;&lt;/p&gt;
      &lt;p&lt;&lt;input type = submit value = Login/&gt;&lt;/p&gt;
   &lt;/form&gt;
	
   '''
</pre>
<p>The application also contains a <b>logout()</b> view function, which pops out <b>‘username’</b> session variable. Hence, <b>‘/’</b> URL again shows the opening page.</p>
<pre class="prettyprint notranslate">
@app.route('/logout')
def logout():
   # remove the username from the session if it is there
   session.pop('username', None)
   return redirect(url_for('index'))
</pre>
<p>Run the application and visit the homepage. (Ensure to set <b>secret_key</b> of the application)</p>
<pre class="prettyprint notranslate">
from flask import Flask, session, redirect, url_for, escape, request
app = Flask(__name__)
app.secret_key = 'any random string’
</pre>
<p>The output will be displayed as shown below. Click the link <b>“click here to log in”</b>.</p>
<img src="images/login_page_using_session.jpg" alt="Login Page Using Session" />
<p>The link will be directed to another screen. Type ‘admin’.</p>
<img src="images/another_login_screen.jpg" alt="Another Login Screen" />
<p>The screen will show you the message, <b>‘Logged in as admin’</b>.</p>
<img src="images/logged_in_as_admin.jpg" alt="Logged in as admin" />
<h1>Flask – Redirect &amp; Errors</h1>
<p>Flask class has a <b>redirect()</b> function. When called, it returns a response object and redirects the user to another target location with specified status code.</p>
<p>Prototype of <b>redirect()</b> function is as below &minus;</p>
<pre class="result notranslate">
Flask.redirect(location, statuscode, response)
</pre>
<p>In the above function &minus;</p>
<ul class="list">
<li><p><b>location</b> parameter is the URL where response should be redirected.</p></li>
<li><p><b>statuscode</b> sent to browser’s header, defaults to 302.</p></li>
<li><p><b>response</b> parameter is used to instantiate response.</p></li>
</ul>
<p>The following status codes are standardized &minus;</p>
<ul class="list">
<li>HTTP_300_MULTIPLE_CHOICES</li>
<li>HTTP_301_MOVED_PERMANENTLY</li>
<li>HTTP_302_FOUND</li>
<li>HTTP_303_SEE_OTHER</li>
<li>HTTP_304_NOT_MODIFIED</li>
<li>HTTP_305_USE_PROXY</li>
<li>HTTP_306_RESERVED</li>
<li>HTTP_307_TEMPORARY_REDIRECT</li>
</ul>
<p>The <b>default status</b> code is <b>302</b>, which is for <b>‘found’</b>.</p>
<p>In the following example, the <b>redirect()</b> function is used to display the login page again when a login attempt fails.</p>
<pre class="prettyprint notranslate">
from flask import Flask, redirect, url_for, render_template, request
# Initialize the Flask application
app = Flask(__name__)

@app.route('/')
def index():
   return render_template('log_in.html')

@app.route('/login',methods = ['POST', 'GET'])
def login():
   if request.method == 'POST' and
   request.form['username'] == 'admin' :
   return redirect(url_for('success'))
   return redirect(url_for('index'))

@app.route('/success')
def success():
   return 'logged in successfully'
	
if __name__ == '__main__':
   app.run(debug = True)
</pre>
<p>Flask class has <b>abort()</b> function with an error code.</p>
<pre class="result notranslate">
Flask.abort(code)
</pre>
<p>The <b>Code</b> parameter takes one of following values &minus;</p>
<ul class="list">
<li><p><b>400</b> &minus; for Bad Request</p></li>
<li><p><b>401</b> &minus; for Unauthenticated</p></li>
<li><p><b>403</b> &minus; for Forbidden</p></li>
<li><p><b>404</b> &minus; for Not Found</p></li>
<li><p><b>406</b> &minus; for Not Acceptable</p></li>
<li><p><b>415</b> &minus; for Unsupported Media Type</p></li>
<li><p><b>429</b> &minus; Too Many Requests</p></li>
</ul>
<p>Let us make a slight change in the <b>login()</b> function in the above code. Instead of re-displaying the login page, if <b>‘Unauthourized’</b> page is to be displayed, replace it with call to <b>abort(401)</b>.</p>
<pre class="prettyprint notranslate">
from flask import Flask, redirect, url_for, render_template, request, abort
app = Flask(__name__)

@app.route('/')
def index():
   return render_template('log_in.html')

@app.route('/login',methods = ['POST', 'GET'])
def login():
   if request.method == 'POST':
      if request.form['username'] == 'admin' :
         return redirect(url_for('success'))
      else:
         abort(401)
   else:
      return redirect(url_for('index'))

@app.route('/success')
def success():
   return 'logged in successfully'

if __name__ == '__main__':
   app.run(debug = True)
</pre>
<h1>Flask – Message Flashing</h1>
<p>A good GUI based application provides feedback to a user about the interaction. For example, the desktop applications use dialog or message box and JavaScript uses alerts for similar purpose.</p>
<p>Generating such informative messages is easy in Flask web application. Flashing system of Flask framework makes it possible to create a message in one view and render it in a view function called <b>next</b>.</p>
<p>A Flask module contains <b>flash()</b> method. It passes a message to the next request, which generally is a template.</p>
<pre class="result notranslate">
flash(message, category)
</pre>
<p>Here,</p>
<ul class="list">
<li><p><b>message</b> parameter is the actual message to be flashed.</p></li>
<li><p><b>category</b> parameter is optional. It can be either ‘error’, ‘info’ or ‘warning’.</p></li>
</ul>
<p>In order to remove message from session, template calls <b>get_flashed_messages()</b>.</p>
<pre class="result notranslate">
get_flashed_messages(with_categories, category_filter)
</pre>
<p>Both parameters are optional. The first parameter is a tuple if received messages are having category. The second parameter is useful to display only specific messages.</p>
<p>The following flashes received messages in a template.</p>
<pre class="prettyprint notranslate">
{% with messages = get_flashed_messages() %}
   {% if messages %}
      {% for message in messages %}
         {{ message }}
      {% endfor %}
   {% endif %}
{% endwith %}
</pre>
<p>Let us now see a simple example, demonstrating the flashing mechanism in Flask. In the following code, a <b>‘/’</b> URL displays link to the login page, with no message to flash.</p>
<pre class="prettyprint notranslate">
@app.route('/')
def index():
   return render_template('index.html')
</pre>
<p>The link leads a user to <b>‘/login’</b> URL which displays a login form. When submitted, the <b>login()</b> view function verifies a username and password and accordingly flashes a <b>‘success’</b> message or creates <b>‘error’</b> variable.</p>
<pre class="prettyprint notranslate">
@app.route('/login', methods = ['GET', 'POST'])
def login():
   error = None
   
   if request.method == 'POST':
      if request.form['username'] != 'admin' or \
         request.form['password'] != 'admin':
         error = 'Invalid username or password. Please try again!'
      else:
         flash('You were successfully logged in')
         return redirect(url_for('index'))
   return render_template('login.html', error = error)
</pre>
<p>In case of <b>error</b>, the login template is redisplayed with error message.</p>
<h2>Login.html</h2>
<pre class="prettyprint notranslate">
&lt;!doctype html&gt;
&lt;html&gt;
   &lt;body&gt;
   
      &lt;h1&gt;Login&lt;/h1&gt;
      
      {% if error %}
      &lt;p&gt;&lt;strong&gt;Error:&lt;/strong&gt; {{ error }}
      {% endif %}
      
      &lt;form action = "" method = post&gt;
         &lt;dl&gt;
            &lt;dt&gt;Username:&lt;/dt&gt;
            
            &lt;dd&gt;
               &lt;input type = text name = username 
                  value = "{{request.form.username }}"&gt;
            &lt;/dd&gt;
            
            &lt;dt&gt;Password:&lt;/dt&gt;
            &lt;dd&gt;&lt;input type = password name = password&gt;&lt;/dd&gt;
         &lt;/dl&gt;
         &lt;p&gt;&lt;input type = submit value = Login&gt;&lt;/p&gt;
      &lt;/form&gt;
      
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>On the other hand, if <b>login</b> is successful, a success message is flashed on the index template.</p>
<h2>Index.html</h2>
<pre class="prettyprint notranslate">
&lt;!doctype html&gt;
&lt;html&gt;
   
   &lt;head&gt;
      &lt;title&gt;Flask Message flashing&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
   
      {% with messages = get_flashed_messages() %}
         {% if messages %}
            &lt;ul&gt;
               {% for message in messages %}
               &lt;li&lt;{{ message }}&lt;/li&gt;
               {% endfor %}
            &lt;/ul&gt;
         {% endif %}
      {% endwith %}
		
      &lt;h1&gt;Flask Message Flashing Example&lt;/h1&gt;
      &lt;p&gt;Do you want to &lt;a href = "{{ url_for('login') }}"&gt;
         &lt;b&gt;log in?&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;
      
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>A complete code for Flask message flashing example is given below &minus;</p>
<h2>Flash.py</h2>
<pre class="prettyprint notranslate">
from flask import Flask, flash, redirect, render_template, request, url_for
app = Flask(__name__)
app.secret_key = 'random string'

@app.route('/')
def index():
   return render_template('index.html')

@app.route('/login', methods = ['GET', 'POST'])
def login():
   error = None
   
   if request.method == 'POST':
      if request.form['username'] != 'admin' or \
         request.form['password'] != 'admin':
         error = 'Invalid username or password. Please try again!'
      else:
         flash('You were successfully logged in')
         return redirect(url_for('index'))
			
   return render_template('login.html', error = error)

if __name__ == "__main__":
   app.run(debug = True)
</pre>
<p>After executing the above codes, you will see the screen as shown below.</p>
<img src="images/flask_message_flashing_example.jpg" alt="Flask Message Flashing Example" />
<p>When you click on the link, you will be directed to the Login page.</p>
<p>Enter the Username and password.</p>
<img src="images/login_page.jpg" alt="Login Page" />
<p>Click <b>Login</b>. A message will be displayed “You were successfully logged in” .</p>
<img src="images/successfully_logged_in_page.jpg" alt="Successfully Logged in Page" />
<h1>Flask – File Uploading</h1>
<p>Handling file upload in Flask is very easy. It needs an HTML form with its enctype attribute set to ‘multipart/form-data’, posting the file to a URL. The URL handler fetches file from <b>request.files[]</b> object and saves it to the desired location.</p>
<p>Each uploaded file is first saved in a temporary location on the server, before it is actually saved to its ultimate location. Name of destination file can be hard-coded or can be obtained from filename property of <b>request.files[file]</b> object. However, it is recommended to obtain a secure version of it using the <b>secure_filename()</b> function.</p>
<p>It is possible to define the path of default upload folder and maximum size of uploaded file in configuration settings of Flask object.</p>
<table class="table table-bordered">
<tr>
<td>app.config[‘UPLOAD_FOLDER’]</td>
<td>Defines path for upload folder</td>
</tr>
<tr>
<td>app.config[‘MAX_CONTENT_PATH’]</td>
<td>Specifies maximum size of file yo be uploaded – in bytes</td>
</tr>
</table>
<p>The following code has <b>‘/upload’</b> URL rule that displays <b>‘upload.html’</b> from the templates folder, and <b>‘/upload-file’</b> URL rule that calls <b>uploader()</b> function handling upload process.</p>
<p><b>‘upload.html’</b> has a file chooser button and a submit button.</p>
<pre class="prettyprint notranslate">
&lt;html&gt;
   &lt;body&gt;
   
      &lt;form action = "http://localhost:5000/uploader" method = "POST" 
         enctype = "multipart/form-data"&gt;
         &lt;input type = "file" name = "file" /&gt;
         &lt;input type = "submit"/&gt;
      &lt;/form&gt;
      
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>You will see the screen as shown below.</p>
<img src="images/flask_file_uploading.jpg" alt="Flask File Uploading" />
<p>Click <b>Submit</b> after choosing file. Form’s post method invokes <b>‘/upload_file’</b> URL. The underlying function <b>uploader()</b> does the save operation.</p>
<p>Following is the Python code of Flask application.</p>
<pre class="prettyprint notranslate">
from flask import Flask, render_template, request
from werkzeug import secure_filename
app = Flask(__name__)

@app.route('/upload')
def upload_file():
   return render_template('upload.html')
	
@app.route('/uploader', methods = ['GET', 'POST'])
def upload_file():
   if request.method == 'POST':
      f = request.files['file']
      f.save(secure_filename(f.filename))
      return 'file uploaded successfully'
		
if __name__ == '__main__':
   app.run(debug = True)
</pre>
<h1>Flask – Extensions</h1>
<p>Flask is often referred to as a micro framework, because a core functionality includes WSGI and routing based on <b>Werkzeug</b> and template engine based on <b>Jinja2</b>. In addition, Flask framework has support for cookie and sessions as well as web helpers like <b>JSON</b>, static files etc. Obviously, this is not enough for the development of a full-fledged web application. This is where the Flask extensions come in picture. Flask extensions give extensibility to Flask framework.</p>
<p>There are a large number of Flask extensions available. A Flask extension is a Python module, which adds specific type of support to the Flask application. Flask Extension Registry is a directory of extensions available. The required extension can be downloaded by <b>pip</b> utility.</p>
<p>In this tutorial, we will discuss the following important Flask extensions &minus;</p>
<ul class="list">
<li><p><b>Flask Mail</b> &minus; provides SMTP interface to Flask application</p></li>
<li><p><b>Flask WTF</b> &minus; adds rendering and validation of WTForms</p></li>
<li><p><b>Flask SQLAlchemy</b> &minus; adds SQLAlchemy support to Flask application</p></li>
<li><p><b>Flask Sijax</b> &minus; Interface for Sijax - Python/jQuery library that makes AJAX easy to use in web applications</p></li>
</ul>
<p>Each type of extension usually provides extensive documentation about its usage. Since an extension is a Python module, it needs to be imported for it to be used. Flask extensions are generally named as flask-foo. To import,</p>
<pre class="result notranslate">
from flask_foo import [class, function]
</pre>
<p>For versions of Flask later than 0.7, you can also use the syntax &minus;</p>
<pre class="result notranslate">
from flask.ext import foo
</pre>
<p>For this usage, a compatibility module needs to be activated. It can be installed by running flaskext_compat.py</p>
<pre class="prettyprint notranslate">
import flaskext_compat
flaskext_compat.activate()
from flask.ext import foo
</pre>
<h1>Flask – Mail</h1>
<p>A web based application is often required to have a feature of sending mail to the users/clients. <b>Flask-Mail</b> extension makes it very easy to set up a simple interface with any email server.</p>
<p>At first, Flask-Mail extension should be installed with the help of pip utility.</p>
<pre class="result notranslate">
pip install Flask-Mail
</pre>
<p>Then Flask-Mail needs to be configured by setting values of the following application parameters.</p>
<table class="table table-bordered">
<tr>
<th width="10%">Sr.No</th>
<th>Parameters &amp; Description</th>
</tr>
<tr>
<td>1</td>
<td>
<p><b>MAIL_SERVER</b></p>
<p>Name/IP address of email server</p>
</td>
</tr>
<tr>
<td>2</td>
<td>
<p><b>MAIL_PORT</b></p>
<p>Port number of server used</p>
</td>
</tr>
<tr>
<td>3</td>
<td>
<p><b>MAIL_USE_TLS</b></p>
<p>Enable/disable Transport Security Layer encryption</p>
</td>
</tr>
<tr>
<td>4</td>
<td>
<p><b>MAIL_USE_SSL</b></p>
<p>Enable/disable Secure Sockets Layer encryption</p>
</td>
</tr>
<tr>
<td>5</td>
<td>
<p><b>MAIL_DEBUG</b></p>
<p>Debug support. Default is Flask application’s debug status</p>
</td>
</tr>
<tr>
<td>6</td>
<td>
<p><b>MAIL_USERNAME</b></p>
<p>User name of sender</p>
</td>
</tr>
<tr>
<td>7</td>
<td>
<p><b>MAIL_PASSWORD</b></p>
<p>password of sender</p>
</td>
</tr>
<tr>
<td>8</td>
<td>
<p><b>MAIL_DEFAULT_SENDER</b></p>
<p>sets default sender</p>
</td>
</tr>
<tr>
<td>9</td>
<td>
<p><b>MAIL_MAX_EMAILS</b></p>
<p>Sets maximum mails to be sent</p>
</td>
</tr>
<tr>
<td>10</td>
<td>
<p><b>MAIL_SUPPRESS_SEND</b></p>
<p>Sending suppressed if app.testing set to true</p>
</td>
</tr>
<tr>
<td>11</td>
<td>
<p><b>MAIL_ASCII_ATTACHMENTS</b></p>
<p>If set to true, attached filenames converted to ASCII</p>
</td>
</tr>
</table>
<p>The flask-mail module contains definitions of the following important classes.</p>
<h2>Mail class</h2>
<p>It manages email-messaging requirements. The class constructor takes the following form &minus;</p>
<pre class="result notranslate">
flask-mail.Mail(app = None)
</pre>
<p>The Constructor takes the Flask application object as a parameter.</p>
<h2>Methods of Mail class</h2>
<table class="table table-bordered">
<tr>
<th width="10%">Sr.No</th>
<th>Methods &amp; Description</th>
</tr>
<tr>
<td>1</td>
<td>
<p><b>send()</b></p>
<p>Sends contents of Message class object</p></td>
</tr>
<tr>
<td>2</td>
<td>
<p><b>connect()</b></p>
<p>Opens connection with mail host</p></td>
</tr>
<tr>
<td>3</td>
<td>
<p><b>send_message()</b></p>
<p>Sends message object</p></td>
</tr>
</table>
<h2>Message class</h2>
<p>It encapsulates an email message. Message class constructor has several parameters &minus;</p>
<pre class="result notranslate">
flask-mail.Message(subject, recipients, body, html, sender, cc, bcc, 
   reply-to, date, charset, extra_headers, mail_options, rcpt_options)
</pre>
<h2>Message class methods</h2>
<p><b>attach()</b> &minus; adds an attachment to message. This method takes the following parameters &minus;</p>
<ul class="list">
<li><p><b>filename</b> &minus; name of file to attach</p></li>
<li><p><b>content_type</b> &minus; MIME type of file</p></li>
<li><p><b>data</b> &minus; raw file data</p></li>
<li><p><b>disposition</b> &minus; content disposition, if any.</p></li>
</ul>
<p><b>add_recipient()</b> &minus; adds another recipient to message</p>
<p>In the following example, SMTP server of Google’s gmail service is used as MAIL_SERVER for Flask-Mail configuration.</p>
<p><b>Step 1</b> &minus; Import Mail and Message class from flask-mail module in the code.</p>
<pre class="result notranslate">
from flask_mail import Mail, Message
</pre>
<p><b>Step 2</b> &minus; Then Flask-Mail is configured as per following settings.</p>
<pre class="result notranslate">
app.config['MAIL_SERVER']='smtp.gmail.com'
app.config['MAIL_PORT'] = 465
app.config['MAIL_USERNAME'] = 'yourId@gmail.com'
app.config['MAIL_PASSWORD'] = '*****'
app.config['MAIL_USE_TLS'] = False
app.config['MAIL_USE_SSL'] = True
</pre>
<p><b>Step 3</b> &minus; Create an instance of Mail class.</p>
<pre class="result notranslate">
mail = Mail(app)
</pre>
<p><b>Step 4</b> &minus; Set up a Message object in a Python function mapped by URL rule <b>(‘/’)</b>.</p>
<pre class="prettyprint notranslate">
@app.route("/")
def index():
   msg = Message('Hello', sender = 'yourId@gmail.com', recipients = ['id1@gmail.com'])
   msg.body = "This is the email body"
   mail.send(msg)
   return "Sent"
</pre>
<p><b>Step 5</b> &minus; The entire code is given below. Run the following script in Python Shell and visit <b>http://localhost:5000/.</b></p>
<pre class="prettyprint notranslate">
from flask import Flask
from flask_mail import Mail, Message

app =Flask(__name__)
mail=Mail(app)

app.config['MAIL_SERVER']='smtp.gmail.com'
app.config['MAIL_PORT'] = 465
app.config['MAIL_USERNAME'] = 'yourId@gmail.com'
app.config['MAIL_PASSWORD'] = '*****'
app.config['MAIL_USE_TLS'] = False
app.config['MAIL_USE_SSL'] = True
mail = Mail(app)

@app.route("/")
def index():
   msg = Message('Hello', sender = 'yourId@gmail.com', recipients = ['id1@gmail.com'])
   msg.body = "Hello Flask message sent from Flask-Mail"
   mail.send(msg)
   return "Sent"

if __name__ == '__main__':
   app.run(debug = True)
</pre>
<p>Note that the built-insecurity features in Gmail service may block this login attempt. You may have to decrease the security level. Please log in to your Gmail account and visit <a target="_blank" rel="nofollow" href="https://www.google.com/settings/security/lesssecureapps">this</a> link to decrease the security.</p>
<img src="images/decrease_the_security.jpg" alt="Decrease the Security" />
<h1>Flask – WTF</h1>
<p>One of the essential aspects of a web application is to present a user interface for the user. HTML provides a <b>&lt;form&gt;</b> tag, which is used to design an interface. A <b>Form’s</b> elements such as text input, radio, select etc. can be used appropriately.</p>
<p>Data entered by a user is submitted in the form of Http request message to the server side script by either GET or POST method.</p>
<ul class="list">
<li><p>The Server side script has to recreate the form elements from http request data. So in effect, form elements have to be defined twice – once in HTML and again in the server side script.</p></li>
<li><p>Another disadvantage of using HTML form is that it is difficult (if not impossible) to render the form elements dynamically. HTML itself provides no way to validate a user’s input.</p></li>
</ul>
<p>This is where <b>WTForms</b>, a flexible form, rendering and validation library comes handy. Flask-WTF extension provides a simple interface with this <b>WTForms</b> library.</p>
<p>Using <b>Flask-WTF</b>, we can define the form fields in our Python script and render them using an HTML template. It is also possible to apply validation to the <b>WTF</b> field.</p>
<p>Let us see how this dynamic generation of HTML works.</p>
<p>First, Flask-WTF extension needs to be installed.</p>
<pre class="result notranslate">
pip install flask-WTF
</pre>
<p>The installed package contains a <b>Form</b> class, which has to be used as a parent for user- defined form.</p>
<p><b>WTforms</b> package contains definitions of various form fields. Some <b>Standard form fields</b> are listed below.</p>
<table class="table table-bordered">
<tr>
<th width="10%">Sr.No</th>
<th>Standard Form Fields &amp; Description</th>
</tr>
<tr>
<td>1</td>
<td>
<p><b>TextField</b></p>
<p>Represents &lt;input type = 'text'&gt; HTML form element</p>
</td>
</tr>
<tr>
<td>2</td>
<td>
<p><b>BooleanField</b></p>
<p>Represents &lt;input type = 'checkbox'&gt; HTML form element</p></td>
</tr>
<tr>
<td>3</td>
<td>
<p><b>DecimalField</b></p>
<p>Textfield for displaying number with decimals</p>
</td>
</tr>
<tr>
<td>4</td>
<td>
<p><b>IntegerField</b></p>
<p>TextField for displaying integer</p></td>
</tr>
<tr>
<td>5</td>
<td>
<p><b>RadioField</b></p>
<p>Represents &lt;input type = 'radio'&gt; HTML form element</p></td>
</tr>
<tr>
<td>6</td>
<td>
<p><b>SelectField</b></p>
<p>Represents select form element</p>
</td>
</tr>
<tr>
<td>7</td>
<td>
<p><b>TextAreaField</b></p>
<p>Represents &lt;testarea&gt; html form element</p>
</td>
</tr>
<tr>
<td>8</td>
<td>
<p><b>PasswordField</b></p>
<p>Represents &lt;input type = 'password'&gt; HTML form element</p>
</td>
</tr>
<tr>
<td>9</td>
<td>
<p><b>SubmitField</b></p>
<p>Represents &lt;input type = 'submit'&gt; form element</p>
</td>
</tr>
</table>
<p>For example, a form containing a text field can be designed as below &minus;</p>
<pre class="prettyprint notranslate">
from flask_wtf import Form
from wtforms import TextField

class ContactForm(Form):
   name = TextField("Name Of Student")
</pre>
<p>In addition to the <b>‘name’</b> field, a hidden field for CSRF token is created automatically. This is to prevent <b>Cross Site Request Forgery</b> attack.</p>
<p>When rendered, this will result into an equivalent HTML script as shown below.</p>
<pre class="prettyprint notranslate">
&lt;input id = "csrf_token" name = "csrf_token" type = "hidden" /&gt;
&lt;label for = "name"&gt;Name Of Student&lt;/label&gt;&lt;br&gt;
&lt;input id = "name" name = "name" type = "text" value = "" /&gt;
</pre>
<p>A user-defined form class is used in a Flask application and the form is rendered using a template.</p>
<pre class="prettyprint notranslate">
from flask import Flask, render_template
from forms import ContactForm
app = Flask(__name__)
app.secret_key = 'development key'

@app.route('/contact')
def contact():
   form = ContactForm()
   return render_template('contact.html', form = form)

if __name__ == '__main__':
   app.run(debug = True)
</pre>
<p>WTForms package also contains validator class. It is useful in applying validation to form fields. Following list shows commonly used validators.</p>
<table class="table table-bordered">
<tr>
<th width="10%">Sr.No</th>
<th>Validators Class &amp; Description</th>
</tr>
<tr>
<td>1</td>
<td>
<p><b>DataRequired</b></p>
<p>Checks whether input field is empty</p>
</td>
</tr>
<tr>
<td>2</td>
<td>
<p><b>Email</b></p>
<p>Checks whether text in the field follows email ID conventions</p>
</td>
</tr>
<tr>
<td>3</td>
<td>
<p><b>IPAddress</b></p>
<p>Validates IP address in input field</p>
</td>
</tr>
<tr>
<td>4</td>
<td>
<p><b>Length</b></p>
<p>Verifies if length of string in input field is in given range</p>
</td>
</tr>
<tr>
<td>5</td>
<td>
<p><b>NumberRange</b></p>
<p>Validates a number in input field within given range</p>
</td>
</tr>
<tr>
<td>6</td>
<td>
<p><b>URL</b></p>
<p>Validates URL entered in input field</p>
</td>
</tr>
</table>
<p>We shall now apply <b>‘DataRequired’</b> validation rule for the <b>name</b> field in contact form.</p>
<pre class="result notranslate">
name = TextField("Name Of Student",[validators.Required("Please enter your name.")])
</pre>
<p>The <b>validate()</b> function of form object validates the form data and throws the validation errors if validation fails. The <b>Error</b> messages are sent to the template. In the HTML template, error messages are rendered dynamically.</p>
<pre class="result notranslate">
{% for message in form.name.errors %}
   {{ message }}
{% endfor %}
</pre>
<p>The following example demonstrates the concepts given above. The design of <b>Contact form</b> is given below <b>(forms.py)</b>.</p>
<pre class="prettyprint notranslate">
from flask_wtf import Form
from wtforms import TextField, IntegerField, TextAreaField, SubmitField, RadioField,
   SelectField

from wtforms import validators, ValidationError

class ContactForm(Form):
   name = TextField("Name Of Student",[validators.Required("Please enter 
      your name.")])
   Gender = RadioField('Gender', choices = [('M','Male'),('F','Female')])
   Address = TextAreaField("Address")
   
   email = TextField("Email",[validators.Required("Please enter your email address."),
      validators.Email("Please enter your email address.")])
   
   Age = IntegerField("age")
   language = SelectField('Languages', choices = [('cpp', 'C&plus;&plus;'), 
      ('py', 'Python')])
   submit = SubmitField("Send")
</pre>
<p>Validators are applied to the <b>Name</b> and <b>Email</b> fields.</p>
<p>Given below is the Flask application script <b>(formexample.py)</b>.</p>
<pre class="prettyprint notranslate">
from flask import Flask, render_template, request, flash
from forms import ContactForm
app = Flask(__name__)
app.secret_key = 'development key'

@app.route('/contact', methods = ['GET', 'POST'])
def contact():
   form = ContactForm()
   
   if request.method == 'POST':
      if form.validate() == False:
         flash('All fields are required.')
         return render_template('contact.html', form = form)
      else:
         return render_template('success.html')
      elif request.method == 'GET':
         return render_template('contact.html', form = form)

if __name__ == '__main__':
   app.run(debug = True)
</pre>
<p>The Script of the template <b>(contact.html)</b> is as follows &minus;</p>
<pre class="prettyprint notranslate">
&lt;!doctype html&gt;
&lt;html&gt;
   &lt;body&gt;
   
      &lt;h2 style = "text-align: center;"&gt;Contact Form&lt;/h2&gt;
		
      {% for message in form.name.errors %}
         &lt;div&gt;{{ message }}&lt;/div&gt;
      {% endfor %}
      
      {% for message in form.email.errors %}
         &lt;div&gt;{{ message }}&lt;/div&gt;
      {% endfor %}
      
      &lt;form action = "http://localhost:5000/contact" method = post&gt;
         &lt;fieldset&gt;
            &lt;legend&gt;Contact Form&lt;/legend&gt;
            {{ form.hidden_tag() }}
            
            &lt;div style = font-size:20px; font-weight:bold; margin-left:150px;&gt;
               {{ form.name.label }}&lt;br&gt;
               {{ form.name }}
               &lt;br&gt;
               
               {{ form.Gender.label }} {{ form.Gender }}
               {{ form.Address.label }}&lt;br&gt;
               {{ form.Address }}
               &lt;br&gt;
               
               {{ form.email.label }}&lt;br&gt;
               {{ form.email }}
               &lt;br&gt;
               
               {{ form.Age.label }}&lt;br&gt;
               {{ form.Age }}
               &lt;br&gt;
               
               {{ form.language.label }}&lt;br&gt;
               {{ form.language }}
               &lt;br&gt;
               {{ form.submit }}
            &lt;/div&gt;
            
         &lt;/fieldset&gt;
      &lt;/form&gt;
      
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Run <b>formexample.py</b> in Python shell and visit URL <b>http://localhost:5000/contact</b>. The <b>Contact</b> form will be displayed as shown below.</p>
<img src="images/form_example.jpg" alt="Form Example" />
<p>If there are any errors, the page will look like this &minus;</p>
<img src="images/form_error_page.jpg" alt="Form Error Page" />
<p>If there are no errors, <b>‘success.html’</b> will be rendered.</p>
<img src="images/form_success_page.jpg" alt="Form Success Page" />
<h1>Flask – SQLite</h1>
<p>Python has an in-built support for <b>SQlite</b>. SQlite3 module is shipped with Python distribution. For a detailed tutorial on using SQLite database in Python, please refer to <a target="_blank" href="../sqlite/sqlite_python.html">this link</a>. In this section we shall see how a Flask application interacts with SQLite.</p>
<p>Create an SQLite database <b>‘database.db’</b> and create a students’ table in it.</p>
<pre class="prettyprint notranslate">
import sqlite3

conn = sqlite3.connect('database.db')
print "Opened database successfully";

conn.execute('CREATE TABLE students (name TEXT, addr TEXT, city TEXT, pin TEXT)')
print "Table created successfully";
conn.close()
</pre>
<p>Our Flask application has three <b>View</b> functions.</p>
<p>First <b>new_student()</b> function is bound to the URL rule <b>(‘/addnew’)</b>. It renders an HTML file containing student information form.</p>
<pre class="prettyprint notranslate">
@app.route('/enternew')
def new_student():
   return render_template('student.html')
</pre>
<p>The HTML script for <b>‘student.html’</b> is as follows &minus;</p>
<pre class="prettyprint notranslate">
&lt;html&gt;
   &lt;body&gt;
      
      &lt;form action = "{{ url_for('addrec') }}" method = "POST"&gt;
         &lt;h3&gt;Student Information&lt;/h3&gt;
         Name&lt;br&gt;
         &lt;input type = "text" name = "nm" /&gt;&lt;/br&gt;
         
         Address&lt;br&gt;
         &lt;textarea name = "add" &gt;&lt;/textarea&gt;&lt;br&gt;
         
         City&lt;br&gt;
         &lt;input type = "text" name = "city" /&gt;&lt;br&gt;
         
         PINCODE&lt;br&gt;
         &lt;input type = "text" name = "pin" /&gt;&lt;br&gt;
         &lt;input type = "submit" value = "submit" /&gt;&lt;br&gt;
      &lt;/form&gt;
      
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>As it can be seen, form data is posted to the <b>‘/addrec’</b> URL which binds the <b>addrec()</b> function.</p>
<p>This <b>addrec()</b> function retrieves the form’s data by <b>POST</b> method and inserts in students table. Message corresponding to success or error in insert operation is rendered to <b>‘result.html’</b>.</p>
<pre class="prettyprint notranslate">
@app.route('/addrec',methods = ['POST', 'GET'])
def addrec():
   if request.method == 'POST':
      try:
         nm = request.form['nm']
         addr = request.form['add']
         city = request.form['city']
         pin = request.form['pin']
         
         with sql.connect("database.db") as con:
            cur = con.cursor()
            cur.execute("INSERT INTO students (name,addr,city,pin) 
               VALUES (?,?,?,?)",(nm,addr,city,pin) )
            
            con.commit()
            msg = "Record successfully added"
      except:
         con.rollback()
         msg = "error in insert operation"
      
      finally:
         return render_template("result.html",msg = msg)
         con.close()
</pre>
<p>The HTML script of <b>result.html</b> contains an escaping statement <b>{{msg}}</b> that displays the result of <b>Insert</b> operation.</p>
<pre class="prettyprint notranslate">
&lt;!doctype html&gt;
&lt;html&gt;
   &lt;body&gt;
   
      result of addition : {{ msg }}
      &lt;h2&gt;&lt;a href = "\"&gt;go back to home page&lt;/a&gt;&lt;/h2&gt;
      
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>The application contains another <b>list()</b> function represented by <b>‘/list’</b> URL. It populates <b>‘rows’</b> as a <b>MultiDict</b> object containing all records in the students table. This object is passed to the <b>list.html</b> template.</p>
<pre class="prettyprint notranslate">
@app.route('/list')
def list():
   con = sql.connect("database.db")
   con.row_factory = sql.Row
   
   cur = con.cursor()
   cur.execute("select * from students")
   
   rows = cur.fetchall(); 
   return render_template("list.html",rows = rows)
</pre>
<p>This <b>list.html</b> is a template, which iterates over the row set and renders the data in an HTML table.</p>
<pre class="prettyprint notranslate">
&lt;!doctype html&gt;
&lt;html&gt;
   &lt;body&gt;
   
      &lt;table border = 1&gt;
         &lt;thead&gt;
            &lt;td&gt;Name&lt;/td&gt;
            &lt;td&gt;Address&gt;/td&lt;
            &lt;td&gt;city&lt;/td&gt;
            &lt;td&gt;Pincode&lt;/td&gt;
         &lt;/thead&gt;
         
         {% for row in rows %}
            &lt;tr&gt;
               &lt;td&gt;{{row["name"]}}&lt;/td&gt;
               &lt;td&gt;{{row["addr"]}}&lt;/td&gt;
               &lt;td&gt; {{ row["city"]}}&lt;/td&gt;
               &lt;td&gt;{{row['pin']}}&lt;/td&gt;	
            &lt;/tr&gt;
         {% endfor %}
      &lt;/table&gt;
      
      &lt;a href = "/"&gt;Go back to home page&lt;/a&gt;
      
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Finally, the <b>‘/’</b> URL rule renders a <b>‘home.html’</b> which acts as the entry point of the application.</p>
<pre class="prettyprint notranslate">
@app.route('/')
def home():
   return render_template('home.html')
</pre>
<p>Here is the complete code of <b>Flask-SQLite</b> application.</p>
<pre class="prettyprint notranslate">
from flask import Flask, render_template, request
import sqlite3 as sql
app = Flask(__name__)

@app.route('/')
def home():
   return render_template('home.html')

@app.route('/enternew')
def new_student():
   return render_template('student.html')

@app.route('/addrec',methods = ['POST', 'GET'])
def addrec():
   if request.method == 'POST':
      try:
         nm = request.form['nm']
         addr = request.form['add']
         city = request.form['city']
         pin = request.form['pin']
         
         with sql.connect("database.db") as con:
            cur = con.cursor()
            
            cur.execute("INSERT INTO students (name,addr,city,pin) 
               VALUES (?,?,?,?)",(nm,addr,city,pin) )
            
            con.commit()
            msg = "Record successfully added"
      except:
         con.rollback()
         msg = "error in insert operation"
      
      finally:
         return render_template("result.html",msg = msg)
         con.close()

@app.route('/list')
def list():
   con = sql.connect("database.db")
   con.row_factory = sql.Row
   
   cur = con.cursor()
   cur.execute("select * from students")
   
   rows = cur.fetchall();
   return render_template("list.html",rows = rows)

if __name__ == '__main__':
   app.run(debug = True)
</pre>
<p>Run this script from Python shell and as the development server starts running. Visit <b>http://localhost:5000/</b> in browser which displays a simple menu like this &minus;</p>
<img src="images/simple_menu.jpg" alt="Simple Menu" />
<p>Click <b>‘Add New Record’</b> link to open the <b>Student Information</b> Form.</p>
<img src="images/adding_new_record.jpg" alt="Adding New Record" />
<p>Fill the form fields and submit it. The underlying function inserts the record in the students table.</p>
<img src="images/record_successfully_added.jpg" alt="Record Successfully Added" />
<p>Go back to the home page and click <b>‘Show List’</b> link. The table showing the sample data will be displayed.</p>
<img src="images/table_showing_sample_data.jpg" alt="Table Showing Sample Data" />
<h1>Flask – SQLAlchemy</h1>
<p>Using raw SQL in Flask web applications to perform CRUD operations on database can be tedious. Instead, <b>SQLAlchemy</b>, a Python toolkit is a powerful <b>OR Mapper</b> that gives application developers the full power and flexibility of SQL. Flask-SQLAlchemy is the Flask extension that adds support for SQLAlchemy to your Flask application.</p>
<p><b>What is ORM (Object Relation Mapping)?</b></p>
<p>Most programming language platforms are object oriented. Data in RDBMS servers on the other hand is stored as tables. Object relation mapping is a technique of mapping object parameters to the underlying RDBMS table structure. An ORM API provides methods to perform CRUD operations without having to write raw SQL statements.</p>
<p>In this section, we are going to study the ORM techniques of Flask-SQLAlchemy and build a small web application.</p>
<p><b>Step 1</b> &minus; Install Flask-SQLAlchemy extension.</p>
<pre class="result notranslate">
pip install flask-sqlalchemy
</pre>
<p><b>Step 2</b> &minus; You need to import SQLAlchemy class from this module.</p>
<pre class="result notranslate">
from flask_sqlalchemy import SQLAlchemy
</pre>
<p><b>Step 3</b> &minus; Now create a Flask application object and set URI for the database to be used.</p>
<pre class="prettyprint notranslate">
app = Flask(__name__)
app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///students.sqlite3'
</pre>
<p><b>Step 4</b> &minus; Then create an object of SQLAlchemy class with application object as the parameter. This object contains helper functions for ORM operations. It also provides a parent Model class using which user defined models are declared. In the snippet below, a <b>students</b> model is created.</p>
<pre class="prettyprint notranslate">
db = SQLAlchemy(app)
class students(db.Model):
   id = db.Column('student_id', db.Integer, primary_key = True)
   name = db.Column(db.String(100))
   city = db.Column(db.String(50))  
   addr = db.Column(db.String(200))
   pin = db.Column(db.String(10))

def __init__(self, name, city, addr,pin):
   self.name = name
   self.city = city
   self.addr = addr
   self.pin = pin
</pre>
<p><b>Step 5</b> &minus; To create / use database mentioned in URI, run the <b>create_all()</b> method.</p>
<pre class="result notranslate">
db.create_all()
</pre>
<p>The <b>Session</b> object of <b>SQLAlchemy</b> manages all persistence operations of <b>ORM</b> object.</p>
<p>The following session methods perform CRUD operations &minus;</p>
<ul class="list">
<li><p><b>db.session.add</b>(model object) &minus; inserts a record into mapped table</p></li>
<li><p><b>db.session.delete</b>(model object) &minus; deletes record from table</p></li>
<li><p><b>model.query.all()</b> &minus; retrieves all records from table (corresponding to SELECT query).</p></li>
</ul>
<p>You can apply a filter to the retrieved record set by using the filter attribute. For instance, in order to retrieve records with <b>city = ’Hyderabad’</b> in students table, use following statement &minus;</p>
<pre class="result notranslate">
Students.query.filter_by(city = ’Hyderabad’).all()
</pre>
<p>With this much of background, now we shall provide view functions for our application to add a student data.</p>
<p>The entry point of the application is <b>show_all()</b> function bound to <b>‘/’</b> URL. The Record set of students table is sent as parameter to the HTML template. The Server side code in the template renders the records in HTML table form.</p>
<pre class="prettyprint notranslate">
@app.route('/')
def show_all():
   return render_template('show_all.html', students = students.query.all() )
</pre>
<p>The HTML script of the template <b>(‘show_all.html’)</b> is like this &minus;</p>
<pre class="prettyprint notranslate">
&lt;!DOCTYPE html&gt;
&lt;html lang = "en"&gt;
   &lt;head&gt;&lt;/head&gt;
   &lt;body&gt;
      
      &lt;h3&gt;
         &lt;a href = "{{ url_for('show_all') }}"&gt;Comments - Flask 
            SQLAlchemy example&lt;/a&gt;
      &lt;/h3&gt;
      
      &lt;hr/&gt;
      {%- for message in get_flashed_messages() %}
         {{ message }}
      {%- endfor %}
		
      &lt;h3&gt;Students (&lt;a href = "{{ url_for('new') }}"&gt;Add Student
         &lt;/a&gt;)&lt;/h3&gt;
      
      &lt;table&gt;
         &lt;thead&gt;
            &lt;tr&gt;
               &lt;th&gt;Name&lt;/th&gt;
               &lt;th&gt;City&lt;/th&gt;
               &lt;th&gt;Address&lt;/th&gt;
               &lt;th&gt;Pin&lt;/th&gt;
            &lt;/tr&gt;
         &lt;/thead&gt;
         
         &lt;tbody&gt;
            {% for student in students %}
               &lt;tr&gt;
                  &lt;td&gt;{{ student.name }}&lt;/td&gt;
                  &lt;td&gt;{{ student.city }}&lt;/td&gt;
                  &lt;td&gt;{{ student.addr }}&lt;/td&gt;
                  &lt;td&gt;{{ student.pin }}&lt;/td&gt;
               &lt;/tr&gt;
            {% endfor %}
         &lt;/tbody&gt;
      &lt;/table&gt;
      
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>The above page contains a hyperlink to <b>‘/new’</b> URL mapping <b>new()</b> function. When clicked, it opens a Student Information form. The data is posted to the same URL in <b>POST</b> method.</p>
<h2>new.html</h2>
<pre class="prettyprint notranslate">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
   &lt;body&gt;
   
      &lt;h3&gt;Students - Flask SQLAlchemy example&lt;/h3&gt;
      &lt;hr/&gt;
      
      {%- for category, message in get_flashed_messages(with_categories = true) %}
         &lt;div class = "alert alert-danger"&gt;
            {{ message }}
         &lt;/div&gt;
      {%- endfor %}
      
      &lt;form action = "{{ request.path }}" method = "post"&gt;
         &lt;label for = "name"&gt;Name&lt;/label&gt;&lt;br&gt;
         &lt;input type = "text" name = "name" placeholder = "Name" /&gt;&lt;br&gt;
         &lt;label for = "email"&gt;City&lt;/label&gt;&lt;br&gt;
         &lt;input type = "text" name = "city" placeholder = "city" /&gt;&lt;br&gt;
         &lt;label for = "addr"&gt;addr&lt;/label&gt;&lt;br&gt;
         &lt;textarea name = "addr" placeholder = "addr"&gt;&lt;/textarea&gt;&lt;br&gt;
         &lt;label for = "PIN"&gt;City&lt;/label&gt;&lt;br&gt;
         &lt;input type = "text" name = "pin" placeholder = "pin" /&gt;&lt;br&gt;
         &lt;input type = "submit" value = "Submit" /&gt;
      &lt;/form&gt;
      
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>When the http method is detected as POST, the form data is added in the students table and the application returns to homepage showing the added data.</p>
<pre class="prettyprint notranslate">
@app.route('/new', methods = ['GET', 'POST'])
def new():
   if request.method == 'POST':
      if not request.form['name'] or not request.form['city'] or not request.form['addr']:
         flash('Please enter all the fields', 'error')
      else:
         student = students(request.form['name'], request.form['city'],
            request.form['addr'], request.form['pin'])
         
         db.session.add(student)
         db.session.commit()
         
         flash('Record was successfully added')
         return redirect(url_for('show_all'))
   return render_template('new.html')
</pre>
<p>Given below is the complete code of application <b>(app.py)</b>.</p>
<pre class="prettyprint notranslate">
from flask import Flask, request, flash, url_for, redirect, render_template
from flask_sqlalchemy import SQLAlchemy

app = Flask(__name__)
app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///students.sqlite3'
app.config['SECRET_KEY'] = "random string"

db = SQLAlchemy(app)

class students(db.Model):
   id = db.Column('student_id', db.Integer, primary_key = True)
   name = db.Column(db.String(100))
   city = db.Column(db.String(50))
   addr = db.Column(db.String(200)) 
   pin = db.Column(db.String(10))

def __init__(self, name, city, addr,pin):
   self.name = name
   self.city = city
   self.addr = addr
   self.pin = pin

@app.route('/')
def show_all():
   return render_template('show_all.html', students = students.query.all() )

@app.route('/new', methods = ['GET', 'POST'])
def new():
   if request.method == 'POST':
      if not request.form['name'] or not request.form['city'] or not request.form['addr']:
         flash('Please enter all the fields', 'error')
      else:
         student = students(request.form['name'], request.form['city'],
            request.form['addr'], request.form['pin'])
         
         db.session.add(student)
         db.session.commit()
         flash('Record was successfully added')
         return redirect(url_for('show_all'))
   return render_template('new.html')

if __name__ == '__main__':
   db.create_all()
   app.run(debug = True)
</pre>
<p>Run the script from Python shell and enter <b>http://localhost:5000/</b> in the browser.</p>
<img src="images/flask_sqlalchemy_example.jpg" alt="Flask SQLAlchemy Example" />
<p>Click the <b>‘Add Student’</b> link to open <b>Student information</b> form.</p>
<img src="images/add_student.jpg" alt="Add Student" />
<p>Fill the form and submit. The home page reappears with the submitted data.</p>
<p>We can see the output as shown below.</p>
<img src="images/flask_sqlalchemy_example_output.jpg" alt="Flask SQLAlchemy Example Output" />
<h1>Flask – Sijax</h1>
<p><b>Sijax</b> stands for <b>‘Simple Ajax’</b> and it is a <b>Python/jQuery</b> library designed to help you easily bring <b>Ajax</b> to your application. It uses <b>jQuery.ajax</b> to make AJAX requests.</p>
<h2>Installation</h2>
<p>Installation of Flask-Sijax is easy.</p>
<pre class="result notranslate">
pip install flask-sijax
</pre>
<h2>Configuration</h2>
<ul class="list">
<li><p><b>SIJAX_STATIC_PATH</b> &minus; the static path where you want the Sijax javascript files to be mirrored. The default location is <b>static/js/sijax</b>. In this folder, <b>sijax.js</b> and <b>json2.js</b> files are kept.</p></li>
<li><p><b>SIJAX_JSON_URI</b> &minus; the URI to load the json2.js static file from</p></li>
</ul>
<p>Sijax uses <b>JSON</b> to pass the data between the browser and the server. This means that the browsers need either to support <b>JSON</b> natively or get <b>JSON</b> support from the <b>json2.js</b> file.</p>
<p>Functions registered that way cannot provide <b>Sijax</b> functionality, because they cannot be accessed using a <b>POST</b> method by default (and Sijax uses POST requests).</p>
<p>To make a <b>View</b> function capable of handling <b>Sijax</b> requests, make it accessible via POST using <b>@app.route('/url', methods = ['GET', 'POST'])</b> or use the <b>@flask_sijax.route</b> helper decorator like this &minus;</p>
<pre class="result notranslate">
@flask_sijax.route(app, '/hello')
</pre>
<p>Every Sijax handler function (like this one) receives at least one parameter automatically, much like Python passes ‘self’ to the object methods. The <b>‘obj_response’</b> parameter is the function's way of talking back to the browser.</p>
<pre class="prettyprint notranslate">
def say_hi(obj_response):
   obj_response.alert('Hi there!')
</pre> 
<p>When Sijax request is detected, Sijax handles it like this &minus;</p>
<pre class="prettyprint notranslate">
g.sijax.register_callback('say_hi', say_hi)
   return g.sijax.process_request()
</pre>
<h2>Sijax Application</h2>
<p>A minimal Sijax application code looks as follows &minus;</p>
<pre class="prettyprint notranslate">
import os
from flask import Flask, g
from flask_sijax import sijax

path = os.path.join('.', os.path.dirname(__file__), 'static/js/sijax/')
app = Flask(__name__)

app.config['SIJAX_STATIC_PATH'] = path
app.config['SIJAX_JSON_URI'] = '/static/js/sijax/json2.js'
flask_sijax.Sijax(app)

@app.route('/')
def index():
   return 'Index'
	
@flask_sijax.route(app, '/hello')
def hello():
   def say_hi(obj_response):
      obj_response.alert('Hi there!')
   if g.sijax.is_sijax_request:
      # Sijax request detected - let Sijax handle it
      g.sijax.register_callback('say_hi', say_hi)
      return g.sijax.process_request()
      return _render_template('sijaxexample.html')

if __name__ == '__main__':
   app.run(debug = True)
</pre>
<p>When a Sijax requests (a special <b>jQuery.ajax()</b> request) to the server, this request is detected on the server by <b>g.sijax.is_sijax_request()</b>, in which case you let <b>Sijax</b> handle the request.</p>
<p>All the functions registered using <b>g.sijax.register_callback()</b> are exposed for calling from the browser.</p>
<p>Calling <b>g.sijax.process_request()</b> tells Sijax to execute the appropriate (previously registered) function and return the response to the browser.</p>
<h1>Flask – Deployment</h1>
<h2>Externally Visible Server</h2>
<p>A Flask application on the development server is accessible only on the computer on which the development environment is set up. This is a default behavior, because in debugging mode, a user can execute arbitrary code on the computer.</p>
<p>If <b>debug</b> is disabled, the development server on local computer can be made available to the users on network by setting the host name as <b>‘0.0.0.0’</b>.</p>
<pre class="result notranslate">
app.run(host = ’0.0.0.0’)
</pre>
<p>Thereby, your operating system listens to all public IPs.</p>
<h2>Deployment</h2>
<p>To switch over from a development environment to a full-fledged production environment, an application needs to be deployed on a real web server. Depending upon what you have, there are different options available to deploy a Flask web application.</p>
<p>For small application, you can consider deploying it on any of the following hosted platforms, all of which offer free plan for small application.</p>
<ul class="list">
<li>Heroku</li>
<li>dotcloud</li>
<li>webfaction</li>
</ul>
<p>Flask application can be deployed on these cloud platforms. In addition, it is possible to deploy Flask app on Google cloud platform. Localtunnel service allows you to share your application on localhost without messing with DNS and firewall settings.</p>
<p>If you are inclined to use a dedicated web server in place of above mentioned shared platforms, following options are there to explore.</p>
<h2>mod_wsgi</h2>
<p><b>mod_wsgi</b> is an Apache module that provides a WSGI compliant interface for hosting Python based web applications on Apache server.</p>
<h2>Installing mod_wsgi</h2>
<p>To install an official release direct from PyPi, you can run &minus;</p>
<pre class="result notranslate">
pip install mod_wsgi
</pre>
<p>To verify that the installation was successful, run the mod_wsgi-express script with the start-server command &minus;</p>
<pre class="result notranslate">
mod_wsgi-express start-server
</pre>
<p>This will start up Apache/mod_wsgi on port 8000. You can then verify that the installation worked by pointing your browser at &minus;</p>
<pre class="result notranslate">
http://localhost:8000/
</pre>
<h2>Creating .wsgi file</h2>
<p>There should be a <b>yourapplication.wsgi</b> file. This file contains the code <b>mod_wsgi,</b> which executes on startup to get the application object. For most applications, the following file should be sufficient &minus;</p>
<pre class="result notranslate">
from yourapplication import app as application
</pre>
<p>Make sure that <b>yourapplication</b> and all the libraries that are in use are on the python load path.</p>
<h2>Configuring Apache</h2>
<p>You need to tell <b>mod_wsgi,</b> the location of your application.</p>
<pre class="prettyprint notranslate">
&lt;VirtualHost *&gt;
   ServerName example.com
   WSGIScriptAlias / C:\yourdir\yourapp.wsgi
   
   &lt;Directory C:\yourdir&gt;
      Order deny,allow
      Allow from all
   &lt;/Directory&gt;
   
&lt;/VirtualHost&gt;
</pre>
<h2>Standalone WSGI containers</h2>
<p>There are many popular servers written in Python that contains WSGI applications and serve HTTP.</p>
<ul class="list">
<li>Gunicorn</li>
<li>Tornado</li>
<li>Gevent</li>
<li>Twisted Web</li>
</ul>
<h1>Flask – FastCGI</h1>
<p>FastCGI is another deployment option for Flask application on web servers like nginix, lighttpd, and Cherokee.</p>
<h2>Configuring FastCGI</h2>
<p>First, you need to create the <b>FastCGI</b> server file. Let us call it <b>yourapplication.fcgiC</b>.</p>
<pre class="prettyprint notranslate">
from flup.server.fcgi import WSGIServer
from yourapplication import app

if __name__ == '__main__':
   WSGIServer(app).run()
</pre>
<p><b>nginx</b> and older versions of <b>lighttpd</b> need a socket to be explicitly passed to communicate with the <b>FastCGI</b> server. For that to work, you need to pass the path to the socket to the <b>WSGIServer</b>.</p>
<pre class="result notranslate">
WSGIServer(application, bindAddress = '/path/to/fcgi.sock').run()
</pre>
<h2>Configuring Apache</h2>
<p>For a basic Apache deployment, your <b>.fcgi</b> file will appear in your application URL e.g. <b>example.com/yourapplication.fcgi/hello/</b>. There are few ways to configure your application so that <b>yourapplication.fcgi</b> does not appear in the URL.</p>
<pre class="prettyprint notranslate">
&lt;VirtualHost *&gt;
   ServerName example.com
   ScriptAlias / /path/to/yourapplication.fcgi/
&lt;/VirtualHost&gt;
</pre>
<h2>Configuring lighttpd</h2>
<p>Basic configuration of <b>lighttpd</b> looks like this &minus;</p>
<pre class="prettyprint notranslate">
fastcgi.server = ("/yourapplication.fcgi" =&gt; ((
   "socket" =&gt; "/tmp/yourapplication-fcgi.sock",
   "bin-path" =&gt; "/var/www/yourapplication/yourapplication.fcgi",
   "check-local" =&gt; "disable",
   "max-procs" =&gt; 1
)))

alias.url = (
   "/static/" =&gt; "/path/to/your/static"
)

url.rewrite-once = (
   "^(/static($|/.*))$" =&gt; "$1",
   "^(/.*)$" =&gt; "/yourapplication.fcgi$1"
)
</pre>
<p>Remember to enable the <b>FastCGI</b>, alias and rewrite modules. This configuration binds the application to <b>/yourapplication</b>.</p>
<hr />
<div class="pre-btn">
<a href="flask_fastcgi.html"><i class="icon icon-arrow-circle-o-left big-font"></i> Previous Page</a>
</div>
<div class="print-btn center">
<a href="../cgi-bin/printpage.html" target="_blank"><i class="icon icon-print big-font"></i> Print</a>
</div>
<div class="nxt-btn">
<a href="flask_useful_resources.html">Next Page <i class="icon icon-arrow-circle-o-right big-font"></i>&nbsp;</a>
</div>
<hr />
<!-- PRINTING ENDS HERE -->
<div class="bottomgooglead">
<div class="bottomadtag">Advertisements</div>
<script type="text/javascript"><!--
var width = 580;
var height = 400;
var format = "580x400_as";
if( window.innerWidth < 468 ){
   width = 300;
   height = 250;
   format = "300x250_as";
}
google_ad_client = "pub-7133395778201029";
google_ad_width = width;
google_ad_height = height;
google_ad_format = format;
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
</div>
</div>
<div class="row">
<div class="col-md-3" id="rightbar">
<div class="simple-ad">
<a href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.facebook.com/sharer.php?u=' + 'http://www.tutorialspoint.com/flask/flask_quick_guide.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/facebookIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://twitter.com/share?url=' + 'http://www.tutorialspoint.com/flask/flask_quick_guide.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/twitterIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.linkedin.com/cws/share?url=' + 'http://www.tutorialspoint.com/flask/flask_quick_guide.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/linkedinIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://plus.google.com/share?url=http://www.tutorialspoint.com/flask/flask_quick_guide.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/googlePlusIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.stumbleupon.com/submit?url=http://www.tutorialspoint.com/flask/flask_quick_guide.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/StumbleUponIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://reddit.com/submit?url=http://www.tutorialspoint.com/flask/flask_quick_guide.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=656,top='+sTop+',left='+sLeft);return false;">
<img src="../images/reddit.jpg" alt="img" />
</a>
</div>
<div class="rightgooglead">
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 300;
google_ad_height = 250;
google_ad_format = "300x250_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
<div class="rightgooglead">
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 300;
google_ad_height = 600;
google_ad_format = "300x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
<div class="rightgooglead">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-2537027957187252";
/* Right Side Ad */
google_ad_slot = "right_side_ad";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
</div>
</div>
</div>
</div>
</div>

<div class="footer-copyright">
<div class="container">
<div class="row">
<div class="col-md-1">
<a href="../index-2.html" class="logo"> <img alt="Tutorials Point" class="img-responsive" src="../scripts/img/logo-footer.png"> </a>
</div>
<div class="col-md-4 col-sm-12 col-xs-12">
   <nav id="sub-menu">
      <ul>
         <li><a href="../about/tutorials_writing.html">Write for us</a></li>
         <li><a href="../about/faq.html">FAQ's</a></li>
         <li><a href="../about/about_helping.html">Helping</a></li>
         <li><a href="../about/contact_us.html">Contact</a></li>
      </ul>
   </nav>
</div>
<div class="col-md-3 col-sm-12 col-xs-12">
<p>&copy; Copyright 2017. All Rights Reserved.</p>
</div>
<div class="col-md-4 col-sm-12 col-xs-12">
   <div class="news-group">
      <input type="text" class="form-control-foot search" name="textemail" id="textemail" autocomplete="off" placeholder="Enter email for newsletter" onfocus="if (this.value == 'Enter email for newsletter...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Enter email for newsletter...';}">
      <span class="input-group-btn"> <button class="btn btn-default btn-footer" id="btnemail" type="submit" onclick="javascript:void(0);">go</button> </span>
      <div id="newsresponse"></div>
   </div>
</div>
</div>
</div>
</div>
</div>
<!-- Libs -->
<script type="text/javascript" src="../theme/js/custom-min7b30.js?v=4"></script>
<script src="../../www.google-analytics.com/urchin.js">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
$('.pg-icon').click(function(){
   $('.wrapLoader').show();
});
</script>
</div>
</body>

<!-- Mirrored from www.tutorialspoint.com/flask/flask_quick_guide.htm by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Aug 2017 18:03:35 GMT -->
</html>
