<!DOCTYPE html>
<!--[if IE 8]><html class="ie ie8"> <![endif]-->
<!--[if IE 9]><html class="ie ie9"> <![endif]-->
<!--[if gt IE 9]><!-->	<html> <!--<![endif]-->

<!-- Mirrored from www.tutorialspoint.com/ruby/ruby_quick_guide.htm by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Aug 2017 18:26:05 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<!-- Basic -->
<meta charset="utf-8">
<title>Ruby Quick Guide</title>
<meta name="description" content="Ruby Quick Guide - Learning Ruby in simple and easy steps A beginner's tutorial containing complete knowledge of Ruby Overview, Environment Setup, Syntax, Classes, Variables, Operators, Comments, If...else, case, unless, Loops, File, I/O, Functions, Objects, TK, Ranges, iterators, arrays, strings, methods, blocks, Exception, Object Oriented, Regular Expressions, DBI, Multi threading, Hashes, Date and Time, Modules, LDAP, Web Services, Web Programming, Sending Email, Socket Programming, Scripting Language, Predefined Constants, Associated Tools." />
<meta name="Keywords" content="Ruby, Tutorials, Learning, Beginners, Overview, Environment Setup, Syntax, Classes, Variables, Operators, Comments, If...else, case, unless, Loops, File, I/O, Functions, Objects, TK, Ranges, iterators, arrays, strings, methods, blocks, Exception, Object Oriented, Regular Expressions, DBI, Multi threading, Hashes, Date and Time, Modules, LDAP, Web Services, Web Programming, Sending Email, Socket Programming, Scripting Language, Predefined Constants, Associated Tools." />
<base  />
<link rel="shortcut icon" href="https://www.tutorialspoint.com/favicon.ico" type="image/x-icon" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes">
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="website" />
<meta property="fb:app_id" content="471319149685276" />
<meta property="og:site_name" content="www.tutorialspoint.com" />
<meta name="robots" content="index, follow"/>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="author" content="tutorialspoint.com">
<script type="text/javascript" src="https://www.tutorialspoint.com/theme/js/script-min-v4.js"></script>
<link rel="stylesheet" href="https://www.tutorialspoint.com/theme/css/style-min.css?v=2">
<!-- Head Libs -->
<!--[if IE 8]>
<link rel="stylesheet" type="text/css" href="/theme/css/ie8.css">
<![endif]-->
<style>
pre.prettyprint.tryit {min-height:37px; background: #eee url(https://www.tutorialspoint.com/ruby/images/try-it.jpg) top right no-repeat !important}select{ border:0 !important; outline: 1px inset black !important; outline-offset: -1px !important; }
ul.nav-list.primary>li a.videolink{    background: none; margin: 0px; padding: 0px; border: 1px solid #d6d6d6;}
div.feature-box div.feature-box-icon, .col-md-3 .course-box, li.heading, div.footer-copyright { background: #891204 url(https://www.tutorialspoint.com/images/pattern.png) repeat center center !important;}
.sub-main-menu .sub-menuu div:hover, .sub-main-menu .viewall, header nav ul.nav-main li a:hover, button.btn-responsive-nav, header div.search button.btn-default { background: #891204 !important;}
.submenu-item{ border-bottom: 2px solid #891204 !important; border-top: 2px solid #891204 !important }
.ace_scroller{overflow: auto!important;}
</style>
<script>
$(document).ready(function() {
  $('input[name="q"]').keydown(function(event){
    if(event.keyCode == 13) {
      event.preventDefault();
      return false;
    }
  });
});
</script>
</head>
<body onload="prettyPrint()">
<div class="wrapLoader">
   <div class="imgLoader">
      <img  src="https://www.tutorialspoint.com/images/loading-cg.gif" alt="" width="70" height="70" />
   </div>
</div>
<header>
   <div class="container">			
      <h1 class="logo">
      <a href="https://www.tutorialspoint.com/index.htm" title="tutorialspoint">
      <img alt="tutorialspoint" src="https://www.tutorialspoint.com/ruby/images/logo.png">
      </a>
      </h1>			
      <nav>
         <ul class="nav nav-pills nav-top">
            <li><a href="https://www.tutorialspoint.com/about/about_careers.htm" style="background: #fffb09; font-weight: bold;"><i class="icon icon-suitcase"></i> Jobs</a></li>
            <li> <a href="http://www.sendfiles.net/"><i class="fa fa-send"></i> &nbsp;SENDFiles</a> </li>
            <li> <a href="https://www.tutorialspoint.com/whiteboard.htm"><img src="https://www.tutorialspoint.com/theme/css/icons/image-editor.png" alt="Whiteboard" title="Whiteboard"> &nbsp;Whiteboard</a> </li>
            <li> <a href="https://www.tutorialspoint.com/netmeeting.php"><i class="fa-camera"></i> &nbsp;Net Meeting</a> </li>
            <li> <a href="https://www.tutorialspoint.com/online_dev_tools.htm"> <i class="dev-tools-menu" style="opacity:.5"></i> Tools </a> </li>
            <li> <a href="https://www.tutorialspoint.com/articles/index.php"><i class="icon icon-file-text-o"></i> &nbsp;Articles</a> </li>            
            <li class="top-icons">
              <ul class="social-icons">
              <li class="facebook"><a href="https://www.facebook.com/tutorialspointindia" target="_blank" data-placement="bottom" title="tutorialspoint @ Facebook">Facebook</a></li>
              <li class="googleplus"><a href="https://plus.google.com/u/0/116678774017490391259/posts" target="_blank" data-placement="bottom" title="tutorialspoint @ Google+">Google+</a></li>
              <li class="twitter"><a href="https://www.twitter.com/tutorialspoint" target="_blank" data-placement="bottom" title="tutorialspoint @ Twitter">Twitter</a></li>
              <li class="linkedin"><a href="https://www.linkedin.com/company/tutorialspoint" target="_blank" data-placement="bottom" title="tutorialspoint @ Linkedin">Linkedin</a></li>
              <li class="youtube"><a href="https://www.youtube.com/channel/UCVLbzhxVTiTLiVKeGV7WEBg" target="_blank" data-placement="bottom" title="tutorialspoint YouTube">YouTube</a></li>
              </ul>
           </li>
         </ul>
      </nav>
         <!-- search code here  --> 
      <button class="btn btn-responsive-nav btn-inverse" data-toggle="collapse" data-target=".nav-main-collapse" id="pull" style="top: 24px!important"> <i class="icon icon-bars"></i> </button>
   </div>
  
   <div class="navbar nav-main">
      <div class="container">
         <nav class="nav-main mega-menu">
            <ul class="nav nav-pills nav-main" id="mainMenu">
               <li class="dropdown no-sub-menu"> <a class="dropdown" href="https://www.tutorialspoint.com/index.htm"><i class="icon icon-home"></i> Home</a> </li>   
               <li class="dropdown" id="liTL"><a class="dropdown" href="javascript:void(0);"><span class="tut-lib"> Tutorials Library <i class="fa-caret-down"></i></span></a></li>
               <li class="dropdown no-sub-menu"><a class="dropdown" href="https://www.tutorialspoint.com/codingground.htm"><i class="fa-code"></i> Coding Ground </a> </li>
               <li class="dropdown no-sub-menu"><a class="dropdown" href="https://www.tutorialspoint.com/tutor_connect/index.php"><i class="fa-user"> </i> Tutor Connect</a></li>
               <li class="dropdown no-sub-menu"><a class="dropdown" href="https://www.tutorialspoint.com/videotutorials/index.htm"><i class="fa-toggle-right"></i> Videos </a></li>
               <li class="dropdown no-sub-menu">
                  <div class="searchform-popup">
                     <input class="header-search-box" type="text" id="search-string" name="q" placeholder="Search your favorite tutorials..." onfocus="if (this.value == 'Search your favorite tutorials...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search your favorite tutorials...';}" autocomplete="off">
                     <div class="magnifying-glass"><i class="icon-search"></i> Search </div>
                 </div>
               </li>
            </ul>
         </nav>
         <div class="submenu-item sub-main-menu" id="top-sub-menu"></div>
         
      </div>
   </div>	
</header>
<div style="clear:both;"></div>
<div role="main" class="main">
<div class="container">
<div class="row">
<div class="col-md-2">
<aside class="sidebar">
<div class="mini-logo">
<img src="https://www.tutorialspoint.com/ruby/images/ruby-mini-logo.jpg" alt="Ruby Tutorial" />
</div>
<ul class="nav nav-list primary left-menu">
<li class="heading">Ruby Basics</li>
<li><a href="https://www.tutorialspoint.com/ruby/index.htm">Ruby - Home</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_overview.htm">Ruby - Overview</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_environment.htm">Ruby - Environment Setup</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_syntax.htm">Ruby - Syntax</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_classes.htm">Ruby - Classes and Objects</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_variables.htm">Ruby - Variables</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_operators.htm">Ruby - Operators</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_comments.htm">Ruby - Comments</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_if_else.htm">Ruby - IF...ELSE</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_loops.htm">Ruby - Loops</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_methods.htm">Ruby - Methods</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_blocks.htm">Ruby - Blocks</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_modules.htm">Ruby - Modules</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_strings.htm">Ruby - Strings</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_arrays.htm">Ruby - Arrays</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_hashes.htm">Ruby - Hashes</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_date_time.htm">Ruby - Date &amp; Time</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_ranges.htm">Ruby - Ranges</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_iterators.htm">Ruby - Iterators</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_input_output.htm">Ruby - File I/O</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_exceptions.htm">Ruby - Exceptions</a></li>
</ul>
<ul class="nav nav-list primary left-menu">
<li class="heading">Ruby Advanced</li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_object_oriented.htm">Ruby - Object Oriented</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_regular_expressions.htm">Ruby - Regular Expressions</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_database_access.htm">Ruby - Database Access</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_web_applications.htm">Ruby - Web Applications</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_sending_email.htm">Ruby - Sending Email</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_socket_programming.htm">Ruby - Socket Programming</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_xml_xslt.htm">Ruby - Ruby/XML, XSLT</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_web_services.htm">Ruby - Web Services</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_tk_guide.htm">Ruby - Tk Guide</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_ldap.htm">Ruby - Ruby/LDAP Tutorial</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_multithreading.htm">Ruby - Multithreading</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_builtin_functions.htm">Ruby - Built-in Functions</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_predefined_variables.htm">Ruby - Predefined Variables</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_predefined_constants.htm">Ruby - Predefined Constants</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_associated_tools.htm">Ruby - Associated Tools</a></li>
</ul>
<ul class="nav nav-list primary left-menu">
<li class="heading">Ruby Useful Resources</li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_quick_guide.htm">Ruby - Quick Guide</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_resources.htm">Ruby - Useful Resources</a></li>
<li><a href="https://www.tutorialspoint.com/ruby/ruby_discussion.htm">Ruby - Discussion</a></li>
<li><a href="https://www.tutorialspoint.com/ruby-on-rails/index.htm">Ruby - Ruby on Rails Tutorial</a></li>
</ul>
<ul class="nav nav-list primary push-bottom left-menu special">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="https://www.tutorialspoint.com/developers_best_practices/index.htm">Developer's Best Practices</a></li>
<li><a target="_top" href="https://www.tutorialspoint.com/questions_and_answers.htm">Questions and Answers</a></li>
<li><a target="_top" href="https://www.tutorialspoint.com/effective_resume_writing.htm">Effective Resume Writing</a></li>
<li><a target="_top" href="https://www.tutorialspoint.com/hr_interview_questions/index.htm">HR Interview Questions</a></li>
<li><a target="_top" href="https://www.tutorialspoint.com/computer_glossary.htm">Computer Glossary</a></li>
<li><a target="_top" href="https://www.tutorialspoint.com/computer_whoiswho.htm">Who is Who</a></li>
</ul>
</aside>
</div>
<!-- PRINTING STARTS HERE -->
<div class="row">
<div class="content">
<div class="col-md-7 middle-col">
<h1>Ruby - Quick Guide</h1>
<div class="topgooglead">
<hr />
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
src="https://pagead2.googlesyndication.com/pagead/show_ads.js"> 
</script>
</div>
<hr />
<div class="pre-btn">
<a href="https://www.tutorialspoint.com/ruby/ruby_associated_tools.htm"><i class="icon icon-arrow-circle-o-left big-font"></i> Previous Page</a>
</div>
<div class="nxt-btn">
<a href="https://www.tutorialspoint.com/ruby/ruby_resources.htm">Next Page <i class="icon icon-arrow-circle-o-right big-font"></i>&nbsp;</a>
</div>
<div class="clearer"></div>
<hr />
<h1>Ruby - Overview</h1>
<p>Ruby is a pure object-oriented programming language. It was created in 1993 by Yukihiro Matsumoto of Japan.</p>
<p>You can find the name Yukihiro Matsumoto on the Ruby mailing list at <a target="_blank" rel="nofollow" href="https://www.ruby-lang.org/en/">www.ruby-lang.org</a>. Matsumoto is also known as Matz in the Ruby community.</p>
<p><b>Ruby is "A Programmer's Best Friend".</b></p>
<p>Ruby has features that are similar to those of Smalltalk, Perl, and Python. Perl, Python, and Smalltalk are scripting languages. Smalltalk is a true object-oriented language. Ruby, like Smalltalk, is a perfect object-oriented language. Using Ruby syntax is much easier than using Smalltalk syntax.</p>
<h2>Features of Ruby</h2>
<ul class="list">
<li><p>Ruby is an open-source and is freely available on the Web, but it is subject to a license.</p></li>
<li><p>Ruby is a general-purpose, interpreted programming language.</p></li>
<li><p>Ruby is a true object-oriented programming language.</p></li>
<li><p>Ruby is a server-side scripting language similar to Python and PERL.</p></li>
<li><p>Ruby can be used to write Common Gateway Interface (CGI) scripts.</p></li>
<li><p>Ruby can be embedded into Hypertext Markup Language (HTML).</p></li>
<li><p>Ruby has a clean and easy syntax that allows a new developer to learn very quickly and easily.</p></li>
<li><p>Ruby has similar syntax to that of many programming languages such as C++ and Perl.</p></li>
<li><p>Ruby is very much scalable and big programs written in Ruby are easily maintainable.</p></li>
<li><p>Ruby can be used for developing Internet and intranet applications.</p></li>
<li><p>Ruby can be installed in Windows and POSIX environments.</p></li>
<li><p>Ruby support many GUI tools such as Tcl/Tk, GTK, and OpenGL.</p></li>
<li><p>Ruby can easily be connected to DB2, MySQL, Oracle, and Sybase.</p></li>
<li><p>Ruby has a rich set of built-in functions, which can be used directly into Ruby scripts.</p></li>
</ul>
<h2>Tools You Will Need</h2>
<p>For performing the examples discussed in this tutorial, you will need a latest computer like Intel Core i3 or i5 with a minimum of 2GB of RAM (4GB of RAM recommended). You also will need the following software &minus;</p>
<ul class="list">
<li><p>Linux or Windows 95/98/2000/NT or Windows 7 operating system.</p></li>
<li><p>Apache 1.3.19-5 Web server.</p></li>
<li><p>Internet Explorer 5.0 or above Web browser.</p></li>
<li><p>Ruby 1.8.5</p></li>
</ul>
<p>This tutorial will provide the necessary skills to create GUI, networking, and Web applications using Ruby. It also will talk about extending and embedding Ruby applications.</p>
<h2>What is Next?</h2>
<p>The next chapter guides you to where you can obtain Ruby and its documentation. Finally, it instructs you on how to install Ruby and prepare an environment to develop Ruby applications.</p>
<h1>Ruby - Environment Setup</h1>
<blockquote>
<h2>Try it Option Online</h2>
<p>We have set up the Ruby Programming environment online, so that you can compile and execute all the available examples online. It gives you confidence in what you are reading and enables you to verify the programs with different options. Feel free to modify any example and execute it online.</p>
<p>Try the following example using our online compiler available at <a href="https://www.tutorialspoint.com/codingground.htm">CodingGround</a></p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby -w

puts "Hello, Ruby!";
</pre>
<p>For most of the examples given in this tutorial, you will find a Try it option in our website code sections at the top right corner that will take you to the online compiler. So just make use of it and enjoy your learning.</p>
</blockquote>
<h2>Local Environment Setup</h2>
<p>If you are still willing to set up your environment for Ruby programming language, then let's proceed. This tutorial will teach you all the important topics related to environment setup. We would recommend you to go through the following topics first and then proceed further &minus;</p>
<ul class="list">
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_installation_unix.htm">Ruby Installation on Linux/Unix</a> &minus; If you are planning to have your development environment on Linux/Unix Machine, then go through this chapter.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_installation_windows.htm">Ruby Installation on Windows</a> &minus; If you are planning to have your development environment on Windows Machine, then go through this chapter.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_command_line_options.htm">Ruby Command Line Options</a> &minus; This chapter list out all the command line options, which you can use along with Ruby interpreter.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_environment_variables.htm">Ruby Environment Variables</a> &minus; This chapter has a list of all the important environment variables to be set to make Ruby Interpreter works.</p></li>
</ul>
<h2>Popular Ruby Editors</h2>
<p>To write your Ruby programs, you will need an editor &minus;</p>
<ul class="list">
<li><p>If you are working on Windows machine, then you can use any simple text editor like Notepad or Edit plus.</p></li>
<li><p><a target="_blank" rel="nofollow" href="http://vim.sourceforge.net/">VIM</a> (Vi IMproved) is a very simple text editor. This is available on almost all Unix machines and now Windows as well. Otherwise, your can use your favorite vi editor to write Ruby programs.</p></li>
<li><p><a target="_blank" rel="nofollow" href="http://homepage1.nifty.com/markey/ruby/rubywin/index_e.html" title="RubyWin">RubyWin</a> is a Ruby Integrated Development Environment (IDE) for Windows.</p></li>
<li><p>Ruby Development Environment <a target="_blank" rel="nofollow" href="http://homepage2.nifty.com/sakazuki/rde_en/" title="RDE">(RDE)</a> is also a very good IDE for windows users.</p></li>
</ul>
<h2>Interactive Ruby (IRb)</h2>
<p>Interactive Ruby (IRb) provides a shell for experimentation. Within the IRb shell, you can immediately view expression results, line by line.</p>
<p>This tool comes along with Ruby installation so you have nothing to do extra to have IRb working.</p>
<p>Just type <b>irb</b> at your command prompt and an Interactive Ruby Session will start as given below &minus;</p>
<pre class="prettyprint notranslate">
$irb
irb 0.6.1(99/09/16)
irb(main):001:0&gt; def hello
irb(main):002:1&gt; out = "Hello World"
irb(main):003:1&gt; puts out
irb(main):004:1&gt; end
nil
irb(main):005:0&gt; hello
Hello World
nil
irb(main):006:0&gt;
</pre>
<p>Do not worry about what we did here. You will learn all these steps in subsequent chapters.</p>
<h2>What is Next?</h2>
<p>We assume now you have a working Ruby Environment and you are ready to write the first Ruby Program. The next chapter will teach you how to write Ruby programs.</p>
<h1>Ruby - Syntax</h1>
<p>Let us write a simple program in ruby. All ruby files will have extension <b>.rb</b>. So, put the following source code in a test.rb file.</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby -w

puts "Hello, Ruby!";
</pre>
<p>Here, we assumed that you have Ruby interpreter available in /usr/bin directory. Now, try to run this program as follows &minus;</p>
<pre class="prettyprint notranslate">
$ ruby test.rb
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Hello, Ruby!
</pre>
<p>You have seen a simple Ruby program, now let us see a few basic concepts related to Ruby Syntax.</p>
<h2>Whitespace in Ruby Program</h2>
<p>Whitespace characters such as spaces and tabs are generally ignored in Ruby code, except when they appear in strings. Sometimes, however, they are used to interpret ambiguous statements. Interpretations of this sort produce warnings when the -w option is enabled.</p>
<h3>Example</h3>
<pre class="result notranslate">
a + b is interpreted as a+b ( Here a is a local variable)
a  +b is interpreted as a(+b) ( Here a is a method call)
</pre>
<h2>Line Endings in Ruby Program</h2>
<p>Ruby interprets semicolons and newline characters as the ending of a statement. However, if Ruby encounters operators, such as &plus;, &minus;, or backslash at the end of a line, they indicate the continuation of a statement.</p>
<h2>Ruby Identifiers</h2>
<p>Identifiers are names of variables, constants, and methods. Ruby identifiers are case sensitive. It means Ram and RAM are two different identifiers in Ruby.</p>
<p>Ruby identifier names may consist of alphanumeric characters and the underscore character ( _ ).</p>
<h2>Reserved Words</h2>
<p>The following list shows the reserved words in Ruby. These reserved words may not be used as constant or variable names. They can, however, be used as method names.</p>
<table class="table table-bordered">
<tr>
<td>BEGIN</td>
<td>do</td>
<td>next</td>
<td>then</td>
</tr>
<tr>
<td>END</td>
<td>else</td>
<td>nil</td>
<td>true</td>
</tr>
<tr>
<td>alias</td>
<td>elsif</td>
<td>not</td>
<td>undef</td>
</tr>
<tr>
<td>and</td>
<td>end</td>
<td>or</td>
<td>unless</td>
</tr>
<tr>
<td>begin</td>
<td>ensure</td>
<td>redo</td>
<td>until</td>
</tr>
<tr>
<td>break</td>
<td>false</td>
<td>rescue</td>
<td>when</td>
</tr>
<tr>
<td>case</td>
<td>for</td>
<td>retry</td>
<td>while</td>
</tr>
<tr>
<td>class</td>
<td>if</td>
<td>return</td>
<td>while</td>
</tr>
<tr>
<td>def</td>
<td>in</td>
<td>self</td>
<td>__FILE__</td>
</tr>
<tr>
<td>defined?</td>
<td>module</td>
<td>super</td>
<td>__LINE__</td>
</tr>
</table>
<h2>Here Document in Ruby</h2>
<p>"Here Document" refers to build strings from multiple lines. Following a &lt;&lt; you can specify a string or an identifier to terminate the string literal, and all lines following the current line up to the terminator are the value of the string.</p>
<p>If the terminator is quoted, the type of quotes determines the type of the line-oriented string literal. Notice there must be no space between &lt;&lt; and the terminator.</p>
<p>Here are different examples &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby -w

print &lt;&lt;EOF
    This is the first way of creating
    here document ie. multiple line string.
EOF

print &lt;&lt;"EOF";                # same as above
    This is the second way of creating
    here document ie. multiple line string.
EOF

print &lt;&lt;`EOC`                 # execute commands
	echo hi there
	echo lo there
EOC

print &lt;&lt;"foo", &lt;&lt;"bar"  # you can stack them
	I said foo.
foo
	I said bar.
bar
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
    This is the first way of creating
    her document ie. multiple line string.
    This is the second way of creating
    her document ie. multiple line string.
hi there
lo there
        I said foo.
        I said bar.
</pre>
<h2>Ruby BEGIN Statement</h2>
<h3>Syntax</h3>
<pre class="result notranslate">
BEGIN {
   code
}
</pre>
<p>Declares <i>code</i> to be called before the program is run.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

puts "This is main Ruby Program"

BEGIN {
   puts "Initializing Ruby Program"
}
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Initializing Ruby Program
This is main Ruby Program
</pre>
<h2>Ruby END Statement</h2>
<h3>Syntax</h3>
<pre class="result notranslate">
END {
   code
}
</pre>
<p>Declares <i>code</i> to be called at the end of the program.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

puts "This is main Ruby Program"

END {
   puts "Terminating Ruby Program"
}
BEGIN {
   puts "Initializing Ruby Program"
}
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Initializing Ruby Program
This is main Ruby Program
Terminating Ruby Program
</pre>
<h2>Ruby Comments</h2>
<p>A comment hides a line, part of a line, or several lines from the Ruby interpreter. You can use the hash character (#) at the beginning of a line &minus;</p>
<pre class="result notranslate">
# I am a comment. Just ignore me.
</pre>
<p>Or, a comment may be on the same line after a statement or expression &minus;</p>
<pre class="result notranslate">
name = "Madisetti" # This is again comment
</pre>
<p>You can comment multiple lines as follows &minus;</p>
<pre class="result notranslate">
# This is a comment.
# This is a comment, too.
# This is a comment, too.
# I said that already.
</pre>
<p>Here is another form. This block comment conceals several lines from the interpreter with =begin/=end &minus;</p>
<pre class="result notranslate">
= begin
This is a comment.
This is a comment, too.
This is a comment, too.
I said that already.
= end
</pre>
<h1>Ruby - Classes and Objects</h1>
<p>Ruby is a perfect Object Oriented Programming Language. The features of the object-oriented programming language include &minus;</p>
<ul class="list">
<li>Data Encapsulation</li> 
<li>Data Abstraction</li>
<li>Polymorphism</li>
<li>Inheritance</li>
</ul>
<p>These features have been discussed in the chapter <a href="https://www.tutorialspoint.com/ruby/ruby_object_oriented.htm">Object Oriented Ruby</a>.</p>
<p>An object-oriented program involves classes and objects. A class is the blueprint from which individual objects are created. In object-oriented terms, we say that your <i>bicycle</i> is an instance of the <i>class of objects</i> known as bicycles.</p>
<p>Take the example of any vehicle. It comprises wheels, horsepower, and fuel or gas tank capacity. These characteristics form the data members of the class Vehicle. You can differentiate one vehicle from the other with the help of these characteristics.</p>
<p>A vehicle can also have certain functions, such as halting, driving, and speeding. Even these functions form the data members of the class Vehicle. You can, therefore, define a class as a combination of characteristics and functions.</p>
<p>A class Vehicle can be defined as &minus;</p>
<pre class="prettyprint notranslate">
Class Vehicle {

   Number no_of_wheels
   Number horsepower
   Characters type_of_tank
   Number Capacity
   Function speeding {
	
   }
   Function driving {
	
   }
   Function halting {
	
   }
}
</pre>
<p>By assigning different values to these data members, you can form several instances of the class Vehicle. For example, an airplane has three wheels, horsepower of 1,000, fuel as the type of tank, and a capacity of 100 liters. In the same way, a car has four wheels, horsepower of 200, gas as the type of tank, and a capacity of 25 liters.</p>
<h2>Defining a Class in Ruby</h2>
<p>To implement object-oriented programming by using Ruby, you need to first learn how to create objects and classes in Ruby.</p>
<p>A class in Ruby always starts with the keyword <i>class</i> followed by the name of the class. The name should always be in initial capitals. The class <i>Customer</i> can be displayed as &minus;</p>
<pre class="result notranslate">
class Customer
end
</pre>
<p>You terminate a class by using the keyword <i>end</i>. All the data members in the <i>class</i> are between the class definition and the <i>end</i> keyword.</p>
<h2>Variables in a Ruby Class</h2>
<p>Ruby provides four types of variables &minus;</p>
<ul class="list">
<li><p><b>Local Variables</b> &minus; Local variables are the variables that are defined in a method. Local variables are not available outside the method. You will see more details about method in subsequent chapter. Local variables begin with a lowercase letter or _.</p></li>
<li><p><b>Instance Variables</b> &minus; Instance variables are available across methods for any particular instance or object. That means that instance variables change from object to object. Instance variables are preceded by the at sign (&commat;) followed by the variable name.</p></li>
<li><p><b>Class Variables</b> &minus; Class variables are available across different objects. A class variable belongs to the class and is a characteristic of a class. They are preceded by the sign &commat;&commat; and are followed by the variable name.</p></li>
<li><p><b>Global Variables</b> &minus; Class variables are not available across classes. If you want to have a single variable, which is available across classes, you need to define a global variable. The global variables are always preceded by the dollar sign (&dollar;).</p></li>
</ul>
<h3>Example</h3>
<p>Using the class variable &commat;&commat;no_of_customers, you can determine the number of objects that are being created. This enables in deriving the number of customers.</p>
<pre class="prettyprint notranslate">
class Customer
   &commat;&commat;no_of_customers = 0
end
</pre>
<h2>Creating Objects in Ruby using new Method</h2>
<p>Objects are instances of the class. You will now learn how to create objects of a class in Ruby. You can create objects in Ruby by using the method <i>new</i> of the class.</p>
<p>The method <i>new</i> is a unique type of method, which is predefined in the Ruby library. The new method belongs to the <i>class</i> methods.</p>
<p>Here is the example to create two objects cust1 and cust2 of the class Customer &minus;</p>
<pre class="prettyprint notranslate">
cust1 = Customer. new
cust2 = Customer. new
</pre>
<p>Here, cust1 and cust2 are the names of two objects. You write the object name followed by the equal to sign (=) after which the class name will follow. Then, the dot operator and the keyword <i>new</i> will follow.</p>
<h2>Custom Method to Create Ruby Objects</h2>
<p>You can pass parameters to method <i>new</i> and those parameters can be used to initialize class variables.</p>
<p>When you plan to declare the <i>new</i> method with parameters, you need to declare the method <i>initialize</i> at the time of the class creation.</p>
<p>The <i>initialize</i> method is a special type of method, which will be executed when the <i>new</i> method of the class is called with parameters.</p>
<p>Here is the example to create initialize method &minus;</p>
<pre class="prettyprint notranslate">
class Customer
   &commat;&commat;no_of_customers = 0
   def initialize(id, name, addr)
      &commat;cust_id = id
      &commat;cust_name = name
      &commat;cust_addr = addr
   end
end
</pre>
<p>In this example, you declare the <i>initialize</i> method with <b>id, name</b>, and <b>addr</b> as local variables. Here, <i>def</i> and <i>end</i> are used to define a Ruby method <i>initialize</i>. You will learn more about methods in subsequent chapters.</p>
<p>In the <i>initialize</i> method, you pass on the values of these local variables to the instance variables &commat;cust_id, &commat;cust_name, and &commat;cust_addr. Here local variables hold the values that are passed along with the new method.</p>
<p>Now, you can create objects as follows &minus;</p>
<pre class="prettyprint notranslate">
cust1 = Customer.new("1", "John", "Wisdom Apartments, Ludhiya")
cust2 = Customer.new("2", "Poul", "New Empire road, Khandala")
</pre>
<h2>Member Functions in Ruby Class</h2>
<p>In Ruby, functions are called methods. Each method in a <i>class</i> starts with the keyword <i>def</i> followed by the method name.</p>
<p>The method name always preferred in <b>lowercase letters</b>. You end a method in Ruby by using the keyword <i>end</i>.</p>
<p>Here is the example to define a Ruby method &minus;</p>
<pre class="prettyprint notranslate">
class Sample
   def function
      statement 1
      statement 2
   end
end
</pre>
<p>Here, <i>statement 1</i> and <i>statement 2</i> are part of the body of the method <i>function</i> inside the class Sample. These statments could be any valid Ruby statement. For example we can put a method <i>puts</i> to print <i>Hello Ruby</i> as follows &minus;</p>
<pre class="prettyprint notranslate">
class Sample
   def hello
      puts "Hello Ruby!"
   end
end
</pre>
<p>Now in the following example, create one object of Sample class and call <i>hello</i> method and see the result &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

class Sample
   def hello
      puts "Hello Ruby!"
   end
end

# Now using above class to create objects
object = Sample. new
object.hello
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Hello Ruby!
</pre>
<h2>Simple Case Study</h2>
<p>Here is a case study if you want to do more practice with class and objects.</p>
<p><a href="https://www.tutorialspoint.com/ruby/ruby_class_case_study.htm" title="Ruby Class Case Study" rel="nofollow" target="_blank">Ruby Class Case Study</a></p>
<h1>Ruby - Variables, Constants and Literals</h1>
<p>Variables are the memory locations, which hold any data to be used by any program.</p>
<p>There are five types of variables supported by Ruby. You already have gone through a small description of these variables in the previous chapter as well. These five types of variables are explained in this chapter.</p>
<h2>Ruby Global Variables</h2>
<p>Global variables begin with &dollar;. Uninitialized global variables have the value nil and produce warnings with the -w option.</p>
<p>Assignment to global variables alters the global status. It is not recommended to use global variables. They make programs cryptic.</p>
<p>Here is an example showing the usage of global variable.</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

$global_variable = 10
class Class1
   def print_global
      puts "Global variable in Class1 is #$global_variable"
   end
end
class Class2
   def print_global
      puts "Global variable in Class2 is #$global_variable"
   end
end

class1obj = Class1.new
class1obj.print_global
class2obj = Class2.new
class2obj.print_global
</pre>
<p>Here $global_variable is a global variable. This will produce the following result &minus;</p>
<p><b>NOTE</b> &minus; In Ruby, you CAN access value of any variable or constant by putting a hash (#) character just before that variable or constant.</p>
<pre class="result notranslate">
Global variable in Class1 is 10
Global variable in Class2 is 10
</pre>
<h2>Ruby Instance Variables</h2>
<p>Instance variables begin with &commat;. Uninitialized instance variables have the value <i>nil</i> and produce warnings with the -w option.</p>
<p>Here is an example showing the usage of Instance Variables.</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

class Customer
   def initialize(id, name, addr)
      @cust_id = id
      @cust_name = name
      @cust_addr = addr
   end
   def display_details()
      puts "Customer id #@cust_id"
      puts "Customer name #@cust_name"
      puts "Customer address #@cust_addr"
   end
end

# Create Objects
cust1 = Customer.new("1", "John", "Wisdom Apartments, Ludhiya")
cust2 = Customer.new("2", "Poul", "New Empire road, Khandala")

# Call Methods
cust1.display_details()
cust2.display_details()
</pre>
<p>Here, &commat;cust_id, &commat;cust_name and &commat;cust_addr are instance variables. This will produce the following result &minus;</p>
<pre class="result notranslate">
Customer id 1
Customer name John
Customer address Wisdom Apartments, Ludhiya
Customer id 2
Customer name Poul
Customer address New Empire road, Khandala
</pre>
<h2>Ruby Class Variables</h2>
<p>Class variables begin with &commat;&commat; and must be initialized before they can be used in method definitions.</p>
<p>Referencing an uninitialized class variable produces an error. Class variables are shared among descendants of the class or module in which the class variables are defined.</p>
<p>Overriding class variables produce warnings with the -w option.</p>
<p>Here is an example showing the usage of class variable &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

class Customer
   @@no_of_customers = 0
   def initialize(id, name, addr)
      @cust_id = id
      @cust_name = name
      @cust_addr = addr
   end
   def display_details()
      puts "Customer id #@cust_id"
      puts "Customer name #@cust_name"
      puts "Customer address #@cust_addr"
   end
   def total_no_of_customers()
      @@no_of_customers += 1
      puts "Total number of customers: #@@no_of_customers"
   end
end

# Create Objects
cust1 = Customer.new("1", "John", "Wisdom Apartments, Ludhiya")
cust2 = Customer.new("2", "Poul", "New Empire road, Khandala")

# Call Methods
cust1.total_no_of_customers()
cust2.total_no_of_customers()
</pre>
<p>Here &commat;&commat;no_of_customers is a class variable. This will produce the following result &minus;</p>
<pre class="result notranslate">
Total number of customers: 1
Total number of customers: 2
</pre>
<h2>Ruby Local Variables</h2>
<p>Local variables begin with a lowercase letter or _. The scope of a local variable ranges from class, module, def, or do to the corresponding end or from a block's opening brace to its close brace {}.</p>
<p>When an uninitialized local variable is referenced, it is interpreted as a call to a method that has no arguments.</p>
<p>Assignment to uninitialized local variables also serves as variable declaration. The variables start to exist until the end of the current scope is reached. The lifetime of local variables is determined when Ruby parses the program.</p>
<p>In the above example, local variables are id, name and addr.</p>
<h2>Ruby Constants</h2>
<p>Constants begin with an uppercase letter. Constants defined within a class or module can be accessed from within that class or module, and those defined outside a class or module can be accessed globally.</p>
<p>Constants may not be defined within methods. Referencing an uninitialized constant produces an error. Making an assignment to a constant that is already initialized produces a warning.</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

class Example
   VAR1 = 100
   VAR2 = 200
   def show
      puts "Value of first Constant is #{VAR1}"
      puts "Value of second Constant is #{VAR2}"
   end
end

# Create Objects
object = Example.new()
object.show
</pre>
<p>Here VAR1 and VAR2 are constants. This will produce the following result &minus;</p>
<pre class="result notranslate">
Value of first Constant is 100
Value of second Constant is 200
</pre>
<h2>Ruby Pseudo-Variables</h2>
<p>They are special variables that have the appearance of local variables but behave like constants. You cannot assign any value to these variables.</p>
<ul class="list">
<li><p><b>self</b> &minus; The receiver object of the current method.</p></li>
<li><p><b>true</b> &minus; Value representing true.</p></li>
<li><p><b>false</b> &minus; Value representing false.</p></li>
<li><p><b>nil</b> &minus; Value representing undefined.</p></li>
<li><p><b>__FILE__</b> &minus; The name of the current source file.</p></li>
<li><p><b>__LINE__</b> &minus; The current line number in the source file.</p></li>
</ul>
<h2>Ruby Basic Literals</h2>
<p>The rules Ruby uses for literals are simple and intuitive. This section explains all basic Ruby Literals.</p>
<h2>Integer Numbers</h2>
<p>Ruby supports integer numbers. An integer number can range from -2<sup>30</sup> to 2<sup>30-1</sup> or -2<sup>62</sup> to 2<sup>62-1</sup>. Integers within this range are objects of class <i>Fixnum</i> and integers outside this range are stored in objects of class <i>Bignum</i>.</p>
<p>You write integers using an optional leading sign, an optional base indicator (0 for octal, 0x for hex, or 0b for binary), followed by a string of digits in the appropriate base. Underscore characters are ignored in the digit string.</p>
<p>You can also get the integer value, corresponding to an ASCII character or escape the sequence by preceding it with a question mark.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate">
123                  # Fixnum decimal
1_234                # Fixnum decimal with underline
-500                 # Negative Fixnum
0377                 # octal
0xff                 # hexadecimal
0b1011               # binary
?a                   # character code for 'a'
?\n                  # code for a newline (0x0a)
12345678901234567890 # Bignum
</pre>
<p><b>NOTE</b> &minus; Class and Objects are explained in a separate chapter of this tutorial.</p>
<h2>Floating Numbers</h2>
<p>Ruby supports integer numbers. They are also numbers but with decimals. Floating-point numbers are objects of class <i>Float</i> and can be any of the following &minus;</p>
<h3>Example</h3>
<pre class="prettyprint notranslate">
123.4                # floating point value
1.0e6                # scientific notation
4E20                 # dot not required
4e+20                # sign before exponential
</pre>
<h2>String Literals</h2>
<p>Ruby strings are simply sequences of 8-bit bytes and they are objects of class String. Double-quoted strings allow substitution and backslash notation but single-quoted strings don't allow substitution and allow backslash notation only for \\ and \'</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby -w

puts 'escape using "\\"';
puts 'That\'s right';
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
escape using "\"
That's right
</pre>
<p>You can substitute the value of any Ruby expression into a string using the sequence <b>#{ expr }</b>. Here, expr could be any ruby expression.</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby -w

puts "Multiplication Value : #{24*60*60}";
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Multiplication Value : 86400
</pre>
<h2>Backslash Notations</h2>
<p>Following is the list of Backslash notations supported by Ruby &minus;</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center;">Notation</th>
<th style="text-align:center;">Character represented</th>
</tr>
<tr>
<td>\n</td>
<td>Newline (0x0a)</td>
</tr>
<tr>
<td>\r</td>
<td>Carriage return (0x0d)</td>
</tr>
<tr>
<td>\f</td>
<td>Formfeed (0x0c)</td>
</tr>
<tr>
<td>\b</td>
<td>Backspace (0x08)</td>
</tr>
<tr>
<td>\a</td>
<td>Bell (0x07)</td>
</tr>
<tr>
<td>\e</td>
<td>Escape (0x1b)</td>
</tr>
<tr>
<td>\s</td>
<td>Space (0x20)</td>
</tr>
<tr>
<td>\nnn</td>
<td>Octal notation (n being 0-7)</td>
</tr>
<tr>
<td>\xnn</td>
<td>Hexadecimal notation (n being 0-9, a-f, or A-F)</td>
</tr>
<tr>
<td>\cx, \C-x</td>
<td>Control-x</td>
</tr>
<tr>
<td>\M-x</td>
<td>Meta-x (c | 0x80)</td>
</tr>
<tr>
<td>\M-\C-x</td>
<td>Meta-Control-x</td>
</tr>
<tr>
<td>\x</td>
<td>Character x</td>
</tr>
</table>
<p>For more detail on Ruby Strings, go through <a href="https://www.tutorialspoint.com/ruby/ruby_strings.htm">Ruby Strings</a>.</p>
<h2>Ruby Arrays</h2>
<p>Literals of Ruby Array are created by placing a comma-separated series of object references between the square brackets. A trailing comma is ignored.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

ary = [  "fred", 10, 3.14, "This is a string", "last element", ]
ary.each do |i|
   puts i
end
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
fred
10
3.14
This is a string
last element
</pre>
<p>For more detail on Ruby Arrays, go through <a href="https://www.tutorialspoint.com/ruby/ruby_arrays.htm">Ruby Arrays</a>.</p>
<h2>Ruby Hashes</h2>
<p>A literal Ruby Hash is created by placing a list of key/value pairs between braces, with either a comma or the sequence =&gt; between the key and the value. A trailing comma is ignored.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

hsh = colors = { "red" => 0xf00, "green" => 0x0f0, "blue" => 0x00f }
hsh.each do |key, value|
   print key, " is ", value, "\n"
end
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
red is 3840
green is 240
blue is 15
</pre>
<p>For more detail on Ruby Hashes, go through <a href="https://www.tutorialspoint.com/ruby/ruby_hashes.htm">Ruby Hashes</a>.</p>
<h2>Ruby Ranges</h2>
<p>A Range represents an interval.a set of values with a start and an end. Ranges may be constructed using the s..e and s...e literals, or with Range.new.</p>
<p>Ranges constructed using .. run from the start to the end inclusively. Those created using ... exclude the end value. When used as an iterator, ranges return each value in the sequence.</p>
<p>A range (1..5) means it includes 1, 2, 3, 4, 5 values and a range (1...5) means it includes 1, 2, 3, 4 values.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

(10..15).each do |n| 
   print n, ' ' 
end
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
10 11 12 13 14 15
</pre>
<p>For more detail on Ruby Ranges, go through <a href="https://www.tutorialspoint.com/ruby/ruby_ranges.htm">Ruby Ranges</a>.</p>
<h1>Ruby - Operators</h1>
<p>Ruby supports a rich set of operators, as you'd expect from a modern language. Most operators are actually method calls. For example, a &plus; b is interpreted as a.&plus;(b), where the &plus; method in the object referred to by variable <i>a</i> is called with <i>b</i> as its argument.</p>
<p>For each operator (&plus; - * / % ** &amp; | ^ &lt;&lt; &gt;&gt; &amp;&amp; ||), there is a corresponding form of abbreviated assignment operator (&plus;= -= etc.).</p>
<h2>Ruby Arithmetic Operators</h2>
<p>Assume variable a holds 10 and variable b holds 20, then &minus;</p>
<table class="table table-bordered">
<tr>
<th style="width:10%">Sr.No.</th>
<th style="width:45%; text-align:center;">Operator &amp; Description</th>
<th style="text-align:center;">Example</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>&plus;</b>
<p>Addition &minus; Adds values on either side of the operator.</p></td>
<td style="vertical-align:middle;">a &plus; b will give 30</td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>&minus;</b>
<p>Subtraction &minus; Subtracts right hand operand from left hand operand.</p></td>
<td style="vertical-align:middle;">a - b will give -10</td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>*</b>
<p>Multiplication &minus; Multiplies values on either side of the operator.</p></td>
<td style="vertical-align:middle;">a * b will give 200</td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>/</b>
<p>Division &minus; Divides left hand operand by right hand operand.</p></td>
<td style="vertical-align:middle;">b / a will give 2</td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>%</b>
<p>Modulus &minus; Divides left hand operand by right hand operand and returns remainder.</p></td>
<td style="vertical-align:middle;">b % a will give 0</td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>**</b>
<p>Exponent &minus; Performs exponential (power) calculation on operators.</p></td>
<td style="vertical-align:middle;">a**b will give 10 to the power 20</td>
</tr>
</table>
<h2>Ruby Comparison Operators</h2>
<p>Assume variable a holds 10 and variable b holds 20, then &minus;</p>
<table class="table table-bordered">
<tr>
<th style="width:10%">Sr.No.</th>
<th style="width:45%; text-align:center;">Operator &amp; Description</th>
<th style="text-align:center;">Example</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>==</b>
<p>Checks if the value of two operands are equal or not, if yes then condition becomes true.</p></td>
<td style="vertical-align:middle;">(a == b) is not true.</td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>!=</b>
<p>Checks if the value of two operands are equal or not, if values are not equal then condition becomes true.</p></td>
<td style="vertical-align:middle;">(a != b) is true.</td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>&gt;</b>
<p>Checks if the value of left operand is greater than the value of right operand, if yes then condition becomes true.</p></td>
<td style="vertical-align:middle;">(a &gt; b) is not true.</td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>&lt;</b>
<p>Checks if the value of left operand is less than the value of right operand, if yes then condition becomes true.</p></td>
<td style="vertical-align:middle;">(a &lt; b) is true.</td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>&gt;=</b>
<p>Checks if the value of left operand is greater than or equal to the value of right operand, if yes then condition becomes true.</p></td>
<td style="vertical-align:middle;">(a &gt;= b) is not true.</td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>&lt;=</b>
<p>Checks if the value of left operand is less than or equal to the value of right operand, if yes then condition becomes true.</p></td>
<td style="vertical-align:middle;">(a &lt;= b) is true.</td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><b>&lt;=&gt;</b>
<p>Combined comparison operator. Returns 0 if first operand equals second, 1 if first operand is greater than the second and -1 if first operand is less than the second.</p></td>
<td style="vertical-align:middle;">(a &lt;=&gt; b)  returns -1.</td>
</tr>
<tr>
<td style="vertical-align:middle;">8</td>
<td><b>===</b>
<p>Used to test equality within a when clause of a <i>case</i> statement.</p></td>
<td style="vertical-align:middle;">(1...10) === 5 returns true.</td>
</tr>
<tr>
<td style="vertical-align:middle;">9</td>
<td><b>.eql?</b>
<p>True if the receiver and argument have both the same type and equal values.</p></td>
<td style="vertical-align:middle;">1 == 1.0 returns true, but 1.eql?(1.0) is false.</td>
</tr>
<tr>
<td style="vertical-align:middle;">10</td>
<td><b>equal?</b>
<p>True if the receiver and argument have the same object id.</p></td>
<td>if aObj is duplicate of bObj then aObj == bObj is true, a.equal?bObj is false but a.equal?aObj is true.</td>
</tr>
</table>
<h2>Ruby Assignment Operators</h2>
<p>Assume variable a holds 10 and variable b holds 20, then &minus;</p>
<table class="table table-bordered">
<tr>
<th style="width:10%">Sr.No.</th>
<th style="width:45%; text-align:center;">Operator &amp; Description</th>
<th style="text-align:center;">Example</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>=</b>
<p>Simple assignment operator, assigns values from right side operands to left side operand.</p></td>
<td style="vertical-align:middle;">c = a &plus; b will assign the value of a &plus; b into c</td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>&plus;=</b>
<p>Add AND assignment operator, adds right operand to the left operand and assign the result to left operand.</p></td>
<td style="vertical-align:middle;">c &plus;= a is equivalent to c = c &plus; a</td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>-=</b>
<p>Subtract AND assignment operator, subtracts right operand from the left operand and assign the result to left operand.</p></td>
<td style="vertical-align:middle;">c -= a is equivalent to c = c - a</td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>*=</b>
<p>Multiply AND assignment operator, multiplies right operand with the left operand and assign the result to left operand.</p></td>
<td style="vertical-align:middle;">c *= a is equivalent to c = c * a</td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>/=</b>
<p>Divide AND assignment operator, divides left operand with the right operand and assign the result to left operand.</p></td>
<td style="vertical-align:middle;">c /= a is equivalent to c = c / a</td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>%=</b>
<p>Modulus AND assignment operator, takes modulus using two operands and assign the result to left operand.</p></td>
<td style="vertical-align:middle;">c %= a is equivalent to c = c % a</td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><b>**=</b>
<p>Exponent AND assignment operator, performs exponential (power) calculation on operators and assign value to the left operand.</p></td>
<td style="vertical-align:middle;">c **= a is equivalent to c = c ** a</td>
</tr>
</table>
<h2>Ruby Parallel Assignment</h2>
<p>Ruby also supports the parallel assignment of variables. This enables multiple variables to be initialized with a single line of Ruby code. For example &minus;</p>
<pre class="result notranslate">
a = 10
b = 20
c = 30
</pre>
<p>This may be more quickly declared using parallel assignment &minus;</p>
<pre class="result notranslate">
a, b, c = 10, 20, 30
</pre>
<p>Parallel assignment is also useful for swapping the values held in two variables &minus;</p>
<pre class="result notranslate">
a, b = b, c
</pre>
<h2>Ruby Bitwise Operators</h2>
<p>Bitwise operator works on bits and performs bit by bit operation.</p>
<p>Assume if a = 60; and b = 13; now in binary format they will be as follows &minus;</p>
<pre class="result notranslate">
 a    =  0011 1100
 b    =  0000 1101
 ------------------
 a&amp;b  =  0000 1100
 a|b  =  0011 1101
 a^b  =  0011 0001
 ~a   =  1100 0011
</pre>
<p>The following Bitwise operators are supported by Ruby language.</p>
<table class="table table-bordered">
<tr>
<th style="width:10%">Sr.No.</th>
<th style="width:45%; text-align:center;">Operator &amp; Description</th>
<th style="text-align:center;">Example</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>&amp;</b>
<p>Binary AND Operator copies a bit to the result if it exists in both operands.</p></td>
<td style="vertical-align:middle;">(a &amp; b) will give 12, which is 0000 1100</td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>|</b>
<p>Binary OR Operator copies a bit if it exists in either operand.</p></td>
<td style="vertical-align:middle;">(a | b) will give 61, which is 0011 1101</td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>^</b>
<p>Binary XOR Operator copies the bit if it is set in one operand but not both.</p></td>
<td style="vertical-align:middle;">(a ^ b) will give 49, which is 0011 0001</td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>~</b>
<p>Binary Ones Complement Operator is unary and has the effect of 'flipping' bits.</p></td>
<td style="vertical-align:middle;">(~a ) will give -61, which is 1100 0011 in 2's complement form due to a signed binary number.</td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>&lt;&lt;</b>
<p>Binary Left Shift Operator. The left operands value is moved left by the number of bits specified by the right operand.</p></td>
<td style="vertical-align:middle;">a &lt;&lt; 2 will give 240, which is 1111 0000</td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>&gt;&gt;</b>
<p>Binary Right Shift Operator. The left operands value is moved right by the number of bits specified by the right operand.</p></td>
<td style="vertical-align:middle;">a &gt;&gt; 2 will give 15, which is 0000 1111</td>
</tr>
</table>
<h2>Ruby Logical Operators</h2>
<p>The following logical operators are supported by Ruby language</p>
<p>Assume variable <i>a</i> holds 10 and variable <i>b</i> holds 20, then &minus;</p>
<table class="table table-bordered">
<tr>
<th style="width:10%">Sr.No.</th>
<th style="width:45%; text-align:center;">Operator &amp; Description</th>
<th style="text-align:center;">Example</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>and</b>
<p>Called Logical AND operator. If both the operands are true, then the condition becomes true.</p></td>
<td style="vertical-align:middle;">(a and b) is true.</td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>or</b>
<p>Called Logical OR Operator. If any of the two operands are non zero, then the condition becomes true.</p></td>
<td style="vertical-align:middle;">(a or b) is true.</td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>&amp;&amp;</b>
<p>Called Logical AND operator. If both the operands are non zero, then the condition becomes true.</p></td>
<td style="vertical-align:middle;">(a &amp;&amp; b) is true.</td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>||</b>
<p>Called Logical OR Operator. If any of the two operands are non zero, then the condition becomes true.</p></td>
<td style="vertical-align:middle;">(a || b) is true.</td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>!</b>
<p>Called Logical NOT Operator. Use to reverses the logical state of its operand. If a condition is true, then Logical NOT operator will make false.</p></td>
<td style="vertical-align:middle;">!(a &amp;&amp; b) is false.</td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>not</b>
<p>Called Logical NOT Operator. Use to reverses the logical state of its operand. If a condition is true, then Logical NOT operator will make false.</p></td>
<td style="vertical-align:middle;">not(a &amp;&amp; b) is false.</td>
</tr>
</table>
<h2>Ruby Ternary Operator</h2>
<p>There is one more operator called Ternary Operator. It first evaluates an expression for a true or false value and then executes one of the two given statements depending upon the result of the evaluation. The conditional operator has this syntax &minus;</p>
<table class="table table-bordered">
<tr>
<th style="width:10%">Sr.No.</th>
<th style="width:40%; text-align:center;">Operator &amp; Description</th>
<th style="text-align:center;">Example</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>? :</b>
<p>Conditional Expression</p></td>
<td style="vertical-align:middle;">If Condition is true ? Then value X : Otherwise value Y</td>
</tr>
</table>
<h2>Ruby Range Operators</h2>
<p>Sequence ranges in Ruby are used to create a range of successive values - consisting of a start value, an end value, and a range of values in between.</p>
<p>In Ruby, these sequences are created using the ".." and "..." range operators. The two-dot form creates an inclusive range, while the three-dot form creates a range that excludes the specified high value.</p>
<table class="table table-bordered">
<tr>
<th style="width:10%">Sr.No.</th>
<th style="width:40%; text-align:center;">Operator &amp; Description</th>
<th style="text-align:center;">Example</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>..</b>
<p>Creates a range from start point to end point inclusive.</p></td>
<td style="vertical-align:middle;">1..10 Creates a range from 1 to 10 inclusive.</td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>...</b>
<p>Creates a range from start point to end point exclusive.</p></td>
<td style="vertical-align:middle;">1...10 Creates a range from 1 to 9.</td>
</tr>
</table>
<h2>Ruby defined? Operators</h2>
<p>defined? is a special operator that takes the form of a method call to determine whether or not the passed expression is defined. It returns a description string of the expression, or <i>nil</i> if the expression isn't defined.</p>
<p>There are various usage of defined? Operator</p>
<h3>Usage 1</h3>
<pre class="prettyprint notranslate">
defined? variable # True if variable is initialized
</pre>
<p><b>For Example</b></p>
<pre class="prettyprint notranslate">
foo = 42
defined? foo    # =&gt; "local-variable"
defined? $_     # =&gt; "global-variable"
defined? bar    # =&gt; nil (undefined)
</pre>
<h3>Usage 2</h3>
<pre class="prettyprint notranslate">
defined? method_call # True if a method is defined
</pre>
<p><b>For Example</b></p>
<pre class="prettyprint notranslate">
defined? puts        # =&gt; "method"
defined? puts(bar)   # =&gt; nil (bar is not defined here)
defined? unpack      # =&gt; nil (not defined here)
</pre>
<h3>Usage 3</h3>
<pre class="prettyprint notranslate">
# True if a method exists that can be called with super user
defined? super
</pre>
<p><b>For Example</b></p>
<pre class="prettyprint notranslate">
defined? super     # =&gt; "super" (if it can be called)
defined? super     # =&gt; nil (if it cannot be)
</pre>
<h3>Usage 4</h3>
<pre class="prettyprint notranslate">
defined? yield   # True if a code block has been passed
</pre>
<p><b>For Example</b></p>
<pre class="prettyprint notranslate">
defined? yield    # =&gt; "yield" (if there is a block passed)
defined? yield    # =&gt; nil (if there is no block)
</pre>
<h2>Ruby Dot "." and Double Colon "::" Operators</h2>
<p>You call a module method by preceding its name with the module's name and a period, and you reference a constant using the module name and two colons.</p>
<p>The <b>::</b> is a unary operator that allows: constants, instance methods and class methods defined within a class or module, to be accessed from anywhere outside the class or module.</p>
<p><b>Remember</b> in Ruby, classes and methods may be considered constants too.</p>
<p>You need to just prefix the <b>::</b> Const_name with an expression that returns the appropriate class or module object.</p>
<p>If no prefix expression is used, the main Object class is used by default.</p>
<p>Here are two examples &minus;</p>
<pre class="prettyprint notranslate">
MR_COUNT = 0         # constant defined on main Object class
module Foo
   MR_COUNT = 0
   ::MR_COUNT = 1    # set global count to 1
   MR_COUNT = 2      # set local count to 2
end
puts MR_COUNT        # this is the global constant
puts Foo::MR_COUNT   # this is the local "Foo" constant
</pre>
<p><b>Second Example</b></p>
<pre class="prettyprint notranslate">
CONST = ' out there'
class Inside_one
   CONST = proc {' in there'}
   def where_is_my_CONST
      ::CONST + ' inside one'
   end
end
class Inside_two
   CONST = ' inside two'
   def where_is_my_CONST
      CONST
   end
end
puts Inside_one.new.where_is_my_CONST
puts Inside_two.new.where_is_my_CONST
puts Object::CONST + Inside_two::CONST
puts Inside_two::CONST + CONST
puts Inside_one::CONST
puts Inside_one::CONST.call + Inside_two::CONST
</pre>
<h2>Ruby Operators Precedence</h2>
<p>The following table lists all operators from highest precedence to lowest.</p>
<table  class="table table-bordered">
<tr>
<th>Method</th>
<th>Operator</th>
<th>Description</th>
</tr>
<tr>
<td>Yes</td>
<td>::</td>
<td>Constant resolution operator</td>
</tr>
<tr>
<td>Yes</td>
<td>[ ] [ ]=</td>
<td>Element reference, element set</td>
</tr>
<tr>
<td>Yes</td>
<td>**</td>
<td>Exponentiation (raise to the power)</td>
</tr>
<tr>
<td>Yes</td>
<td>! ~ &plus; -</td>
<td>Not, complement, unary plus and minus (method names for the last two are &plus;&commat; and -&commat;)</td>
</tr>
<tr>
<td>Yes</td>
<td>* / %</td>
<td>Multiply, divide, and modulo</td>
</tr>
<tr>
<td>Yes</td>
<td>&plus; -</td>
<td>Addition and subtraction</td>
</tr>
<tr>
<td>Yes</td>
<td>&gt;&gt; &lt;&lt;</td>
<td>Right and left bitwise shift</td>
</tr>
<tr>
<td>Yes</td>
<td>&amp;</td>
<td>Bitwise 'AND'</td>
</tr>
<tr>
<td>Yes</td>
<td>^ |</td>
<td>Bitwise exclusive `OR' and regular `OR'</td>
</tr>
<tr>
<td>Yes</td>
<td>&lt;= &lt; &gt; &gt;=</td>
<td>Comparison operators</td>
</tr>
<tr>
<td>Yes</td>
<td>&lt;=&gt; == === != =~ !~</td>
<td>Equality and pattern match operators (!= and !~ may not be defined as methods)</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&amp;&amp;</td>
<td>Logical 'AND'</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>||</td>
<td>Logical 'OR'</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>.. ...</td>
<td>Range (inclusive and exclusive)</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>?&nbsp;:</td>
<td>Ternary if-then-else</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>= %= { /= -= &plus;= |= &amp;= &gt;&gt;= &lt;&lt;= *= &amp;&amp;= ||= **=</td>
<td>Assignment</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>defined?</td>
<td>Check if specified symbol defined</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>not</td>
<td>Logical negation</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>or and</td>
<td>Logical composition</td>
</tr>
</table>
<p><b>NOTE</b> &minus; Operators with a <i>Yes</i> in the method column are actually methods, and as such may be overridden.</p>
<h1>Ruby - Comments</h1>
<p>Comments are lines of annotation within Ruby code that are ignored at runtime. A single line comment starts with # character and they extend from # to the end of the line as follows &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby -w

# This is a single line comment.

puts "Hello, Ruby!"
</pre>
<p>When executed, the above program produces the following result &minus;</p>
<pre class="result notranslate">
Hello, Ruby!
</pre>
<h2>Ruby Multiline Comments</h2>
<p>You can comment multiple lines using <b>=begin</b> and <b>=end</b> syntax as follows &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby -w

puts "Hello, Ruby!"

=begin
This is a multiline comment and con spwan as many lines as you
like. But =begin and =end should come in the first line only. 
=end
</pre>
<p>When executed, the above program produces the following result &minus;</p>
<pre class="result notranslate">
Hello, Ruby!
</pre>
<p>Make sure trailing comments are far enough from the code and that they are easily distinguished. If more than one trailing comment exists in a block, align them. For example &minus;</p>
<pre class="prettyprint notranslate">
@counter      # keeps track times page has been hit
@siteCounter  # keeps track of times all pages have been hit
</pre>
<h1>Ruby - if...else, case, unless</h1>
<p>Ruby offers conditional structures that are pretty common to modern languages. Here, we will explain all the conditional statements and modifiers available in Ruby.</p>
<h2>Ruby if...else Statement</h2>
<h3>Syntax</h3>
<pre class="result notranslate">
if conditional [then]
   code...
[elsif conditional [then]
   code...]...
[else
   code...]
end
</pre>
<p><i>if</i> expressions are used for conditional execution. The values <i>false</i> and <i>nil</i> are false, and everything else are true. Notice Ruby uses elsif, not else if nor elif.</p>
<p>Executes <i>code</i> if the <i>conditional</i> is true. If the <i>conditional</i> is not true, <i>code</i> specified in the else clause is executed.</p>
<p>An if expression's <i>conditional</i> is separated from code by the reserved word <i>then</i>, a newline, or a semicolon.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

x = 1
if x &gt; 2
   puts "x is greater than 2"
elsif x &lt;= 2 and x!=0
   puts "x is 1"
else
   puts "I can't guess the number"
end
</pre>
<pre class="result notranslate">
x is 1
</pre>
<h2>Ruby if modifier</h2>
<h3>Syntax</h3>
<pre class="result notranslate">
code if condition
</pre>
<p>Executes <i>code</i> if the <i>conditional</i> is true.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

$debug = 1
print "debug\n" if $debug
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
debug
</pre>
<h2>Ruby unless Statement</h2>
<h3>Syntax</h3>
<pre class="result notranslate">
unless conditional [then]
   code
[else
   code ]
end
</pre>
<p>Executes <i>code</i> if <i>conditional</i> is false. If the <i>conditional</i> is true, code specified in the else clause is executed.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

x = 1 
unless x&gt;=2
   puts "x is less than 2"
 else
   puts "x is greater than 2"
end
</pre>
<p>This will produce the following result &minus;</p>
<pre class="prettyprint notranslate">
x is less than 2
</pre>
<h2>Ruby unless modifier</h2>
<h3>Syntax</h3>
<pre class="result notranslate">
code unless conditional
</pre>
<p>Executes <i>code</i> if <i>conditional</i> is false.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

$var =  1
print "1 -- Value is set\n" if $var
print "2 -- Value is set\n" unless $var

$var = false
print "3 -- Value is set\n" unless $var
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
1 -- Value is set
3 -- Value is set
</pre>
<h2>Ruby case Statement</h2>
<h3>Syntax</h3>
<pre class="result notranslate">
case expression
[when expression [, expression ...] [then]
   code ]...
[else
   code ]
end
</pre>
<p>Compares the <i>expression</i> specified by case and that specified by when using the === operator and executes the <i>code</i> of the when clause that matches.</p>
<p>The <i>expression</i> specified by the when clause is evaluated as the left operand. If no when clauses match, <i>case</i> executes the code of the <i>else</i> clause.</p>
<p>A <i>when</i> statement's expression is separated from code by the reserved word then, a newline, or a semicolon. Thus &minus;</p>
<pre class="result notranslate">
case expr0
when expr1, expr2
   stmt1
when expr3, expr4
   stmt2
else
   stmt3
end
</pre>
<p>is basically similar to the following &minus;</p>
<pre class="result notranslate">
_tmp = expr0
if expr1 === _tmp || expr2 === _tmp
   stmt1
elsif expr3 === _tmp || expr4 === _tmp
   stmt2
else
   stmt3
end
</pre>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

$age =  5
case $age
when 0 .. 2
   puts "baby"
when 3 .. 6
   puts "little child"
when 7 .. 12
   puts "child"
when 13 .. 18
   puts "youth"
else
   puts "adult"
end
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
little child
</pre>
<h1>Ruby - Loops</h1>
<p>Loops in Ruby are used to execute the same block of code a specified number of times. This chapter details all the loop statements supported by Ruby.</p>
<h2>Ruby while Statement</h2>
<h3>Syntax</h3>
<pre class="result notranslate">
while conditional [do]
   code
end
</pre>
<p>Executes <i>code</i> while <i>conditional</i> is true. A <i>while</i> loop's <i>conditional</i> is separated from <i>code</i> by the reserved word do, a newline, backslash \, or a semicolon ;.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

&dollar;i = 0
&dollar;num = 5

while &dollar;i &lt; &dollar;num  do
   puts("Inside the loop i = #&dollar;i" )
   &dollar;i &plus;=1
end
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Inside the loop i = 0
Inside the loop i = 1
Inside the loop i = 2
Inside the loop i = 3
Inside the loop i = 4
</pre>
<h2>Ruby while modifier</h2>
<h3>Syntax</h3>
<pre class="result notranslate">
code while condition

OR

begin 
  code 
end while conditional
</pre>
<p>Executes <i>code</i> while <i>conditional</i> is true.</p> 
<p>If a <i>while</i> modifier follows a <i>begin</i> statement with no <i>rescue</i> or ensure clauses, <i>code</i> is executed once before conditional is evaluated.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

&dollar;i = 0
&dollar;num = 5
begin
   puts("Inside the loop i = #&dollar;i" )
   &dollar;i &plus;=1
end while &dollar;i &lt; &dollar;num
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Inside the loop i = 0
Inside the loop i = 1
Inside the loop i = 2
Inside the loop i = 3
Inside the loop i = 4
</pre>
<h2>Ruby until Statement</h2>
<pre class="result notranslate">
until conditional [do]
   code
end
</pre>
<p>Executes <i>code</i> while <i>conditional</i> is false. An <i>until</i> statement's conditional is separated from <i>code</i> by the reserved word <i>do</i>, a newline, or a semicolon.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

&dollar;i = 0
&dollar;num = 5

until &dollar;i &gt; &dollar;num  do
   puts("Inside the loop i = #&dollar;i" )
   &dollar;i &plus;=1;
end
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Inside the loop i = 0
Inside the loop i = 1
Inside the loop i = 2
Inside the loop i = 3
Inside the loop i = 4
Inside the loop i = 5
</pre>
<h2>Ruby until modifier</h2>
<h3>Syntax</h3>
<pre class="result notranslate">
code until conditional

OR

begin
   code
end until conditional
</pre>
<p>Executes <i>code</i> while <i>conditional</i> is false.</p>
<p>If an <i>until</i> modifier follows a <i>begin</i> statement with no <i>rescue</i> or ensure clauses, <i>code</i> is executed once before <i>conditional</i> is evaluated.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

&dollar;i = 0
&dollar;num = 5
begin
   puts("Inside the loop i = #&dollar;i" )
   &dollar;i &plus;=1;
end until &dollar;i &gt; &dollar;num
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Inside the loop i = 0
Inside the loop i = 1
Inside the loop i = 2
Inside the loop i = 3
Inside the loop i = 4
Inside the loop i = 5
</pre>
<h2>Ruby for Statement</h2>
<h3>Syntax</h3>
<pre class="result notranslate">
for variable [, variable ...] in expression [do]
   code
end
</pre>
<p>Executes <i>code</i> once for each element in <i>expression</i>.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

for i in 0..5
   puts "Value of local variable is #{i}"
end
</pre>
<p>Here, we have defined the range 0..5. The statement for <i>i</i> in 0..5 will allow <i>i</i> to take values in the range from 0 to 5 (including 5). This will produce the following result &minus;</p>
<pre class="result notranslate">
Value of local variable is 0
Value of local variable is 1
Value of local variable is 2
Value of local variable is 3
Value of local variable is 4
Value of local variable is 5
</pre>
<p>A <i>for...in</i> loop is almost exactly equivalent to the following &minus;</p>
<pre class="result notranslate">
(expression).each do |variable[, variable...]| code end
</pre>
<p>except that a <i>for</i> loop doesn't create a new scope for local variables. A <i>for</i> loop's <i>expression</i> is separated from <i>code</i> by the reserved word do, a newline, or a semicolon.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

(0..5).each do |i|
   puts "Value of local variable is #{i}"
end
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Value of local variable is 0
Value of local variable is 1
Value of local variable is 2
Value of local variable is 3
Value of local variable is 4
Value of local variable is 5
</pre>
<h2>Ruby break Statement</h2>
<h3>Syntax</h3>
<pre class="result notranslate">
break
</pre>
<p>Terminates the most internal loop. Terminates a method with an associated block if called within the block (with the method returning nil).</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

for i in 0..5
   if i &gt; 2 then
      break
   end
   puts "Value of local variable is #{i}"
end
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Value of local variable is 0
Value of local variable is 1
Value of local variable is 2
</pre>
<h2>Ruby next Statement</h2>
<h3>Syntax</h3>
<pre class="result notranslate">
next
</pre>
<p>Jumps to the next iteration of the most internal loop. Terminates execution of a block if called within a block (with <i>yield</i> or call returning nil).</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

for i in 0..5
   if i &lt; 2 then
      next
   end
   puts "Value of local variable is #{i}"
end
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Value of local variable is 2
Value of local variable is 3
Value of local variable is 4
Value of local variable is 5
</pre>
<h2>Ruby redo Statement</h2>
<h3>Syntax</h3>
<pre class="result notranslate">
redo
</pre>
<p>Restarts this iteration of the most internal loop, without checking loop condition. Restarts <i>yield</i> or <i>call</i> if called within a block.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

for i in 0..5
   if i &lt; 2 then
      puts "Value of local variable is #{i}"
      redo
   end
end
</pre>
<p>This will produce the following result and will go in an infinite loop &minus;</p>
<pre class="result notranslate">
Value of local variable is 0
Value of local variable is 0
............................
</pre>
<h2>Ruby retry Statement</h2>
<h3>Syntax</h3>
<pre class="result notranslate">
retry
</pre>
<p>If <i>retry</i> appears in rescue clause of begin expression, restart from the beginning of the begin body.</p>
<pre class="prettyprint notranslate">
begin
   do_something # exception raised
rescue
   # handles error
   retry  # restart from beginning
end
</pre>
<p>If retry appears in the iterator, the block, or the body of the <i>for</i> expression, restarts the invocation of the iterator call. Arguments to the iterator is re-evaluated.</p>
<pre class="prettyprint notranslate">
for i in 1..5
   retry if some_condition # restart from i == 1
end
</pre>
<h3>Example</h3>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

   for i in 0..5
      if i &gt; 2
puts "Value of local variable is #{i}"
end
</pre>
<p>This will produce the following result and will go in an infinite loop &minus;</p>
<pre class="result notranslate">
Value of local variable is 1
Value of local variable is 2
Value of local variable is 1
Value of local variable is 2
Value of local variable is 1
Value of local variable is 2
............................
</pre>
<h1>Ruby - Methods</h1>
<p>Ruby methods are very similar to functions in any other programming language. Ruby methods are used to bundle one or more repeatable statements into a single unit.</p>
<p>Method names should begin with a lowercase letter. If you begin a method name with an uppercase letter, Ruby might think that it is a constant and hence can parse the call incorrectly.</p>
<p>Methods should be defined before calling them, otherwise Ruby will raise an exception for undefined method invoking.</p>
<h2>Syntax</h2>
<pre class="result notranslate">
def method_name [( [arg [= default]]...[, * arg [, &amp;expr ]])]
   expr..
end
</pre>
<p>So, you can define a simple method as follows &minus;</p>
<pre class="result notranslate">
def method_name 
   expr..
end
</pre>
<p>You can represent a method that accepts parameters like this &minus;</p>
<pre class="result notranslate">
def method_name (var1, var2)
   expr..
end
</pre>
<p>You can set default values for the parameters, which will be used if method is called without passing the required parameters &minus;</p>
<pre class="result notranslate">
def method_name (var1 = value1, var2 = value2)
   expr..
end
</pre>
<p>Whenever you call the simple method, you write only the method name as follows &minus;</p>
<pre class="result notranslate">
method_name
</pre>
<p>However, when you call a method with parameters, you write the method name along with the parameters, such as &minus;</p>
<pre class="result notranslate">
method_name 25, 30
</pre>
<p>The most important drawback to using methods with parameters is that you need to remember the number of parameters whenever you call such methods. For example, if a method accepts three parameters and you pass only two, then Ruby displays an error.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

def test(a1 = "Ruby", a2 = "Perl")
   puts "The programming language is #{a1}"
   puts "The programming language is #{a2}"
end
test "C", "C++"
test
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
The programming language is C
The programming language is C++
The programming language is Ruby
The programming language is Perl
</pre>
<h2>Return Values from Methods</h2>
<p>Every method in Ruby returns a value by default. This returned value will be the value of the last statement. For example &minus;</p>
<pre class="prettyprint notranslate">
def test
   i = 100
   j = 10
   k = 0
end
</pre>
<p>This method, when called, will return the last declared variable <i>k</i>.</p>
<h2>Ruby return Statement</h2>
<p>The <i>return</i> statement in ruby is used to return one or more values from a Ruby Method.</p>
<h3>Syntax</h3>
<pre class="result notranslate">
return [expr[`,' expr...]]
</pre>
<p>If more than two expressions are given, the array containing these values will be the return value. If no expression given, nil will be the return value.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate">
return

OR

return 12

OR

return 1,2,3
</pre>
<p>Have a look at this example &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

def test
   i = 100
   j = 200
   k = 300
return i, j, k
end
var = test
puts var
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
100
200
300
</pre>
<h2>Variable Number of Parameters</h2>
<p>Suppose you declare a method that takes two parameters, whenever you call this method, you need to pass two parameters along with it.</p>
<p>However, Ruby allows you to declare methods that work with a variable number of parameters. Let us examine a sample of this &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

def sample (*test)
   puts "The number of parameters is #{test.length}"
   for i in 0...test.length
      puts "The parameters are #{test[i]}"
   end
end
sample "Zara", "6", "F"
sample "Mac", "36", "M", "MCA"
</pre>
<p>In this code, you have declared a method sample that accepts one parameter test. However, this parameter is a variable parameter. This means that this parameter can take in any number of variables. So, the above code will produce the following result &minus;</p>
<pre class="result notranslate">
The number of parameters is 3
The parameters are Zara
The parameters are 6
The parameters are F
The number of parameters is 4
The parameters are Mac
The parameters are 36
The parameters are M
The parameters are MCA
</pre>
<h2>Class Methods</h2>
<p>When a method is defined outside of the class definition, the method is marked as <i>private</i> by default. On the other hand, the methods defined in the class definition are marked as public by default. The default visibility and the <i>private</i> mark of the methods can be changed by <i>public</i> or <i>private</i> of the Module.</p>
<p>Whenever you want to access a method of a class, you first need to instantiate the class. Then, using the object, you can access any member of the class.</p>
<p>Ruby gives you a way to access a method without instantiating a class. Let us see how a class method is declared and accessed &minus;</p>
<pre class="prettyprint notranslate">
class Accounts
   def reading_charge
   end
   def Accounts.return_date
   end
end
</pre>
<p>See how the method return_date is declared. It is declared with the class name followed by a period, which is followed by the name of the method. You can access this class method directly as follows &minus;</p>
<pre class="result notranslate">
Accounts.return_date
</pre>
<p>To access this method, you need not create objects of the class Accounts.</p>
<h2>Ruby alias Statement</h2>
<p>This gives alias to methods or global variables. Aliases cannot be defined within the method body. The alias of the method keeps the current definition of the method, even when methods are overridden.</p>
<p>Making aliases for the numbered global variables (&dollar;1, &dollar;2,...) is prohibited. Overriding the built-in global variables may cause serious problems.</p>
<h3>Syntax</h3>
<pre class="result notranslate">
alias method-name method-name
alias global-variable-name global-variable-name
</pre>
<h3>Example</h3>
<pre class="result notranslate">
alias foo bar
alias &dollar;MATCH &dollar;&amp;
</pre>
<p>Here we have defined foo alias for bar, and &dollar;MATCH is an alias for &dollar;&amp;</p>
<h2>Ruby undef Statement</h2>
<p>This cancels the method definition. An <i>undef</i> cannot appear in the method body.</p>
<p>By using <i>undef</i> and <i>alias</i>, the interface of the class can be modified independently from the superclass, but notice it may be broke programs by the internal method call to self.</p>
<h3>Syntax</h3>
<pre class="result notranslate">
undef method-name
</pre>
<h3>Example</h3>
<p>To undefine a method called <i>bar</i> do the following &minus;</p>
<pre class="prettyprint notranslate">
undef bar
</pre>
<h1>Ruby - Blocks</h1>
<p>You have seen how Ruby defines methods where you can put number of statements and then you call that method. Similarly, Ruby has a concept of Block.</p>
<ul class="list">
<li><p>A block consists of chunks of code.</p></li>
<li><p>You assign a name to a block.</p></li>
<li><p>The code in the block is always enclosed within braces ({}).</p></li>
<li><p>A block is always invoked from a function with the same name as that of the block. This means that if you have a block with the name <i>test</i>, then you use the function <i>test</i> to invoke this block.</p></li>
<li><p>You invoke a block by using the <i>yield</i> statement.</p></li>
</ul>
<h2>Syntax</h2>
<pre class="result notranslate">
block_name{
   statement1
   statement2
   ..........
}
</pre>
<p>Here, you will learn to invoke a block by using a simple <i>yield</i> statement. You will also learn to use a <i>yield</i> statement with parameters for invoking a block. You will check the sample code with both types of <i>yield</i> statements.</p>
<h2>The yield Statement</h2>
<p>Let's look at an example of the yield statement &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

def test
   puts "You are in the method"
   yield
   puts "You are again back to the method"
   yield
end
test {puts "You are in the block"}
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
You are in the method
You are in the block
You are again back to the method
You are in the block
</pre>
<p>You also can pass parameters with the yield statement. Here is an example &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

def test
   yield 5
   puts "You are in the method test"
   yield 100
end
test {|i| puts "You are in the block #{i}"}
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
You are in the block 5
You are in the method test
You are in the block 100
</pre>
<p>Here, the <i>yield</i> statement is written followed by parameters. You can even pass more than one parameter. In the block, you place a variable between two vertical lines (||) to accept the parameters. Therefore, in the preceding code, the yield 5 statement passes the value 5 as a parameter to the test block.</p>
<p>Now, look at the following statement &minus;</p>
<pre class="prettyprint notranslate">
test {|i| puts "You are in the block #{i}"}
</pre>
<p>Here, the value 5 is received in the variable <i>i</i>. Now, observe the following <i>puts</i> statement &minus;</p>
<pre class="prettyprint notranslate">
puts "You are in the block #{i}"
</pre>
<p>The output of this <i>puts</i> statement is &minus;</p>
<pre class="result notranslate">
You are in the block 5
</pre>
<p>If you want to pass more than one parameters, then the <i>yield</i> statement becomes &minus;</p>
<pre class="prettyprint notranslate">
yield a, b
</pre>
<p>and the block is &minus;</p>
<pre class="prettyprint notranslate">
test {|a, b| statement}
</pre>
<p>The parameters will be separated by commas.</p>
<h2>Blocks and Methods</h2>
<p>You have seen how a block and a method can be associated with each other. You normally invoke a block by using the yield statement from a method that has the same name as that of the block. Therefore, you write &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

def test
  yield
end
test{ puts "Hello world"}
</pre>
<p>This example is the simplest way to implement a block. You call the test block by using the <i>yield</i> statement.</p>
<p>But if the last argument of a method is preceded by &amp;, then you can pass a block to this method and this block will be assigned to the last parameter. In case both * and &amp; are present in the argument list, &amp; should come later.</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

def test(&amp;block)
   block.call
end
test { puts "Hello World!"}
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Hello World!
</pre>
<h2>BEGIN and END Blocks</h2>
<p>Every Ruby source file can declare blocks of code to be run as the file is being loaded (the BEGIN blocks) and after the program has finished executing (the END blocks).</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

BEGIN { 
   # BEGIN block code 
   puts "BEGIN code block"
} 

END { 
   # END block code 
   puts "END code block"
}
   # MAIN block code 
puts "MAIN code block"
</pre>
<p>A program may include multiple BEGIN and END blocks. BEGIN blocks are executed in the order they are encountered. END blocks are executed in reverse order. When executed, the above program produces the following result &minus;</p>
<pre class="result notranslate">
BEGIN code block
MAIN code block
END code block
</pre>
<h1>Ruby - Modules and Mixins</h1>
<p>Modules are a way of grouping together methods, classes, and constants. Modules give you two major benefits.</p>
<ul class="list">
<li><p>Modules provide a <i>namespace</i> and prevent name clashes.</p></li>
<li><p>Modules implement the <i>mixin</i> facility.</p></li>
</ul>
<p>Modules define a namespace, a sandbox in which your methods and constants can play without having to worry about being stepped on by other methods and constants.</p>
<h2>Syntax</h2>
<pre class="result notranslate">
module Identifier
   statement1
   statement2
   ...........
end
</pre>
<p>Module constants are named just like class constants, with an initial uppercase letter. The method definitions look similar, too: Module methods are defined just like class methods.</p>
<p>As with class methods, you call a module method by preceding its name with the module's name and a period, and you reference a constant using the module name and two colons.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

# Module defined in trig.rb file

module Trig
   PI = 3.141592654
   def Trig.sin(x)
   # ..
   end
   def Trig.cos(x)
   # ..
   end
end
</pre>
<p>We can define one more module with the same function name but different functionality &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

# Module defined in moral.rb file

module Moral
   VERY_BAD = 0
   BAD = 1
   def Moral.sin(badness)
   # ...
   end
end
</pre>
<p>Like class methods, whenever you define a method in a module, you specify the module name followed by a dot and then the method name.</p>
<h2>Ruby require Statement</h2>
<p>The require statement is similar to the include statement of C and C++ and the import statement of Java. If a third program wants to use any defined module, it can simply load the module files using the Ruby <i>require</i> statement &minus;</p>
<h3>Syntax</h3>
<pre class="result notranslate">
require filename
</pre>
<p>Here, it is not required to give <b>.rb</b> extension along with a file name.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate">
$LOAD_PATH &lt;&lt; '.'

require 'trig.rb'
require 'moral'

y = Trig.sin(Trig::PI/4)
wrongdoing = Moral.sin(Moral::VERY_BAD)
</pre>
<p>Here we are using <b>$LOAD_PATH &lt;&lt; '.'</b> to make Ruby aware that included files must be searched in the current directory. If you do not want to use $LOAD_PATH then you can use <b>require_relative</b> to include files from a relative directory.</p>
<p><b>IMPORTANT</b> &minus; Here, both the files contain the same function name. So, this will result in code ambiguity while including in calling program but modules avoid this code ambiguity and we are able to call appropriate function using module name.</p>
<h2>Ruby include Statement</h2>
<p>You can embed a module in a class. To embed a module in a class, you use the <i>include</i> statement in the class &minus;</p>
<h3>Syntax</h3>
<pre class="result notranslate">
include modulename
</pre>
<p>If a module is defined in a separate file, then it is required to include that file using <i>require</i> statement before embedding module in a class.</p>
<h3>Example</h3>
<p>Consider the following module written in <i>support.rb</i> file.</p>
<pre class="prettyprint notranslate" id="support_rb">
module Week
   FIRST_DAY = "Sunday"
   def Week.weeks_in_month
      puts "You have four weeks in a month"
   end
   def Week.weeks_in_year
      puts "You have 52 weeks in a year"
   end
end
</pre>
<p>Now, you can include this module in a class as follows &minus;</p>
<pre class="prettyprint notranslate" title=",,,support_rb">
#!/usr/bin/ruby
$LOAD_PATH &lt;&lt; '.'
require "support"

class Decade
include Week
   no_of_yrs = 10
   def no_of_months
      puts Week::FIRST_DAY
      number = 10*12
      puts number
   end
end
d1 = Decade.new
puts Week::FIRST_DAY
Week.weeks_in_month
Week.weeks_in_year
d1.no_of_months
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Sunday
You have four weeks in a month
You have 52 weeks in a year
Sunday
120
</pre>
<h2>Mixins in Ruby</h2>
<p>Before going through this section, we assume you have the knowledge of Object Oriented Concepts.</p>
<p>When a class can inherit features from more than one parent class, the class is supposed to show multiple inheritance.</p>
<p>Ruby does not support multiple inheritance directly but Ruby Modules have another wonderful use. At a stroke, they pretty much eliminate the need for multiple inheritance, providing a facility called a <i>mixin</i>.</p>
<p>Mixins give you a wonderfully controlled way of adding functionality to classes. However, their true power comes out when the code in the mixin starts to interact with code in the class that uses it.</p>
<p>Let us examine the following sample code to gain an understand of mixin &minus;</p>
<pre class="prettyprint notranslate">
module A
   def a1
   end
   def a2
   end
end
module B
   def b1
   end
   def b2
   end
end

class Sample
include A
include B
   def s1
   end
end

samp = Sample.new
samp.a1
samp.a2
samp.b1
samp.b2
samp.s1
</pre>
<p>Module A consists of the methods a1 and a2. Module B consists of the methods b1 and b2. The class Sample includes both modules A and B. The class Sample can access all four methods, namely, a1, a2, b1, and b2. Therefore, you can see that the class Sample inherits from both the modules. Thus, you can say the class Sample shows multiple inheritance or a <i>mixin</i>.</p>
<h1>Ruby - Strings</h1>
<p>A String object in Ruby holds and manipulates an arbitrary sequence of one or more bytes, typically representing characters that represent human language.</p>
<p>The simplest string literals are enclosed in single quotes (the apostrophe character). The text within the quote marks is the value of the string &minus;</p>
<pre class="result notranslate">
'This is a simple Ruby string literal'
</pre>
<p>If you need to place an apostrophe within a single-quoted string literal, precede it with a backslash, so that the Ruby interpreter does not think that it terminates the string &minus;</p>
<pre class="result notranslate">
'Won\'t you read O\'Reilly\'s book?'
</pre>
<p>The backslash also works to escape another backslash, so that the second backslash is not itself interpreted as an escape character.</p>
<p>Following are the string-related features of Ruby.</p>
<h2>Expression Substitution</h2>
<p>Expression substitution is a means of embedding the value of any Ruby expression into a string using #{ and } &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

x, y, z = 12, 36, 72
puts "The value of x is #{ x }."
puts "The sum of x and y is #{ x + y }."
puts "The average was #{ (x + y + z)/3 }."
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
The value of x is 12.
The sum of x and y is 48.
The average was 40.
</pre>
<h2>General Delimited Strings</h2>
<p>With general delimited strings, you can create strings inside a pair of matching though arbitrary delimiter characters, e.g., !, (, {, &lt;, etc., preceded by a percent character (%). Q, q, and x have special meanings. General delimited strings can be &minus;</p>
<pre class="result notranslate">
%{Ruby is fun.}  equivalent to "Ruby is fun."
%Q{ Ruby is fun. } equivalent to " Ruby is fun. "
%q[Ruby is fun.]  equivalent to a single-quoted string
%x!ls! equivalent to back tick command output `ls`
</pre>
<h2>Escape Characters</h2>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i>Following table is a list of escape or non-printable characters that can be represented with the backslash notation.</label>
<div class="toggle-content" style="display: none;"> 
<p><b>NOTE</b> &minus; In a double-quoted string, an escape character is interpreted; in a single-quoted string, an escape character is preserved.</p>
<table class="table table-bordered">
<tr>
<th style="width:25%">Backslash notation</th>
<th style="width:25%">Hexadecimal character</th>
<th style="width:50%">Description</th>
</tr>
<tr>
<td>\a</td>
<td>0x07</td>
<td>Bell or alert</td>
</tr>
<tr>
<td>\b</td>
<td>0x08</td>
<td>Backspace</td>
</tr>
<tr>
<td>\cx</td>
<td>&nbsp;</td>
<td>Control-x</td>
</tr>
<tr>
<td>\C-x</td>
<td>&nbsp;</td>
<td>Control-x</td>
</tr>
<tr>
<td>\e</td>
<td>0x1b</td>
<td>Escape</td>
</tr>
<tr>
<td>\f</td>
<td>0x0c</td>
<td>Formfeed</td>
</tr>
<tr>
<td>\M-\C-x</td>
<td>&nbsp;</td>
<td>Meta-Control-x</td>
</tr>
<tr>
<td>\n</td>
<td>0x0a</td>
<td>Newline</td>
</tr>
<tr>
<td>\nnn</td>
<td>&nbsp;</td>
<td>Octal notation, where n is in the range 0.7</td>
</tr>
<tr>
<td>\r</td>
<td>0x0d</td>
<td>Carriage return</td>
</tr>
<tr>
<td>\s</td>
<td>0x20</td>
<td>Space</td>
</tr>
<tr>
<td>\t</td>
<td>0x09</td>
<td>Tab</td>
</tr>
<tr>
<td>\v</td>
<td>0x0b</td>
<td>Vertical tab</td>
</tr>
<tr>
<td>\x</td>
<td>&nbsp;</td>
<td>Character x</td>
</tr>
<tr>
<td>\xnn</td>
<td>&nbsp;</td>
<td>Hexadecimal notation, where n is in the range 0.9, a.f, or A.F</td>
</tr>
</table>
</div>
</section>
<h2>Character Encoding</h2>
<p>The default character set for Ruby is ASCII, whose characters may be represented by single bytes. If you use UTF-8, or another modern character set, characters may be represented in one to four bytes.</p>
<p>You can change your character set using $KCODE at the beginning of your program, like this &minus;</p>
<pre class="result notranslate">
$KCODE = 'u'
</pre>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i>Following are the possible values for $KCODE.</label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Code &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle">1</td>
<td><b>a</b><p>ASCII (same as none). This is the default.</p></td>
</tr>
<tr>
<td style="vertical-align:middle">2</td>
<td><b>e</b><p>EUC.</p></td>
</tr>
<tr>
<td style="vertical-align:middle">3</td>
<td><b>n</b><p>None (same as ASCII).</p></td>
</tr>
<tr>
<td style="vertical-align:middle">4</td>
<td><b>u</b><p>UTF-8.</p></td>
</tr>
</table>
</div>
</section>
<h2>String Built-in Methods</h2>
<p>We need to have an instance of String object to call a String method. Following is the way to create an instance of String object &minus;</p>
<pre class="result notranslate">
new [String.new(str = "")]
</pre>
<p>This will return a new string object containing a copy of <i>str</i>. Now, using <i>str</i> object, we can all use any available instance methods. For example &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

myStr = String.new("THIS IS TEST")
foo = myStr.downcase

puts "#{foo}"
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
this is test
</pre>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i>Following are the public String methods ( Assuming str is a String object ) &minus;</label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Methods &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>str % arg</b>
<p>Formats a string using a format specification. arg must be an array if it contains more than one substitution. For information on the format specification, see sprintf under "Kernel Module."</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>str * integer</b>
<p>Returns a new string containing integer times str. In other words, str is repeated integer imes.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>str &plus; other_str</b>
<p>Concatenates other_str to str.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>str &lt;&lt; obj</b>
<p>Concatenates an object to str. If the object is a Fixnum in the range 0.255, it is converted to a character. Compare it with concat.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>str &lt;=&gt; other_str</b>
<p>Compares str with other_str, returning -1 (less than), 0 (equal), or 1 (greater than). The comparison is case-sensitive.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>str == obj</b>
<p>Tests str and obj for equality. If obj is not a String, returns false; returns true if str &lt;=&gt; obj returns 0.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><b>str =~ obj</b>
<p>Matches str against a regular expression pattern obj. Returns the position where the match starts; otherwise, false.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">8</td>
<td><b>str.capitalize</b>
<p>Capitalizes a string.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">9</td>
<td><b>str.capitalize!</b>
<p>Same as capitalize, but changes are made in place.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">10</td>
<td><b>str.casecmp</b>
<p>Makes a case-insensitive comparison of strings.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">11</td>
<td><b>str.center</b>
<p>Centers a string.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">12</td>
<td><b>str.chomp</b>
<p>Removes the record separator ($/), usually \n, from the end of a string. If no record separator exists, does nothing.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">13</td>
<td><b>str.chomp!</b>
<p>Same as chomp, but changes are made in place.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">14</td>
<td><b>str.chop</b>
<p>Removes the last character in str.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">15</td>
<td><b>str.chop!</b>
<p>Same as chop, but changes are made in place.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">16</td>
<td><b>str.concat(other_str)</b>
<p>Concatenates other_str to str.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">17</td>
<td><b>str.count(str, ...)</b>
<p>Counts one or more sets of characters. If there is more than one set of characters, counts the intersection of those sets</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">18</td>
<td><b>str.crypt(other_str)</b>
<p>Applies a one-way cryptographic hash to str. The argument is the salt string, which should be two characters long, each character in the range a.z, A.Z, 0.9, . or /.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">19</td>
<td><b>str.delete(other_str, ...)</b>
<p>Returns a copy of str with all characters in the intersection of its arguments deleted.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">20</td>
<td><b>str.delete!(other_str, ...)</b>
<p>Same as delete, but changes are made in place.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">21</td>
<td><b>str.downcase</b>
<p>Returns a copy of str with all uppercase letters replaced with lowercase.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">22</td>
<td><b>str.downcase!</b>
<p>Same as downcase, but changes are made in place.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">23</td>
<td><b>str.dump</b>
<p>Returns a version of str with all nonprinting characters replaced by \nnn notation and all special characters escaped.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">24</td>
<td><b>str.each(separator = &dollar;/) { |substr| block }</b>
<p>Splits str using argument as the record separator ($/ by default), passing each substring to the supplied block.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">25</td>
<td><b>str.each_byte { |fixnum| block }</b>
<p>Passes each byte from str to the block, returning each byte as a decimal representation of the byte.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">26</td>
<td><b>str.each_line(separator=$/) { |substr| block }</b>
<p>Splits str using argument as the record separator ($/ by default), passing each substring to the supplied block.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">27</td>
<td><b>str.empty?</b>
<p>Returns true if str is empty (has a zero length).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">28</td>
<td><b>str.eql?(other)</b>
<p>Two strings are equal if they have the same length and content.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">29</td>
<td><p><b>str.gsub(pattern, replacement) [or]</b></p>
<p><b>str.gsub(pattern) { |match| block }</b></p>
<p>Returns a copy of str with all occurrences of pattern replaced with either replacement or the value of the block. The pattern will typically be a Regexp; if it is a String then no regular expression metacharacters will be interpreted (that is, /\d/ will match a digit, but '\d' will match a backslash followed by a 'd')</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">30</td>
<td><b>str[fixnum] [or] str[fixnum,fixnum] [or] str[range] [or] str[regexp] [or] str[regexp, fixnum] [or] str[other_str]</b>
<p>References str, using the following arguments: one Fixnum, returns a character code at fixnum; two Fixnums, returns a substring starting at an offset (first fixnum) to length (second fixnum); range, returns a substring in the range; regexp returns portion of matched string; regexp with fixnum, returns matched data at fixnum; other_str returns substring matching other_str. A negative Fixnum starts at end of string with -1.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">31</td>
<td><b>str[fixnum] = fixnum [or] str[fixnum] = new_str [or] str[fixnum, fixnum] = new_str [or] str[range] = aString [or] str[regexp] = new_str [or] str[regexp, fixnum] = new_str [or] str[other_str] = new_str ]</b>
<p>Replace (assign) all or part of a string. Synonym of slice!.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">32</td>
<td><b>str.gsub!(pattern, replacement) [or] str.gsub!(pattern) { |match|block }</b>
<p>Performs the substitutions of String#gsub in place, returning str, or nil if no substitutions were performed.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">33</td>
<td><b>str.hash</b>
<p>Returns a hash based on the string's length and content.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">34</td>
<td><b>str.hex</b>
<p>Treats leading characters from str as a string of hexadecimal digits (with an optional sign and an optional 0x) and returns the corresponding number. Zero is returned on error.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">35</td>
<td><b>str.include? other_str [or] str.include? fixnum</b>
<p>Returns true if str contains the given string or character.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">36</td>
<td><p><b>str.index(substring [, offset]) [or]</b></p>
<p><b>str.index(fixnum [, offset]) [or]</b></p>
<p><b>str.index(regexp [, offset])</b></p>
<p>Returns the index of the first occurrence of the given substring, character (fixnum), or pattern (regexp) in str. Returns nil if not found. If the second parameter is present, it specifies the position in the string to begin the search.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">37</td>
<td><b>str.insert(index, other_str)</b>
<p>Inserts other_str before the character at the given index, modifying str. Negative indices count from the end of the string, and insert after the given character. The intent is to insert a string so that it starts at the given index.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">38</td>
<td><b>str.inspect</b>
<p>Returns a printable version of str, with special characters escaped.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">39</td>
<td><b>str.intern [or] str.to_sym</b>
<p>Returns the Symbol corresponding to str, creating the symbol if it did not previously exist.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">40</td>
<td><b>str.length</b>
<p>Returns the length of str. Compare size.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">41</td>
<td><b>str.ljust(integer, padstr = ' ')</b>
<p>If integer is greater than the length of str, returns a new String of length integer with str left-justified and padded with padstr; otherwise, returns str.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">42</td>
<td><b>str.lstrip</b>
<p>Returns a copy of str with leading whitespace removed.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">43</td>
<td><b>str.lstrip!</b>
<p>Removes leading whitespace from str, returning nil if no change was made.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">44</td>
<td><b>str.match(pattern)</b>
<p>Converts pattern to a Regexp (if it isn't already one), then invokes its match method on str.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">45</td>
<td><b>str.oct</b>
<p>Treats leading characters of str as a string of octal digits (with an optional sign) and returns the corresponding number. Returns 0 if the conversion fails.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">46</td>
<td><b>str.replace(other_str)</b>
<p>Replaces the contents and taintedness of str with the corresponding values in other_str.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">47</td>
<td><b>str.reverse</b>
<p>Returns a new string with the characters from str in reverse order.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">48</td>
<td><b>str.reverse!</b>
<p>Reverses str in place.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">49</td>
<td><p><b>str.rindex(substring [, fixnum]) [or]</b></p>
<p><b>str.rindex(fixnum [, fixnum]) [or]</b></p>
<p><b>str.rindex(regexp [, fixnum])</b></p>
<p>Returns the index of the last occurrence of the given substring, character (fixnum), or pattern (regexp) in str. Returns nil if not found. If the second parameter is present, it specifies the position in the string to end the search.characters beyond this point won't be considered.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">50.</td>
<td><b>str.rjust(integer, padstr = ' ')</b>
<p>If integer is greater than the length of str, returns a new String of length integer with str right-justified and padded with padstr; otherwise, returns str.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">51</td>
<td><b>str.rstrip</b>
<p>Returns a copy of str with trailing whitespace removed.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">52</td>
<td><b>str.rstrip!</b>
<p>Removes trailing whitespace from str, returning nil if no change was made.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">53</td>
<td><p><b>str.scan(pattern) [or]</b></p>
<p><b>str.scan(pattern) { |match, ...| block }</b></p>
<p>Both forms iterate through str, matching the pattern (which may be a Regexp or a String). For each match, a result is generated and either added to the result array or passed to the block. If the pattern contains no groups, each individual result consists of the matched string, $&. If the pattern contains groups, each individual result is itself an array containing one entry per group.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">54</td>
<td><p><b>str.slice(fixnum) [or] str.slice(fixnum, fixnum) [or]</b></p>
<p><b>str.slice(range) [or] str.slice(regexp) [or]</b></p>
<p><b>str.slice(regexp, fixnum) [or] str.slice(other_str)</b></p>
<p><b>See str[fixnum], etc.</b></p>
<p><b>str.slice!(fixnum) [or] str.slice!(fixnum, fixnum) [or]</b></p>
<p><b>str.slice!(range) [or] str.slice!(regexp) [or]</b></p>
<p><b>str.slice!(other_str)</b></p>
<p>Deletes the specified portion from str, and returns the portion deleted. The forms that take a Fixnum will raise an IndexError if the value is out of range; the Range form will raise a RangeError, and the Regexp and String forms will silently ignore the assignment.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">55</td>
<td><b>str.split(pattern = &dollar;, [limit])</b>
<p>Divides str into substrings based on a delimiter, returning an array of these substrings.</p>
<p>If <i>pattern</i> is a String, then its contents are used as the delimiter when splitting str. If pattern is a single space, str is split on whitespace, with leading whitespace and runs of contiguous whitespace characters ignored.</p>
<p>If <i>pattern</i> is a Regexp, str is divided where the pattern matches. Whenever the pattern matches a zero-length string, str is split into individual characters.</p>
<p>If <i>pattern</i> is omitted, the value of $; is used. If $; is nil (which is the default), str is split on whitespace as if ` ` were specified.</p>
<p>If the <i>limit</i> parameter is omitted, trailing null fields are suppressed. If limit is a positive number, at most that number of fields will be returned (if limit is 1, the entire string is returned as the only entry in an array). If negative, there is no limit to the number of fields returned, and trailing null fields are not suppressed.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">56</td>
<td><b>str.squeeze([other_str]*)</b>
<p>Builds a set of characters from the other_str parameter(s) using the procedure described for String#count. Returns a new string where runs of the same character that occur in this set are replaced by a single character. If no arguments are given, all runs of identical characters are replaced by a single character.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">57</td>
<td><b>str.squeeze!([other_str]*)</b>
<p>Squeezes str in place, returning either str, or nil if no changes were made.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">58</td>
<td><b>str.strip</b>
<p>Returns a copy of str with leading and trailing whitespace removed.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">59</td>
<td><b>str.strip!</b>
<p>Removes leading and trailing whitespace from str. Returns nil if str was not altered.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">60</td>
<td><p><b>str.sub(pattern, replacement) [or]</b></p>
<p><b>str.sub(pattern) { |match| block }</b></p>
<p>Returns a copy of str with the first occurrence of pattern replaced with either replacement or the value of the block. The pattern will typically be a Regexp; if it is a String then no regular expression metacharacters will be interpreted.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">61</td>
<td><p><b>str.sub!(pattern, replacement) [or]</b></p>
<p><b>str.sub!(pattern) { |match| block }</b></p>
<p>Performs the substitutions of String#sub in place, returning str, or nil if no substitutions were performed.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">62</td>
<td><b>str.succ [or] str.next</b>
<p>Returns the successor to str.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">63</td>
<td><b>str.succ! [or] str.next!</b>
<p>Equivalent to String#succ, but modifies the receiver in place.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">64</td>
<td><b>str.sum(n = 16)</b>
<p>Returns a basic n-bit checksum of the characters in str, where n is the optional Fixnum parameter, defaulting to 16. The result is simply the sum of the binary value of each character in str modulo 2n - 1. This is not a particularly good checksum.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">65</td>
<td><b>str.swapcase</b>
<p>Returns a copy of str with uppercase alphabetic characters converted to lowercase and lowercase characters converted to uppercase.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">66</td>
<td><b>str.swapcase!</b>
<p>Equivalent to String#swapcase, but modifies the receiver in place, returning str, or nil if no changes were made.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">67</td>
<td><b>str.to_f</b>
<p>&gt;Returns the result of interpreting leading characters in str as a floating-point number. Extraneous characters past the end of a valid number are ignored. If there is not a valid number at the start of str, 0.0 is returned. This method never raises an exception.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">68</td>
<td><b>str.to_i(base = 10)</b>
<p>Returns the result of interpreting leading characters in str as an integer base (base 2, 8, 10, or 16). Extraneous characters past the end of a valid number are ignored. If there is not a valid number at the start of str, 0 is returned. This method never raises an exception.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">69</td>
<td><b>str.to_s [or] str.to_str</b>
<p>Returns the receiver.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">70</td>
<td><b>str.tr(from_str, to_str)</b>
<p>Returns a copy of str with the characters in from_str replaced by the corresponding characters in to_str. If to_str is shorter than from_str, it is padded with its last character. Both strings may use the c1.c2 notation to denote ranges of characters, and from_str may start with a ^, which denotes all characters except those listed.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">71</td>
<td><b>str.tr!(from_str, to_str)</b>
<p>Translates str in place, using the same rules as String#tr. Returns str, or nil if no changes were made.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">72</td>
<td><b>str.tr_s(from_str, to_str)</b>
<p>Processes a copy of str as described under String#tr, then removes duplicate characters in regions that were affected by the translation.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">73</td>
<td><b>str.tr_s!(from_str, to_str)</b>
<p>Performs String#tr_s processing on str in place, returning str, or nil if no changes were made.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">74</td>
<td><b>str.unpack(format)</b>
<p>&gt;Decodes str (which may contain binary data) according to the format string, returning an array of each value extracted. The format string consists of a sequence of single-character directives, summarized in Table 18. Each directive may be followed by a number, indicating the number of times to repeat with this directive. An asterisk (*) will use up all remaining elements. The directives sSiIlL may each be followed by an underscore (_) to use the underlying platform's native size for the specified type; otherwise, it uses a platform-independent consistent size. Spaces are ignored in the format string.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">75</td>
<td><b>str.upcase</b>
<p>Returns a copy of str with all lowercase letters replaced with their uppercase counterparts. The operation is locale insensitive. Only characters a to z are affected.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">76</td>
<td><b>str.upcase!</b>
<p>Changes the contents of str to uppercase, returning nil if no changes are made.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">77</td>
<td><b>str.upto(other_str) { |s| block }</b>
<p>Iterates through successive values, starting at str and ending at other_str inclusive, passing each value in turn to the block. The String#succ method is used to generate each value.</p>
</td>
</tr>
</table>
</div>
</section>
<h2>String unpack Directives</h2>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i>Following table lists the unpack directives for method String#unpack.</label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr>
<th style="width:25%; text-align:center;">Directive</th>
<th>Returns</th>
<th style="text-align:center;">Description</th>
</tr>
<tr>
<td>A</td>
<td>String</td>
<td>With trailing nulls and spaces removed.</td>
</tr>
<tr>
<td>a</td>
<td>String</td>
<td>String.</td>
</tr>
<tr>
<td>B</td>
<td>String</td>
<td>Extracts bits from each character (most significant bit first).</td>
</tr>
<tr>
<td>b</td>
<td>String</td>
<td>Extracts bits from each character (least significant bit first).</td>
</tr>
<tr>
<td>C</td>
<td>Fixnum</td>
<td>Extracts a character as an unsigned integer.</td>
</tr>
<tr>
<td>c</td>
<td>Fixnum</td>
<td>Extracts a character as an integer.</td></tr>
<tr>
<td>D, d</td>
<td>Float</td>
<td>Treats sizeof(double) characters as a native double.</td></tr>
<tr>
<td>E</td>
<td>Float</td>
<td>Treats sizeof(double) characters as a double in littleendian byte order.</td>
</tr>
<tr>
<td>e</td>
<td>Float</td>
<td>Treats sizeof(float) characters as a float in littleendian byte order.</td>
</tr>
<tr>
<td>F, f</td>
<td>Float</td>
<td>Treats sizeof(float) characters as a native float.</td>
</tr>
<tr>
<td>G</td>
<td>Float</td>
<td>Treats sizeof(double) characters as a double in network byte order.</td>
</tr>
<tr>
<td>g</td>
<td>String</td>
<td>Treats sizeof(float) characters as a float in network byte order.</td>
</tr>
<tr>
<td>H</td>
<td>String</td>
<td>Extracts hex nibbles from each character (most significant bit first)</td>
</tr>
<tr>
<td>h</td>
<td>String</td>
<td>Extracts hex nibbles from each character (least significant bit first).</td>
</tr>
<tr>
<td>I</td>
<td>Integer</td>
<td>Treats sizeof(int) (modified by _) successive characters as an unsigned native integer.</td>
</tr>
<tr>
<td>i</td>
<td>Integer</td>
<td>Treats sizeof(int) (modified by _) successive characters as a signed native integer.</td>
</tr>
<tr>
<td>L</td>
<td>Integer</td>
<td>Treats four (modified by _) successive characters as an unsigned native long integer.</td>
</tr>
<tr>
<td>l</td>
<td>Integer</td>
<td>Treats four (modified by _) successive characters as a signed native long integer.</td></tr>
<tr>
<td>M</td>
<td>String</td>
<td>Quoted-printable.</td>
</tr>
<tr>
<td>m</td>
<td>String</td>
<td>Base64-encoded.</td>
</tr>
<tr>
<td>N</td>
<td>Integer</td>
<td>Treats four characters as an unsigned long in network byte order.</td>
</tr>
<tr>
<td>n</td>
<td>Fixnum</td>
<td>Treats two characters as an unsigned short in network byte order.</td>
</tr>
<tr>
<td>P</td>
<td>String</td>
<td>Treats sizeof(char *) characters as a pointer, and return \emph{len} characters from the referenced location.</td>
</tr>
<tr>
<td>p</td>
<td>String</td>
<td>Treats sizeof(char *) characters as a pointer to a null-terminated string.</td>
</tr>
<tr>
<td>Q</td>
<td>Integer</td>
<td>Treats eight characters as an unsigned quad word (64 bits).</td>
</tr>
<tr>
<td>q</td>
<td>Integer</td>
<td>Treats eight characters as a signed quad word (64 bits).</td>
</tr>
<tr>
<td>S</td>
<td>Fixnum</td>
<td>Treats two (different if _ used) successive characters as an unsigned short in native byte order.</td>
</tr>
<tr>
<td>s</td>
<td>Fixnum</td>
<td>Treats two (different if _ used) successive characters as a signed short in native byte order.</td>
</tr>
<tr>
<td>U</td>
<td>Integer</td>
<td>UTF-8 characters as unsigned integers.</td>
</tr>
<tr>
<td>u</td>
<td>String</td>
<td>UU-encoded.</td>
</tr>
<tr>
<td>V</td>
<td>Fixnum</td>
<td>Treats four characters as an unsigned long in little-endian byte order.</td>
</tr>
<tr>
<td>v</td>
<td>Fixnum</td>
<td>Treats two characters as an unsigned short in little-endian byte order.</td>
</tr>
<tr>
<td>w</td>
<td>Integer</td>
<td>BER-compressed integer.</td>
</tr>
<tr>
<td>X</td>
<td>&nbsp;</td>
<td>Skips backward one character.</td>
</tr>
<tr>
<td>x</td>
<td>&nbsp;</td>
<td>Skips forward one character.</td>
</tr>
<tr>
<td>Z</td>
<td>String</td>
<td>With trailing nulls removed up to first null with *.</td>
</tr>
<tr>
<td>&commat;</td>
<td>&nbsp;</td>
<td>Skips to the offset given by the length argument.</td>
</tr>
</table>
</div>
</section>
<h3>Example</h3>
<p>Try the following example to unpack various data.</p>
<pre class="prettyprint notranslate">
"abc \0\0abc \0\0".unpack('A6Z6')   #=&gt; ["abc", "abc "]
"abc \0\0".unpack('a3a3')           #=&gt; ["abc", " \000\000"]
"abc \0abc \0".unpack('Z*Z*')       #=&gt; ["abc ", "abc "]
"aa".unpack('b8B8')                 #=&gt; ["10000110", "01100001"]
"aaa".unpack('h2H2c')               #=&gt; ["16", "61", 97]
"\xfe\xff\xfe\xff".unpack('sS')     #=&gt; [-2, 65534]
"now = 20is".unpack('M*')           #=&gt; ["now is"]
"whole".unpack('xax2aX2aX1aX2a')    #=&gt; ["h", "e", "l", "l", "o"]
</pre>
<h1>Ruby - Arrays</h1>
<p>Ruby arrays are ordered, integer-indexed collections of any object. Each element in an array is associated with and referred to by an index.</p>
<p>Array indexing starts at 0, as in C or Java. A negative index is assumed relative to the end of the array --- that is, an index of -1 indicates the last element of the array, -2 is the next to last element in the array, and so on.</p>
<p>Ruby arrays can hold objects such as String, Integer, Fixnum, Hash, Symbol, even other Array objects. Ruby arrays are not as rigid as arrays in other languages. Ruby arrays grow automatically while adding elements to them.</p>
<h2>Creating Arrays</h2>
<p>There are many ways to create or initialize an array. One way is with the <i>new</i> class method &minus;</p>
<pre class="prettyprint notranslate">
names = Array.new
</pre>
<p>You can set the size of an array at the time of creating array &minus;</p>
<pre class="prettyprint notranslate">
names = Array.new(20)
</pre>
<p>The array <i>names</i> now has a size or length of 20 elements. You can return the size of an array with either the size or length methods &minus;</p>
<pre class="prettyprint nptranslate tryit">
#!/usr/bin/ruby

names = Array.new(20)
puts names.size  # This returns 20
puts names.length # This also returns 20
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
20
20
</pre>
<p>You can assign a value to each element in the array as follows &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

names = Array.new(4, "mac")

puts "#{names}"
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
["mac", "mac", "mac", "mac"]
</pre>
<p>You can also use a block with new, populating each element with what the block evaluates to &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

nums = Array.new(10) { |e| e = e * 2 }

puts "#{nums}"
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
[0, 2, 4, 6, 8, 10, 12, 14, 16, 18]
</pre>
<p>There is another method of Array, []. It works like this &minus;</p>
<pre class="prettyprint notranslate">
nums = Array.[](1, 2, 3, 4,5)
</pre>
<p>One more form of array creation is as follows &minus;</p>
<pre class="prettyprint notranslate">
nums = Array[1, 2, 3, 4,5]
</pre>
<p>The <i>Kernel</i> module available in core Ruby has an Array method, which only accepts a single argument. Here, the method takes a range as an argument to create an array of digits &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

digits = Array(0..9)

puts "#{digits}"
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
</pre>
<h2>Array Built-in Methods</h2>
<p>We need to have an instance of Array object to call an Array method. As we have seen, following is the way to create an instance of Array object &minus;</p>
<pre class="result notranslate">
Array.[](...) [or] Array[...] [or] [...]
</pre>
<p>This will return a new array populated with the given objects. Now, using the created object, we can call any available instance methods. For example &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

digits = Array(0..9)

num = digits.at(6)

puts "#{num}"
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result nptranslate">
6
</pre>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i>Following are the public array methods (assuming array is an array object) &minus;</label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Methods &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>array &amp; other_array</b>
<p>Returns a new array containing elements common to the two arrays, with no duplicates.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>array * int [or] array * str</b>
<p>Returns a new array built by concatenating the int copies of self. With a String argument, equivalent to self.join(str).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>array &plus; other_array</b>
<p>Returns a new array built by concatenating the two arrays together to produce a third array.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>array - other_array</b>
<p>Returns a new array that is a copy of the original array, removing any items that also appear in other_array.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>array &lt;=&gt; other_array</b>
<p>Compares str with other_str, returning -1 (less than), 0 (equal), or 1 (greater than). The comparison is casesensitive.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>array | other_array</b>
<p>Returns a new array by joining array with other_array, removing duplicates.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><b>array &lt;&lt; obj</b>
<p>Pushes the given object onto the end of array. This expression returns the array itself, so several appends may be chained together.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">8</td>
<td><b>array &lt;=&gt; other_array</b>
<p>Returns an integer (-1, 0, or +1) if this array is less than, equal to, or greater than other_array.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">9</td>
<td><b>array == other_array</b>
<p>Two arrays are equal if they contain the same number of elements and if each element is equal to (according to Object.==) the corresponding element in the other array.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">10</td>
<td><p><b>array[index] [or] array[start, length] [or]</b></p>
<p><b>array[range] [or] array.slice(index) [or]</b></p>
<p><b>array.slice(start, length) [or] array.slice(range)</b></p>
<p>Returns the element at <i>index</i>, or returns a subarray starting at <i>start</i> and continuing for <i>length</i> elements, or returns a subarray specified by <i>range</i>. Negative indices count backward from the end of the array (-1 is the last element). Returns <i>nil</i> if the index (or starting index) is out of range.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">11</td>
<td><p><b>array[index] = obj [or]</b></p>
<p><b>array[start, length] = obj or an_array or nil [or]</b></p>
<p><b>array[range] = obj or an_array or nil</b></p>
<p>Sets the element at <i>index</i>, or replaces a subarray starting at <i>start</i> and continuing for <i>length</i> elements, or replaces a subarray specified by <i>range</i>. If indices are greater than the current capacity of the array, the array grows automatically. Negative indices will count backward from the end of the array. Inserts elements if <i>length</i> is zero. If <i>nil</i> is used in the second and third form, deletes elements from <i>self</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">12</td>
<td><b>array.abbrev(pattern = nil)</b>
<p>Calculates the set of unambiguous abbreviations for the strings in <i>self</i>. If passed a pattern or a string, only the strings matching the pattern or starting with the string are considered.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">13</td>
<td><b>array.assoc(obj)</b>
<p>Searches through an array whose elements are also arrays comparing obj with the first element of each contained array using obj.==. Returns the first contained array that matches or <i>nil</i> if no match is found.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">14</td>
<td><b>array.at(index)</b>
<p>Returns the element at index. A negative index counts from the end of self. Returns nil if the index is out of range.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">15</td>
<td><b>array.clear</b>
<p>Removes all elements from array.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">16</td>
<td><p><b>array.collect { |item| block } [or]</b></p>
<p><b>array.map { |item| block }</b></p>
<p>Invokes block once for each element of <i>self</i>. Creates a new array containing the values returned by the block.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">17</td>
<td><p><b>array.collect! { |item| block } [or]</b></p>
<p><b>array.map! { |item| block }</b></p>
<p>Invokes <i>block</i> once for each element of <i>self</i>, replacing the element with the value returned by <i>block</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">18</td>
<td><b>array.compact</b>
<p>Returns a copy of <i>self</i> with all <i>nil</i> elements removed.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">19</td>
<td><b>array.compact!</b>
<p>Removes <i>nil</i> elements from array. Returns <i>nil</i> if no changes were made.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">20</td>
<td><b>array.concat(other_array)</b>
<p>Appends the elements in other_array to <i>self</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">21</td>
<td><p><b>array.delete(obj) [or] </b></p>
<p><b>array.delete(obj) { block }</b></p>
<p>Deletes items from <i>self</i> that are equal to <i>obj</i>. If the item is not found, returns <i>nil</i>. If the optional code <i>block</i> is given, returns the result of <i>block</i> if the item is not found.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">22</td>
<td><b>array.delete_at(index)</b>
<p>Deletes the element at the specified <i>index</i>, returning that element, or <i>nil</i> if the index is out of range.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">23</td>
<td><b>array.delete_if { |item| block }</b>
<p>Deletes every element of <i>self</i> for which <i>block</i> evaluates to true.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">24</td>
<td><b>array.each { |item| block }</b>
<p>Calls <i>block</i> once for each element in <i>self</i>, passing that element as a parameter.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">25</td>
<td><b>array.each_index { |index| block }</b>
<p>Same as Array#each, but passes the <i>index</i> of the element instead of the element itself.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">26</td>
<td><b>array.empty?</b>
<p>Returns true if the self array contains no elements.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">27</td>
<td><b>array.eql?(other)</b>
<p>Returns true if <i>array</i> and <i>other</i> are the same object, or are both arrays with the same content.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">28</td>
<td><p><b>array.fetch(index) [or]</b></p>
<p><b>array.fetch(index, default) [or]</b></p>
<p><b>array.fetch(index) { |index| block }</b></p>
<p>Tries to return the element at position <i>index</i>. If <i>index</i> lies outside the array, the first form throws an <i>IndexError</i> exception, the second form returns <i>default</i>, and the third form returns the value of invoking <i>block</i>, passing in <i>index</i>. Negative values of <i>index</i> count from the end of the array.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">29</td>
<td><p><b>array.fill(obj) [or]</b></p>
<p><b>array.fill(obj, start [, length]) [or]</b></p>
<p><b>array.fill(obj, range) [or]</b></p>
<p><b>array.fill { |index| block } [or]</b></p>
<p><b>array.fill(start [, length] ) { |index| block } [or]</b></p>
<p><b>array.fill(range) { |index| block }</b></p>
<p>The first three forms set the selected elements of <i>self</i> to <i>obj</i>. A start of <i>nil</i> is equivalent to zero. A length of <i>nil</i> is equivalent to <i>self.length</i>. The last three forms <i>fill</i> the array with the value of the block. The <i>block</i> is passed with the absolute index of each element to be filled.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">30</td>
<td><p><b>array.first [or]</b></p>
<p><b>array.first(n)</b></p>
<p>Returns the first element, or the first <i>n</i> elements, of the array. If the array is empty, the first form returns <i>nil</i>, and the second form returns an empty array.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">31</td>
<td><b>array.flatten</b>
<p>Returns a new array that is a one-dimensional flattening of this array (recursively).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">32</td>
<td><b>array.flatten!</b>
<p>Flattens <i>array</i> in place. Returns <i>nil</i> if no modifications were made. (array contains no subarrays.)</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">33</td>
<td><b>array.frozen?</b>
<p>Returns true if <i>array</i> is frozen (or temporarily frozen while being sorted).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">34</td>
<td><b>array.hash</b>
<p>Computes a hash-code for array. Two arrays with the same content will have the same hash code</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">35</td>
<td><b>array.include?(obj)</b>
<p>Returns true if <i>obj</i> is present in <i>self</i>, false otherwise.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">36</td>
<td><b>array.index(obj)</b>
<p>Returns the <i>index</i> of the first object in <i>self</i> that is == to obj. Returns <i>nil</i> if no match is found.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">37</td>
<td>
<p><b>array.indexes(i1, i2, ... iN) [or]</b></p>
<p><b>array.indices(i1, i2, ... iN)</b></p>
<p>This methods is deprecated in latest version of Ruby so please use Array#values_at.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">38</td>
<td><p><b>array.indices(i1, i2, ... iN) [or]</b></p>
<p><b>array.indexes(i1, i2, ... iN)</b></p>
<p>This methods is deprecated in latest version of Ruby so please use Array#values_at.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">39</td>
<td><b>array.insert(index, obj...)</b>
<p>Inserts the given values before the element with the given <i>index</i> (which may be negative).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">40</td>
<td><b>array.inspect</b>
<p>Creates a printable version of array.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">41</td>
<td><b>array.join(sep = &dollar;,)</b>
<p>Returns a string created by converting each element of the array to a string, separated by <i>sep</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">42</td>
<td><b>array.last [or] array.last(n)</b>
<p>Returns the last element(s) of <i>self</i>. If array is <i>empty</i>, the first form returns <i>nil</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">43</td>
<td><b>array.length</b>
<p>Returns the number of elements in <i>self</i>. May be zero.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">44</td>
<td><p><b>array.map { |item| block } [or]</b></p>
<p><b>array.collect { |item| block }</b></p>
<p>Invokes <i>block</i> once for each element of <i>self</i>. Creates a <i>new</i> array containing the values returned by the block.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">45</td>
<td><p><b>array.map! { |item| block } [or]</b></p>
<p><b>array.collect! { |item| block }</b></p>
<p>Invokes <i>block</i> once for each element of <i>array</i>, replacing the element with the value returned by block.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">46</td>
<td><b>array.nitems</b>
<p>Returns the number of non-nil elements in <i>self</i>. May be zero.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">47</td>
<td><b>array.pack(aTemplateString)</b>
<p>Packs the contents of array into a binary sequence according to the directives in a TemplateString. Directives A, a, and Z may be followed by a count, which gives the width of the resulting field. The remaining directives also may take a count, indicating the number of array elements to convert. If the count is an asterisk (*), all remaining array elements will be converted. Any of the directives is still may be followed by an underscore (_) to use the underlying platform's native size for the specified type; otherwise, they use a platform independent size. Spaces are ignored in the template string.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">48</td>
<td><b>array.pop</b>
<p>Removes the last element from <i>array</i> and returns it, or <i>nil</i> if <i>array</i> is empty.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">49</td>
<td><b>array.push(obj, ...)</b>
<p>Pushes (appends) the given obj onto the end of this array. This expression returns the array itself, so several appends may be chained together.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">50</td>
<td><b>array.rassoc(key)</b>
<p>Searches through the array whose elements are also arrays. Compares <i>key</i> with the second element of each contained array using ==. Returns the first contained array that matches.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">51</td>
<td><b>array.reject { |item| block }</b>
<p>Returns a new array containing the items <i>array</i> for which the block is not <i>true</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">52</td>
<td><b>array.reject! { |item| block }</b>
<p>Deletes elements from <i>array</i> for which the block evaluates to <i>true</i>, but returns <i>nil</i> if no changes were made. Equivalent to Array#delete_if.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">53</td>
<td><b>array.replace(other_array)</b>
<p>Replaces the contents of <i>array</i> with the contents of <i>other_array</i>, truncating or expanding if necessary.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">54</td>
<td><b>array.reverse</b>
<p>Returns a new array containing array's elements in reverse order.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">55</td>
<td><b>array.reverse!</b>
<p>Reverses <i>array</i> in place.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">56</td>
<td><b>array.reverse_each {|item| block }</b>
<p>Same as Array#each, but traverses <i>array</i> in reverse order.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">57</td>
<td><b>array.rindex(obj)</b>
<p>Returns the index of the last object in array == to obj. Returns <i>nil</i> if no match is found.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">58</td>
<td><b>array.select {|item| block }</b>
<p>Invokes the block passing in successive elements from array, returning an array containing those elements for which the block returns a <i>true</i> value.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">59</td>
<td><b>array.shift</b>
<p>Returns the first element of <i>self</i> and removes it (shifting all other elements down by one). Returns <i>nil</i> if the array is empty.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">60</td>
<td><b>array.size</b>
<p>Returns the length of <i>array</i> (number of elements). Alias for length.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">61</td>
<td><p><b>array.slice(index) [or] array.slice(start, length) [or]</b></p>
<p><b>array.slice(range) [or] array[index] [or]</b></p>
<p><b>array[start, length] [or] array[range]</b></p>
<p>Returns the element at <i>index</i>, or returns a subarray starting at <i>start</i> and continuing for <i>length</i> elements, or returns a subarray specified by <i>range</i>. Negative indices count backward from the end of the array (-1 is the last element). Returns <i>nil</i> if the <i>index</i> (or starting index) are out of range.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">62</td>
<td><p><b>array.slice!(index) [or] array.slice!(start, length) [or]</b></p>
<p><b>array.slice!(range)</b></p>
<p>Deletes the element(s) given by an <i>index</i> (optionally with a length) or by a <i>range</i>. Returns the deleted object, subarray, or <i>nil</i> if <i>index</i> is out of range.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">63</td>
<td><b>array.sort [or] array.sort { | a,b | block }</b>
<p>Returns a new array created by sorting self.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">64</td>
<td><b>array.sort! [or] array.sort! { | a,b | block }</b>
<p>Sorts self.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">65</td>
<td><b>array.to_a</b>
<p>Returns <i>self</i>. If called on a subclass of <i>Array</i>, converts the receiver to an Array object.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">66</td>
<td><b>array.to_ary</b>
<p>Returns self.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">67</td>
<td><b>array.to_s</b>
<p>Returns self.join.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">68</td>
<td><b>array.transpose</b>
<p>Assumes that self is an array of arrays and transposes the rows and columns.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">69</td>
<td><b>array.uniq</b>
<p>Returns a new array by removing duplicate values in <i>array</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">70</td>
<td><b>array.uniq!</b>
<p>Removes duplicate elements from <i>self</i>. Returns <i>nil</i> if no changes are made (that is, no duplicates are found).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">71</td>
<td><b>array.unshift(obj, ...)</b>
<p>Prepends objects to the front of array, other elements up one.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">72</td>
<td><b>array.values_at(selector,...)</b>
<p>Returns an array containing the elements in self corresponding to the given <i>selector</i> (one or more). The selectors may be either integer indices or ranges.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">73</td>
<td><p><b>array.zip(arg, ...) [or] </b></p>
<p><b>array.zip(arg, ...){ | arr | block }</b></p>
<p>Converts any arguments to arrays, then merges elements of <i>array</i> with corresponding elements from each argument.</p></td>
</tr>
</table>
</div>
</section>
<h2>Array pack Directives</h2>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i>Following table lists the pack directives for use with Array#pack.</label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr>
<th style="width:25%">Sr.No.</th>
<th style="text-align:center;">Directive &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>&commat;</b>
<p>Moves to absolute position.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>A</b>
<p>ASCII string (space padded, count is width).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>a</b><p>ASCII string (null padded, count is width).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>B</b>
<p>string (descending bit order).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>b</b>
<p>Bit string (ascending bit order).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>C</b>
<p>Unsigned char.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><b>c</b>
<p>Char.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">8</td>
<td><b>D, d</b>
<p>Double-precision float, native format.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">9</td>
<td><b>E</b>
<p>Double-precision float, little-endian byte order.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">10</td>
<td><b>e</b>
<p>Single-precision float, little-endian byte order.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">11</td>
<td><b>F, f</b>
<p>Single-precision float, native format.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">12</td>
<td><b>G</b>
<p>Double-precision float, network (big-endian) byte order.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">13</td>
<td><b>g</b>
<p>Single-precision float, network (big-endian) byte order.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">14</td>
<td><b>H</b>
<p>Hex string (high nibble first).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">15</td>
<td><b>h</b>
<p>Hex string (low nibble first).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">16</td>
<td><b>I</b>
<p>Unsigned integer.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">17</td>
<td><b>i</b>
<p>Integer.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">18</td>
<td><b>L</b>
<p>Unsigned long.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">19</td>
<td><b>l</b>
<p>Long.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">20</td>
<td><b>M</b>
<p>Quoted printable, MIME encoding (see RFC 2045).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">21</td>
<td><b>m</b>
<b>Base64-encoded string.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">22</td>
<td><b>N</b>
<p>Long, network (big-endian) byte order.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">23</td>
<td><b>n</b>
<p>Short, network (big-endian) byte order.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">24</td>
<td><b>P</b>
<p>Pointer to a structure (fixed-length string).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">25</td>
<td><b>p</b>
<p>Pointer to a null-terminated string.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">26</td>
<td><b>Q, q</b>
<p>64-bit number.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">27</td>
<td><b>S</b>
<p>Unsigned short.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">28</td>
<td><b>s</b>
<p>Short.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">29</td>
<td><b>U</b>
<p>UTF-8.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">30</td>
<td><b>u</b>
<p>UU-encoded string.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">31</td>
<td><b>V</b>
<p>Long, little-endian byte order.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">32</td>
<td><b>v</b>
<p>Short, little-endian byte order.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">33</td>
<td><b>w</b>
<p>BER-compressed integer \fnm.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">34</td>
<td><b>X</b>
<p>Back up a byte.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">35</td>
<td><b>x</b>
<p>Null byte.</td>
</tr>
<tr>
<td style="vertical-align:middle;">36</td>
<td><b>Z</b><p>Same as a, except that null is added with *.</p></td>
</tr>
</table>
</div>
</section>
<h3>Example</h3>
<p>Try the following example to pack various data.</p>
<pre class="prettyprint notranslate tryit">
a = [ "a", "b", "c" ]
n = [ 65, 66, 67 ]
puts a.pack("A3A3A3")   #=&gt; "a  b  c  "
puts a.pack("a3a3a3")   #=&gt; "a\000\000b\000\000c\000\000"
puts n.pack("ccc")      #=&gt; "ABC"
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
a  b  c
abc
ABC
</pre>
<h1>Ruby - Hashes</h1>
<p>A Hash is a collection of key-value pairs like this: "employee" = &gt; "salary". It is similar to an Array, except that indexing is done via arbitrary keys of any object type, not an integer index.</p>
<p>The order in which you traverse a hash by either key or value may seem arbitrary and will generally not be in the insertion order. If you attempt to access a hash with a key that does not exist, the method will return <i>nil</i>.</p>
<h2>Creating Hashes</h2>
<p>As with arrays, there is a variety of ways to create hashes. You can create an empty hash with the <i>new</i> class method &minus;</p>
<pre class="result notranslate">
months = Hash.new
</pre>
<p>You can also use <i>new</i> to create a hash with a default value, which is otherwise just <i>nil</i> &minus;</p>
<pre class="result notranslate">
months = Hash.new( "month" )

or

months = Hash.new "month"
</pre>
<p>When you access any key in a hash that has a default value, if the key or value doesn't exist, accessing the hash will return the default value &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

months = Hash.new( "month" )

puts "#{months[0]}"
puts "#{months[72]}"
</pre>
<p>This will produce the following result &minus;</p>
<pre class="prettyprint notranslate">
month
month
</pre>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

H = Hash["a" =&gt; 100, "b" =&gt; 200]

puts "#{H['a']}"
puts "#{H['b']}"
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
100
200
</pre>
<p>You can use any Ruby object as a key or value, even an array, so the following example is a valid one &minus;</p>
<pre class="prettyprint notranslate">
[1,"jan"] =&gt; "January"
</pre>
<h2>Hash Built-in Methods</h2>
<p>We need to have an instance of Hash object to call a Hash method. As we have seen, following is the way to create an instance of Hash object &minus;</p>
<pre class="prettyprint notranslate">
Hash[[key =&gt;|, value]* ] or

Hash.new [or] Hash.new(obj) [or]

Hash.new { |hash, key| block }
</pre>
<p>This will return a new hash populated with the given objects. Now using the created object, we can call any available instance methods. For example &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

$, = ", "
months = Hash.new( "month" )

months = {"1" =&gt; "January", "2" =&gt; "February"}

keys = months.keys

puts "#{keys}"
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
["1", "2"]
</pre>
<p>Following are the public hash methods (assuming <i>hash</i> is an array object) &minus;</p>
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Methods &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>hash == other_hash</b>
<p>Tests whether two hashes are equal, based on whether they have the same number of key-value pairs, and whether the key-value pairs match the corresponding pair in each hash.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>hash.[key]</b>
<p>Using a key, references a value from hash. If the key is not found, returns a default value.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>hash.[key] = value</b>
<p>Associates the value given by <i>value</i> with the key given by <i>key</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>hash.clear</b>
<p>Removes all key-value pairs from hash.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>hash.default(key = nil)</b>
<p>Returns the default value for <i>hash</i>, nil if not set by default=. ([] returns a default value if the key does not exist in <i>hash</i>.)</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>hash.default = obj</b>
<p>Sets a default value for <i>hash</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><b>hash.default_proc</b>
<p>Returns a block if <i>hash</i> was created by a block.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">8</td>
<td><p><b>hash.delete(key) [or]</b></p>
<p><b>array.delete(key) { |key| block }</b></p>
<p>Deletes a key-value pair from <i>hash</i> by <i>key</i>. If block is used, returns the result of a block if pair is not found. Compare <i>delete_if</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">9</td>
<td><b>hash.delete_if { |key,value| block }</b>
<p>Deletes a key-value pair from <i>hash</i> for every pair the block evaluates to <i>true</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">10</td>
<td><b>hash.each { |key,value| block }</b>
<p>Iterates over <i>hash</i>, calling the block once for each key, passing the key-value as a two-element array.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">11</td>
<td><b>hash.each_key { |key| block }</b>
<p>Iterates over <i>hash</i>, calling the block once for each key, passing <i>key</i> as a parameter.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">12</td>
<td><b>hash.each_key { |key_value_array| block }</b>
<p>Iterates over <i>hash</i>, calling the block once for each <i>key</i>, passing the <i>key</i> and <i>value</i> as parameters.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">13</td>
<td><b>hash.each_key { |value| block }</b>
<p>Iterates over <i>hash</i>, calling the block once for each <i>key</i>, passing <i>value</i> as a parameter.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">14</td>
<td><b>hash.empty?</b>
<p>Tests whether hash is empty (contains no key-value pairs), returning <i>true</i> or <i>false</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">15</td>
<td><p><b>hash.fetch(key [, default] ) [or]</b></p>
<p><b>hash.fetch(key) { | key | block }</b></p>
<p>Returns a value from <i>hash</i> for the given <i>key</i>. If the <i>key</i> can't be found, and there are no other arguments, it raises an <i>IndexError</i> exception; if <i>default</i> is given, it is returned; if the optional block is specified, its result is returned.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">16</td>
<td><p><b>hash.has_key?(key) [or] hash.include?(key) [or]</b></p>
<p><b>hash.key?(key) [or] hash.member?(key)</b></p>
<p>Tests whether a given <i>key</i> is present in hash, returning <i>true</i> or <i>false</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">17</td>
<td><b>hash.has_value?(value)</b>
<p>Tests whether hash contains the given <i>value</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">18</td>
<td><b>hash.index(value)</b>
<p>Returns the <i>key</i> for the given <i>value</i> in hash, <i>nil</i> if no matching value is found.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">19</td>
<td><b>hash.indexes(keys)</b>
<p>Returns a new array consisting of values for the given key(s). Will insert the default value for keys that are not found. This method is deprecated. Use select.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">20</td>
<td><b>hash.indices(keys)</b>
<p>Returns a new array consisting of values for the given key(s). Will insert the default value for keys that are not found. This method is deprecated. Use select.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">21</td>
<td><b>hash.inspect</b>
<p>Returns a pretty print string version of hash.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">22</td>
<td><b>hash.invert</b>
<p>Creates a new <i>hash</i>, inverting <i>keys</i> and <i>values</i> from <i>hash</i>; that is, in the new hash, the keys from <i>hash</i> become values and values become keys.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">23</td>
<td><b>hash.keys</b>
<p>Creates a new array with keys from <i>hash</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">24</td>
<td><b>hash.length</b>
<p>Returns the size or length of <i>hash</i> as an integer.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">25</td>
<td><p><b>hash.merge(other_hash) [or]</b></p>
<p><b>hash.merge(other_hash) { |key, oldval, newval| block }</b></p>
<p>Returns a new hash containing the contents of <i>hash</i> and <i>other_hash</i>, overwriting pairs in hash with duplicate keys with those from <i>other_hash</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">26</td>
<td><p><b>hash.merge!(other_hash) [or]</b></p>
<p><b>hash.merge!(other_hash) { |key, oldval, newval| block }</b></p>
<p>Same as merge, but changes are done in place.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">27</td>
<td><b>hash.rehash</b>
<p>Rebuilds <i>hash</i> based on the current values for each <i>key</i>. If values have changed since they were inserted, this method reindexes <i>hash</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">28</td>
<td><b>hash.reject { |key, value| block }</b>
<p>Creates a new <i>hash</i> for every pair the <i>block</i> evaluates to <i>true</i></p></td>
</tr>
<tr>
<td style="vertical-align:middle;">29</td>
<td><b>hash.reject! { |key, value| block }</b>
<p>Same as <i>reject</i>, but changes are made in place.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">30</td>
<td><b>hash.replace(other_hash)</b>
<p>Replaces the contents of <i>hash</i> with the contents of <i>other_hash</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">31</td>
<td><b>hash.select { |key, value| block }</b>
<p>Returns a new array consisting of key-value pairs from <i>hash</i> for which the <i>block</i> returns <i>true</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">32</td>
<td><b>hash.shift</b>
<p>Removes a key-value pair from <i>hash</i>, returning it as a two-element array.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">33</td>
<td><b>hash.size</b>
<p>Returns the <i>size</i> or length of <i>hash</i> as an integer.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">34</td>
<td><b>hash.sort</b>
<p>Converts <i>hash</i> to a two-dimensional array containing arrays of key-value pairs, then sorts it as an array.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">35</td>
<td><b>hash.store(key, value)</b>
<p>Stores a key-value pair in <i>hash</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">36</td>
<td><b>hash.to_a</b>
<p>Creates a two-dimensional array from hash. Each key/value pair is converted to an array, and all these arrays are stored in a containing array.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">37</td>
<td><b>hash.to_hash</b>
<p>Returns <i>hash</i> (self).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">38</td>
<td><b>hash.to_s</b>
<p>Converts <i>hash</i> to an array, then converts that array to a string.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">39</td>
<td><p><b>hash.update(other_hash) [or]</b></p>
<p><b>hash.update(other_hash) {|key, oldval, newval| block}</b></p>
<p>Returns a new hash containing the contents of <i>hash</i> and <i>other_hash</i>, overwriting pairs in <i>hash</i> with duplicate keys with those from <i>other_hash</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">40</td>
<td><b>hash.value?(value)</b>
<p>Tests whether <i>hash</i> contains the given <i>value</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">41</td>
<td><b>hash.values</b>
<p>Returns a new array containing all the values of <i>hash</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">42</td>
<td><b>hash.values_at(obj, ...)</b>
<p>Returns a new array containing the values from <i>hash</i> that are associated with the given key or keys.</p></td>
</tr>
</table>
<h1>Ruby - Date &amp; Time</h1>
<p>The <b>Time</b> class represents dates and times in Ruby. It is a thin layer over the system date and time functionality provided by the operating system. This class may be unable on your system to represent dates before 1970 or after 2038.</p>
<p>This chapter makes you familiar with all the most wanted concepts of date and time.</p>
<h2>Getting Current Date and Time</h2>
<p>Following is the simple example to get current date and time &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby -w

time1 = Time.new

puts "Current Time : " &plus; time1.inspect

# Time.now is a synonym:
time2 = Time.now
puts "Current Time : " &plus; time2.inspect
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Current Time : Mon Jun 02 12:02:39 -0700 2008
Current Time : Mon Jun 02 12:02:39 -0700 2008
</pre>
<h2>Getting Components of a Date &amp; Time</h2>
<p>We can use <i>Time</i> object to get various components of date and time. Following is the example showing the same &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby -w

time = Time.new

# Components of a Time
puts "Current Time : " + time.inspect
puts time.year    # =&gt; Year of the date 
puts time.month   # =&gt; Month of the date (1 to 12)
puts time.day     # =&gt; Day of the date (1 to 31 )
puts time.wday    # =&gt; 0: Day of week: 0 is Sunday
puts time.yday    # =&gt; 365: Day of year
puts time.hour    # =&gt; 23: 24-hour clock
puts time.min     # =&gt; 59
puts time.sec     # =&gt; 59
puts time.usec    # =&gt; 999999: microseconds
puts time.zone    # =&gt; "UTC": timezone name
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Current Time : Mon Jun 02 12:03:08 -0700 2008
2008
6
2
1
154
12
3
8
247476
UTC
</pre>
<h2>Time.utc, Time.gm and Time.local Functions</h2>
<p>These two functions can be used to format date in a standard format as follows &minus;</p>
<pre class="prettyprint notranslate">
# July 8, 2008
Time.local(2008, 7, 8)  
# July 8, 2008, 09:10am, local time
Time.local(2008, 7, 8, 9, 10)   
# July 8, 2008, 09:10 UTC
Time.utc(2008, 7, 8, 9, 10)  
# July 8, 2008, 09:10:11 GMT (same as UTC)
Time.gm(2008, 7, 8, 9, 10, 11)  
</pre>
<p>Following is the example to get all the components in an array in the following format &minus;</p>
<pre class="result notranslate">
[sec,min,hour,day,month,year,wday,yday,isdst,zone]
</pre>
<p>Try the following &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby -w

time = Time.new

values = time.to_a
p values
</pre>
<p>This will generate the following result &minus;</p>
<pre class="result notranslate">
[26, 10, 12, 2, 6, 2008, 1, 154, false, "MST"]
</pre>
<p>This array could be passed to <i>Time.utc</i> or <i>Time.local</i> functions to  get different format of dates as follows &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby -w

time = Time.new

values = time.to_a
puts Time.utc(*values)
</pre>
<p>This will generate the following result &minus;</p>
<pre class="result notranslate">
Mon Jun 02 12:15:36 UTC 2008
</pre>
<p>Following is the way to get time represented internally as seconds since the (platform-dependent) epoch &minus;</p>
<pre class="prettyprint notranslate">
# Returns number of seconds since epoch
time = Time.now.to_i  

# Convert number of seconds into Time object.
Time.at(time)

# Returns second since epoch which includes microseconds
time = Time.now.to_f
</pre>
<h2>Timezones and Daylight Savings Time</h2>
<p>You can use a <i>Time</i> object to get all the information related to Timezones and daylight savings as follows &minus;</p>
<pre class="prettyprint notranslate">
time = Time.new

# Here is the interpretation
time.zone       # =&gt; "UTC": return the timezone
time.utc_offset # =&gt; 0: UTC is 0 seconds offset from UTC
time.zone       # =&gt; "PST" (or whatever your timezone is)
time.isdst      # =&gt; false: If UTC does not have DST.
time.utc?       # =&gt; true: if t is in UTC time zone
time.localtime  # Convert to local timezone.
time.gmtime     # Convert back to UTC.
time.getlocal   # Return a new Time object in local zone
time.getutc     # Return a new Time object in UTC
</pre>
<h2>Formatting Times and Dates</h2>
<p>There are various ways to format date and time. Here is one example showing a few &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby -w
time = Time.new

puts time.to_s
puts time.ctime
puts time.localtime
puts time.strftime("%Y-%m-%d %H:%M:%S")
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Mon Jun 02 12:35:19 -0700 2008
Mon Jun  2 12:35:19 2008
Mon Jun 02 12:35:19 -0700 2008
2008-06-02 12:35:19
</pre>
<h2>Time Formatting Directives</h2>
<p>These directives in the following table are used with the method <i>Time.strftime</i>.</p>
<table class="table table-bordered">
<tr>
<th>Sr.No.</th>
<th style="text-align:center;">Directive &amp; Description</th></tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>%a</b>
<p>The abbreviated weekday name (Sun).</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>%A</b>
<p>The full weekday name (Sunday).</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>%b</b>
<p>The abbreviated month name (Jan).</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>%B</b>
<p>The full month name (January).</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>%c</b>
<p>The preferred local date and time representation.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>%d</b>
<p>Day of the month (01 to 31).</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><b>%H</b>
<p>Hour of the day, 24-hour clock (00 to 23).</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">8</td>
<td><b>%I</b>
<p>Hour of the day, 12-hour clock (01 to 12).</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">9</td>
<td><b>%j</b>
<p>Day of the year (001 to 366).</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">10</td>
<td><b>%m</b>
<p>Month of the year (01 to 12).</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">11</td>
<td><b>%M</b>
<p>Minute of the hour (00 to 59).</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">12</td>
<td><b>%p</b>
<p>Meridian indicator (AM or PM).</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">13</td>
<td><b>%S</b>
<p>Second of the minute (00 to 60).</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">14</td>
<td><b>%U</b>
<p>Week number of the current year, starting with the first Sunday as the first day of the first week (00 to 53).</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">15</td>
<td><b>%W</b>
<p>Week number of the current year, starting with the first Monday as the first day of the first week (00 to 53).</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">16</td>
<td><b>%w</b>
<p>Day of the week (Sunday is 0, 0 to 6).</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">17</td>
<td><b>%x</b>
<p>Preferred representation for the date alone, no time.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">18</td>
<td><b>%X</b>
<p>Preferred representation for the time alone, no date.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">19</td>
<td><b>%y</b>
<p>Year without a century (00 to 99).</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">20</td>
<td><b>%Y</b>
<p>Year with century.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">21</td>
<td><b>%Z</b>
<p>Time zone name.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">22</td>
<td><b>%%</b>
<p>Literal % character.</p>
</td>
</tr>
</table>
<h2>Time Arithmetic</h2>
<p>You can perform simple arithmetic with time as follows &minus;</p>
<pre class="prettyprint notranslate tryit">
now = Time.now           # Current time
puts now

past = now - 10          # 10 seconds ago. Time - number =&gt; Time
puts past

future = now &plus; 10        # 10 seconds from now Time + number =&gt; Time
puts future

diff = future - now      # =&gt; 10  Time - Time =&gt; number of seconds
puts diff
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Thu Aug 01 20:57:05 -0700 2013
Thu Aug 01 20:56:55 -0700 2013
Thu Aug 01 20:57:15 -0700 2013
10.0
</pre>
<h1>Ruby - Ranges</h1>
<p>Ranges occur everywhere: January to December, 0 to 9, lines 50 through 67, and so on. Ruby supports ranges and allows us to use ranges in a variety of ways &minus;</p>
<ul class="list">
<li>Ranges as Sequences</li>
<li>Ranges as Conditions</li>
<li>Ranges as Intervals</li>
</ul>
<h2>Ranges as Sequences</h2>
<p>The first and perhaps the most natural use of ranges is to express a sequence. Sequences have a start point, an end point, and a way to produce successive values in the sequence.</p>
<p>Ruby creates these sequences using the <b>''..''</b> and <b>''...''</b> range operators. The two-dot form creates an inclusive range, while the three-dot form creates a range that excludes the specified high value.</p>
<pre class="result notranslate">
(1..5)        #==&gt; 1, 2, 3, 4, 5
(1...5)       #==&gt; 1, 2, 3, 4
('a'..'d')    #==&gt; 'a', 'b', 'c', 'd'
</pre>
<p>The sequence 1..100 is held as a Range <i>object</i> containing references to two <i>Fixnum</i> objects. If you need to, you can convert a range to a list using the <i>to_a</i> method. Try the following example &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

$, =", "   # Array value separator
range1 = (1..10).to_a
range2 = ('bar'..'bat').to_a

puts "#{range1}"
puts "#{range2}"
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
["bar", "bas", "bat"]
</pre>
<p>Ranges implement methods that let you iterate over them and test their contents in a variety of ways &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

# Assume a range
digits = 0..9

puts digits.include?(5)
ret = digits.min
puts "Min value is #{ret}"

ret = digits.max
puts "Max value is #{ret}"

ret = digits.reject {|i| i &lt; 5 }
puts "Rejected values are #{ret}"

digits.each do |digit|
   puts "In Loop #{digit}"
end
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
true
Min value is 0
Max value is 9
Rejected values are 5, 6, 7, 8, 9
In Loop 0
In Loop 1
In Loop 2
In Loop 3
In Loop 4
In Loop 5
In Loop 6
In Loop 7
In Loop 8
In Loop 9
</pre>
<h2>Ranges as Conditions</h2>
<p>Ranges may also be used as conditional expressions. For example, the following code fragment prints sets of lines from the standard input, where the first line in each set contains the word <i>start</i> and the last line the word <i>ends</i> &minus;</p>
<pre class="prettyprint notranslate">
while gets
   print if /start/../end/
end
</pre>
<p>Ranges can be used in case statements &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

score = 70

result = case score
   when 0..40 then "Fail"
   when 41..60 then "Pass"
   when 61..70 then "Pass with Merit"
   when 71..100 then "Pass with Distinction"
   else "Invalid Score"
end

puts result
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Pass with Merit
</pre>
<h2>Ranges as Intervals</h2>
<p>A final use of the versatile range is as an interval test: seeing if some value falls within the interval represented by the range. This is done using ===, the case equality operator.</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

if ((1..10) === 5)
   puts "5 lies in (1..10)"
end

if (('a'..'j') === 'c')
   puts "c lies in ('a'..'j')"
end

if (('a'..'j') === 'z')
   puts "z lies in ('a'..'j')"
end
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
5 lies in (1..10)
c lies in ('a'..'j')
</pre>
<h1>Ruby - Iterators</h1>
<p>Iterators are nothing but methods supported by <i>collections</i>. Objects that store a group of data members are called collections. In Ruby, arrays and hashes can be termed collections.</p>
<p>Iterators return all the elements of a collection, one after the other. We will be discussing two iterators here, <i>each</i> and <i>collect</i>. Let's look at these in detail.</p>
<h2>Ruby each Iterator</h2>
<p>The each iterator returns all the elements of an array or a hash.</p>
<h3>Syntax</h3>
<pre class="result notranslate">
collection.each do |variable|
   code
end
</pre>
<p>Executes <i>code</i> for each element in <i>collection</i>. Here, <i>collection</i> could be an array or a ruby hash.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

ary = [1,2,3,4,5]
ary.each do |i|
   puts i
end
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
1
2
3
4
5
</pre>
<p>You always associate the <i>each</i> iterator with a block. It returns each value of the array, one by one, to the block. The value is stored in the variable <b>i</b> and then displayed on the screen.</p>
<h2>Ruby collect Iterator</h2>
<p>The <i>collect</i> iterator returns all the elements of a collection.</p>
<h3>Syntax</h3>
<pre class="result notranslate">
collection = collection.collect
</pre>
<p>The <i>collect</i> method need not always be associated with a block. The <i>collect</i> method returns the entire collection, regardless of whether it is an array or a hash.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

a = [1,2,3,4,5]
b = Array.new
b = a.collect
puts b
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
1
2
3
4
5
</pre>
<p><b>NOTE</b> &minus; The <i>collect</i> method is not the right way to do copying between arrays. There is another method called a <i>clone</i>, which should be used to copy one array into another array.</p>
<p>You normally use the collect method when you want to do something with each of the values to get the new array. For example, this code produces an array <i>b</i> containing 10 times each value in <i>a</i>.</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

a = [1,2,3,4,5]
b = a.collect{|x| 10*x}
puts b
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
10
20
30
40
50
</pre>
<h1>Ruby - File I/O</h1>
<p>Ruby provides a whole set of I/O-related methods implemented in the Kernel module. All the I/O methods are derived from the class IO.</p>
<p>The class <i>IO</i> provides all the basic methods, such as <i>read, write, gets, puts, readline, getc,</i> and <i>printf</i>.</p>
<p>This chapter will cover all the basic I/O functions available in Ruby. For more functions, please refer to Ruby Class <i>IO</i>.</p>
<h2>The puts Statement</h2>
<p>In the previous chapters, you have assigned values to variables and then printed the output using <i>puts</i> statement.</p>
<p>The <i>puts</i> statement instructs the program to display the value stored in the variable. This will add a new line at the end of each line it writes.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

val1 = "This is variable one"
val2 = "This is variable two"
puts val1
puts val2
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
This is variable one
This is variable two
</pre>
<h2>The gets Statement</h2>
<p>The <i>gets</i> statement can be used to take any input from the user from standard screen called STDIN.</p>
<h3>Example</h3>
<p>The following code shows you how to use the gets statement. This code will prompt the user to enter a value, which will be stored in a variable val and finally will be printed on STDOUT.</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

puts "Enter a value :"
val = gets
puts val
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Enter a value :
This is entered value
This is entered value
</pre>
<h2>The putc Statement</h2>
<p>Unlike the <i>puts</i> statement, which outputs the entire string onto the screen, the <i>putc</i> statement can be used to output one character at a time.</p>
<h3>Example</h3>
<p>The output of the following code is just the character H &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

str = "Hello Ruby!"
putc str
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
H
</pre>
<h2>The print Statement</h2>
<p>The <i>print</i> statement is similar to the <i>puts</i> statement. The only difference is that the <i>puts</i> statement goes to the next line after printing the contents, whereas with the <i>print</i> statement the cursor is positioned on the same line.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

print "Hello World"
print "Good Morning"
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Hello WorldGood Morning
</pre>
<h2>Opening and Closing Files</h2>
<p>Until now, you have been reading and writing to the standard input and output. Now, we will see how to play with actual data files.</p>
<h2>The File.new Method</h2>
<p>You can create a <i>File</i> object using <i>File.new</i> method for reading, writing, or both, according to the mode string. Finally, you can use <i>File.close</i> method to close that file.</p>
<h3>Syntax</h3>
<pre class="result notranslate">
aFile = File.new("filename", "mode")
   # ... process the file
aFile.close
</pre>
<h2>The File.open Method</h2>
<p>You can use <i>File.open</i> method to create a new file object and assign that file object to a file. However, there is one difference in between <i>File.open</i> and <i>File.new</i> methods. The difference is that the <i>File.open</i> method can be associated with a block, whereas you cannot do the same using the <i>File.new</i> method.</p>
<pre class="prettyprint notranslate">
File.open("filename", "mode") do |aFile|
   # ... process the file
end
</pre>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i>Here is a list of The Different Modes of opening a File &minus;</label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr>
<th>Sr.No.</th>
<th style="text-align:center;">Modes &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>r</b>
<p>Read-only mode. The file pointer is placed at the beginning of the file. This is the default mode.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>r+</b>
<p>Read-write mode. The file pointer will be at the beginning of the file.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>w</b>
<p>Write-only mode. Overwrites the file if the file exists. If the file does not exist, creates a new file for writing.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>w+</b>
<p>Read-write mode. Overwrites the existing file if the file exists. If the file does not exist, creates a new file for reading and writing.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>a</b>
<p>Write-only mode. The file pointer is at the end of the file if the file exists. That is, the file is in the append mode. If the file does not exist, it creates a new file for writing.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>a+</b>
<p>Read and write mode. The file pointer is at the end of the file if the file exists. The file opens in the append mode. If the file does not exist, it creates a new file for reading and writing.</p></td>
</tr>
</table>
</div>
</section>
<h2>Reading and Writing Files</h2>
<p>The same methods that we've been using for 'simple' I/O are available for all file objects. So, gets reads a line from standard input, and <i>aFile.gets</i> reads a line from the file object aFile.</p>
<p>However, I/O objects provides additional set of access methods to make our lives easier.</p>
<h2>The sysread Method</h2>
<p>You can use the method <i>sysread</i> to read the contents of a file. You can open the file in any of the modes when using the method sysread. For example &minus;</p>
<p>Following is the input text file &minus;</p>
<pre class="prettyprint notranslate">
This is a simple text file for testing purpose.
</pre>
<p>Now let's try to read this file &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

aFile = File.new("input.txt", "r")
if aFile
   content = aFile.sysread(20)
   puts content
else
   puts "Unable to open file!"
end
</pre>
<p>This statement will output the first 20 characters of the file. The file pointer will now be placed at the 21st character in the file.</p>
<h2>The syswrite Method</h2>
<p>You can use the method syswrite to write the contents into a file. You need to open the file in write mode when using the method syswrite. For example &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

aFile = File.new("input.txt", "r+")
if aFile
   aFile.syswrite("ABCDEF")
else
   puts "Unable to open file!"
end
</pre>
<p>This statement will write "ABCDEF" into the file.</p>
<h2>The each_byte Method</h2>
<p>This method belongs to the class <i>File</i>. The method <i>each_byte</i> is always associated with a block. Consider the following code sample &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

aFile = File.new("input.txt", "r+")
if aFile
   aFile.syswrite("ABCDEF")
   aFile.each_byte {|ch| putc ch; putc ?. }
else
   puts "Unable to open file!"
end
</pre>
<p>Characters are passed one by one to the variable ch and then displayed on the screen as follows &minus;</p>
<pre class="result notranslate">
s. .a. .s.i.m.p.l.e. .t.e.x.t. .f.i.l.e. .f.o.r. .t.e.s.t.i.n.g. .p.u.r.p.o.s.e...
.
.
</pre>
<h2>The IO.readlines Method</h2>
<p>The class <i>File</i> is a subclass of the class IO. The class IO also has some methods, which can be used to manipulate files.</p>
<p>One of the IO class methods is <i>IO.readlines</i>. This method returns the contents of the file line by line. The following code displays the use of the method <i>IO.readlines</i> &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

arr = IO.readlines("input.txt")
puts arr[0]
puts arr[1]
</pre>
<p>In this code, the variable arr is an array. Each line of the file <i>input.txt</i> will be an element in the array arr. Therefore, arr[0] will contain the first line, whereas arr[1] will contain the second line of the file.</p>
<h2>The IO.foreach Method</h2>
<p>This method also returns output line by line. The difference between the method <i>foreach</i> and the method <i>readlines</i> is that the method <i>foreach</i> is associated with a block. However, unlike the method <i>readlines</i>, the method <i>foreach</i> does not return an array. For example &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

IO.foreach("input.txt"){|block| puts block}
</pre>
<p>This code will pass the contents of the file <i>test</i> line by line to the variable block, and then the output will be displayed on the screen.</p>
<h2>Renaming and Deleting Files</h2>
<p>You can rename and delete files programmatically with Ruby with the <i>rename</i> and <i>delete</i> methods.</p>
<p>Following is the example to rename an existing file <i>test1.txt</i> &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

# Rename a file from test1.txt to test2.txt
File.rename( "test1.txt", "test2.txt" )

</pre>
<p>Following is the example to delete an existing file <i>test2.txt</i> &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

# Delete file test2.txt
File.delete("test2.txt")
</pre>
<h2>File Modes and Ownership</h2>
<p>Use the <i>chmod</i> method with a mask to change the mode or permissions/access list of a file &minus;</p>
<p>Following is the example to change mode of an existing file <i>test.txt</i> to a mask value &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

file = File.new( "test.txt", "w" )
file.chmod( 0755 )
</pre>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i>Following is the table, which can help you to choose different mask for <i>chmod</i> method &minus;</label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr><th>Sr.No.</th>
<th style="text-align:center;">Mask &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>0700</b>
<p>rwx mask for owner</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>0400</b>
<p>r for owner</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>0200</b>
<p>w for owner</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>0100</b>
<p>x for owner</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>0070</b>
<p>rwx mask for group</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>0040</b>
<p>r for group</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><b>0020</b>
<p>w for group</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">8</td>
<td><b>0010</b>
<p>x for group</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">9</td>
<td><b>0007</b>
<p>rwx mask for other</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">10</td>
<td><b>0004</b>
<p>r for other</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">11</td>
<td><b>0002</b>
<p>w for other</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">12</td>
<td><b>0001</b>
<p>x for other</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">13</td>
<td><b>4000</b>
<p>Set user ID on execution</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">14</td>
<td><b>2000</b>
<p>Set group ID on execution</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">15</td>
<td><b>1000</b>
<p>Save swapped text, even after use</p></td>
</tr>
</table>
</div>
</section>
<h2>File Inquiries</h2>
<p>The following command tests whether a file exists before opening it &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

File.open("file.rb") if File::exists?( "file.rb" )
</pre>
<p>The following command inquire whether the file is really a file &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

# This returns either true or false
File.file?( "text.txt" ) 
</pre>
<p>The following command finds out if the given file name is a directory &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

# a directory
File::directory?( "/usr/local/bin" ) # =&gt; true

# a file
File::directory?( "file.rb" ) # =&gt; false
</pre>
<p>The following command finds whether the file is readable, writable or executable &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

File.readable?( "test.txt" )   # =&gt; true
File.writable?( "test.txt" )   # =&gt; true
File.executable?( "test.txt" ) # =&gt; false
</pre>
<p>The following command finds whether the file has zero size or not &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

File.zero?( "test.txt" )      # =&gt; true
</pre>
<p>The following command returns size of the file &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

File.size?( "text.txt" )     # =&gt; 1002
</pre>
<p>The following command can be used to find out a type of file &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

File::ftype( "test.txt" )     # =&gt; file
</pre>
<p>The ftype method identifies the type of the file by returning one of the following &minus;<i>file, directory, characterSpecial, blockSpecial, fifo, link, socket, or unknown.</i></p>
<p>The following command can be used to find when a file was created, modified, or last accessed &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

File::ctime( "test.txt" ) # =&gt; Fri May 09 10:06:37 -0700 2008
File::mtime( "text.txt" ) # =&gt; Fri May 09 10:44:44 -0700 2008
File::atime( "text.txt" ) # =&gt; Fri May 09 10:45:01 -0700 2008
</pre>
<h2>Directories in Ruby</h2>
<p>All files are contained within various directories, and Ruby has no problem handling these too. Whereas the <i>File</i> class handles files, directories are handled with the <i>Dir</i> class.</p>
<h2>Navigating Through Directories</h2>
<p>To change directory within a Ruby program, use <i>Dir.chdir</i> as follows. This example changes the current directory to <i>/usr/bin</i>.</p>
<pre class="result notranslate">
Dir.chdir("/usr/bin")
</pre>
<p>You can find out what the current directory is with <i> Dir.pwd</i> &minus;</p>
<pre class="result notranslate">
puts Dir.pwd # This will return something like /usr/bin
</pre>
<p>You can get a list of the files and directories within a specific directory using <i>Dir.entries</i> &minus;</p>
<pre class="prettyprint notranslate">
puts Dir.entries("/usr/bin").join(' ')
</pre>
<p><i>Dir.entries</i> returns an array with all the entries within the specified directory. <i>Dir.foreach</i> provides the same feature &minus;</p>
<pre class="prettyprint notranslate">
Dir.foreach("/usr/bin") do |entry|
   puts entry
end
</pre>
<p>An even more concise way of getting directory listings is by using Dir's class array method &minus;</p>
<pre class="prettyprint notranslate">
Dir["/usr/bin/*"]
</pre>
<h2>Creating a Directory</h2>
<p>The <i>Dir.mkdir</i> can be used to create directories &minus;</p>
<pre class="prettyprint notranslate">
Dir.mkdir("mynewdir")
</pre>
<p>You can also set permissions on a new directory (not one that already exists) with mkdir &minus;</p>
<p><b>NOTE</b> &minus; The mask 755 sets permissions owner, group, world [anyone] to rwxr-xr-x where r = read, w = write, and x = execute.</p>
<pre class="prettyprint notranslate">
Dir.mkdir( "mynewdir", 755 )
</pre>
<h2>Deleting a Directory</h2>
<p>The <i>Dir.delete</i> can be used to delete a directory. The <i>Dir.unlink</i> and <i>Dir.rmdir</i> performs exactly the same function and are provided for convenience.</p>
<pre class="prettyprint notranslate">
Dir.delete("testdir")
</pre>
<h2>Creating Files &amp; Temporary Directories</h2>
<p>Temporary files are those that might be created briefly during a program's execution but aren't a permanent store of information.</p>
<p><i>Dir.tmpdir</i> provides the path to the temporary directory on the current system, although the method is not available by default. To make <i>Dir.tmpdir</i> available it's necessary to use require 'tmpdir'.</p>
<p>You can use <i>Dir.tmpdir</i> with <i>File.join</i> to create a platform-independent temporary file &minus;</p>
<pre class="prettyprint notranslate">
require 'tmpdir'
   tempfilename = File.join(Dir.tmpdir, "tingtong")
   tempfile = File.new(tempfilename, "w")
   tempfile.puts "This is a temporary file"
   tempfile.close
   File.delete(tempfilename)
</pre>
<p>This code creates a temporary file, writes data to it, and deletes it. Ruby's standard library also includes a library called <i>Tempfile</i> that can create temporary files for you &minus;</p>
<pre class="prettyprint notranslate">
require 'tempfile'
   f = Tempfile.new('tingtong')
   f.puts "Hello"
   puts f.path
   f.close
</pre>
<h2>Built-in Functions</h2>
<p>Here are the ruby built-in functions to process files and directories &minus;</p>
<ul class="list">
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_file_methods.htm" title="Ruby File Class and Methods">File Class and Methods</a>.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_dir_methods.htm" title="Ruby Dir Class and Methods">Dir Class and Methods</a>.</p></li>
</ul>
<h1>Ruby - Exceptions</h1>
<p>The execution and the exception always go together. If you are opening a file, which does not exist, then if you did not handle this situation properly, then your program is considered to be of bad quality.</p>
<p>The program stops if an exception occurs. So exceptions are used to handle various type of errors, which may occur during a program execution and take appropriate action instead of halting program completely.</p>
<p>Ruby provide a nice mechanism to handle exceptions. We enclose the code that could raise an exception in a <i>begin/end</i> block and use <i>rescue</i> clauses to tell Ruby the types of exceptions we want to handle.</p>
<h2>Syntax</h2>
<pre class="result notranslate">
begin  
# -  
rescue OneTypeOfException  
# -  
rescue AnotherTypeOfException  
# -  
else  
# Other exceptions
ensure
# Always will be executed
end
</pre>
<p>Everything from <i>begin</i> to <i>rescue</i> is protected. If an exception occurs during the execution of this block of code, control is passed to the block between <i>rescue</i> and <i>end</i>.</p>
<p>For each <i>rescue</i> clause in the <i>begin</i> block, Ruby compares the raised Exception against each of the parameters in turn. The match will succeed if the exception named in the rescue clause is the same as the type of the currently thrown exception, or is a superclass of that exception.</p>
<p>In an event that an exception does not match any of the error types specified, we are allowed to use an <i>else</i> clause after all the <i>rescue</i> clauses.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

begin
   file = open("/unexistant_file")
   if file
      puts "File opened successfully"
   end
rescue
      file = STDIN
end
print file, "==", STDIN, "\n"
</pre>
<p>This will produce the following result. You can see that <i>STDIN</i> is substituted to <i>file</i> because <i>open</i> failed.</p>
<pre class="result notranslate">
#&lt;IO:0xb7d16f84&gt;==#&lt;IO:0xb7d16f84&gt;
</pre>
<h2>Using retry Statement</h2>
<p>You can capture an exception using <i>rescue</i> block and then use <i>retry</i> statement to execute <i>begin</i> block from the beginning.</p> 
<h3>Syntax</h3>
<pre class="result notranslate">
begin
   # Exceptions raised by this code will 
   # be caught by the following rescue clause
rescue
   # This block will capture all types of exceptions
   retry  # This will move control to the beginning of <i>begin</i>
end
</pre>
<h3>Example</h3>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

begin
   file = open("/unexistant_file")
   if file
      puts "File opened successfully"
   end
rescue
   fname = "existant_file"
   retry
end
</pre>
<p>The following is the flow of the process &minus;</p>
<ul class="list">
<li>An exception occurred at open.</li>
<li>Went to rescue. fname was re-assigned.</li>
<li>By retry went to the beginning of the begin.</li>
<li>This time file opens successfully.</li>
<li>Continued the essential process.</li>
</ul>
<p><b>NOTE</b> &minus; Notice that if the file of re-substituted name does not exist this example code retries infinitely. Be careful if you use <i>retry</i> for an exception process.</p>
<h2>Using raise Statement</h2>
<p>You can use <i>raise</i> statement to raise an exception. The following method raises an exception whenever it's called. It's second message will be printed.</p>
<h3>Syntax</h3>
<pre class="result notranslate">
raise 

OR

raise "Error Message" 

OR

raise ExceptionType, "Error Message"

OR

raise ExceptionType, "Error Message" condition

</pre>
<p>The first form simply re-raises the current exception (or a RuntimeError if there is no current exception). This is used in exception handlers that need to intercept an exception before passing it on.</p>
<p>The second form creates a new <i>RuntimeError</i> exception, setting its message to the given string. This exception is then raised up the call stack.</p>
<p>The third form uses the first argument to create an exception and then sets the associated message to the second argument.</p>
<p>The fourth form is similar to the third form but you can add any conditional statement like <i>unless</i> to raise an exception.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

begin  
   puts 'I am before the raise.'  
   raise 'An error has occurred.'  
   puts 'I am after the raise.'  
rescue  
   puts 'I am rescued.'  
end  
puts 'I am after the begin block.'  
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
I am before the raise.  
I am rescued.  
I am after the begin block.  
</pre>
<p>One more example showing the usage of <i>raise</i> &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

begin  
   raise 'A test exception.'  
rescue Exception =&gt; e  
   puts e.message  
   puts e.backtrace.inspect  
end  
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
A test exception.
["main.rb:4"]
</pre>
<h2>Using ensure Statement</h2>
<p>Sometimes, you need to guarantee that some processing is done at the end of a block of code, regardless of whether an exception was raised. For example, you may have a file open on entry to the block and you need to make sure it gets closed as the block exits.</p>
<p>The <i>ensure</i> clause does just this. <i>ensure</i> goes after the last rescue clause and contains a chunk of code that will always be executed as the block terminates. It doesn't matter if the block exits normally, if it raises and rescues an exception, or if it is terminated by an uncaught exception, the <i>ensure</i> block will get run.</p>
<h3>Syntax</h3>
<pre class="result notranslate">
begin 
   #.. process 
   #..raise exception
rescue 
   #.. handle error 
ensure 
   #.. finally ensure execution
   #.. This will always execute.
end
</pre>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
begin
   raise 'A test exception.'
rescue Exception =&gt; e
   puts e.message
   puts e.backtrace.inspect
ensure
   puts "Ensuring execution"
end
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
A test exception.
["main.rb:4"]
Ensuring execution
</pre>
<h2>Using else Statement</h2>
<p>If the <i>else</i> clause is present, it goes after the <i>rescue</i> clauses and before any <i>ensure</i>.</p>
<p>The body of an <i>else</i> clause is executed only if no exceptions are raised by the main body of code.</p>
<h3>Syntax</h3>
<pre class="result notranslate">
begin 
   #.. process 
   #..raise exception
rescue 
   # .. handle error
else
   #.. executes if there is no exception
ensure 
   #.. finally ensure execution
   #.. This will always execute.
end
</pre>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
begin
   # raise 'A test exception.'
   puts "I'm not raising exception"
rescue Exception =&gt; e
   puts e.message
   puts e.backtrace.inspect
else
   puts "Congratulations-- no errors!"
ensure
   puts "Ensuring execution"
end
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
I'm not raising exception
Congratulations-- no errors!
Ensuring execution
</pre>
<p>Raised error message can be captured using &dollar;! variable.</p>
<h2>Catch and Throw</h2>
<p>While the exception mechanism of raise and rescue is great for abandoning the execution when things go wrong, it's sometimes nice to be able to jump out of some deeply nested construct during normal processing. This is where catch and throw come in handy.</p>
<p>The <i>catch</i> defines a block that is labeled with the given name (which may be a Symbol or a String). The block is executed normally until a throw is encountered.</p>
<h3>Syntax</h3>
<pre class="result notranslate">
throw :lablename
#.. this will not be executed
catch :lablename do
#.. matching catch will be executed after a throw is encountered.
end

OR

throw :lablename condition
#.. this will not be executed
catch :lablename do
#.. matching catch will be executed after a throw is encountered.
end
</pre>
<h3>Example</h3>
<p>The following example uses a throw to terminate interaction with the user if '!' is typed in response to any prompt.</p>
<pre class="prettyprint notranslate">
def promptAndGet(prompt)
   print prompt
   res = readline.chomp
   throw :quitRequested if res == "!"
   return res
end

catch :quitRequested do
   name = promptAndGet("Name: ")
   age = promptAndGet("Age: ")
   sex = promptAndGet("Sex: ")
   # ..
   # process information
end
promptAndGet("Name:")
</pre>
<p>You should try the above program on your machine because it needs manual interaction. This will produce the following result &minus;</p>
<pre class="result notranslate">
Name: Ruby on Rails
Age: 3
Sex: !
Name:Just Ruby
</pre>
<h2>Class Exception</h2>
<p>Ruby's standard classes and modules raise exceptions. All the exception classes form a hierarchy, with the class Exception at the top. The next level contains seven different types &minus;</p>
<ul class="list">
<li>Interrupt</li>
<li>NoMemoryError</li>
<li>SignalException</li>
<li>ScriptError</li>
<li>StandardError</li>
<li>SystemExit</li>
</ul>
<p>There is one other exception at this level, <b>Fatal</b>, but the Ruby interpreter only uses this internally.</p>
<p>Both ScriptError and StandardError have a number of subclasses, but we do not need to go into the details here. The important thing is that if we create our own exception classes, they need to be subclasses of either class Exception or one of its descendants.</p>
<p>Let's look at an example &minus;</p>
<pre class="prettyprint notranslate">
class FileSaveError &lt; StandardError
   attr_reader :reason
   def initialize(reason)
      &commat;reason = reason
   end
end
</pre>
<p>Now, look at the following example, which will use this exception &minus;</p>
<pre class="prettyprint notranslate">
File.open(path, "w") do |file|
begin
   # Write out the data ...
rescue
   # Something went wrong!
   raise FileSaveError.new(&dollar;!)
end
end
</pre>
<p>The important line here is raise <i>FileSaveError.new(&dollar;!)</i>. We call raise to signal that an exception has occurred, passing it a new instance of FileSaveError, with the reason being that specific exception caused the writing of the data to fail.</p>
<h1>Ruby - Object Oriented</h1>
<p>Ruby is a pure object-oriented language and everything appears to Ruby as an object. Every value in Ruby is an object, even the most primitive things: strings, numbers and even true and false. Even a class itself is an <i>object</i> that is an instance of the <i>Class</i> class. This chapter will take you through all the major functionalities related to Object Oriented Ruby.</p>
<p>A class is used to specify the form of an object and it combines data representation and methods for manipulating that data into one neat package. The data and methods within a class are called members of the class.</p>
<h2>Ruby Class Definition</h2>
<p>When you define a class, you define a blueprint for a data type. This doesn't actually define any data, but it does define what the class name means, that is, what an object of the class will consist of and what operations can be performed on such an object.</p>
<p>A class definition starts with the keyword <b>class</b> followed by the <b>class name</b> and is delimited with an <b>end</b>. For example, we defined the Box class using the keyword class as follows &minus;</p>
<pre class="result notranslate">
class Box
   code
end
</pre>
<p>The name must begin with a capital letter and by convention names that contain more than one word are run together with each word capitalized and no separating characters (CamelCase).</p>
<h2>Define Ruby Objects</h2>
<p>A class provides the blueprints for objects, so basically an object is created from a class. We declare objects of a class using <b>new</b> keyword. Following statements declare two objects of class Box &minus;</p>
<pre class="result notranslate">
box1 = Box.new
box2 = Box.new
</pre>
<h2>The initialize Method</h2>
<p>The <b>initialize method</b> is a standard Ruby class method and works almost same way as <b>constructor</b> works in other object oriented programming languages. The initialize method is useful when you want to initialize some class variables at the time of object creation. This method may take a list of parameters and like any other ruby method it would be preceded by <b>def</b> keyword as shown below &minus;</p>
<pre class="prettyprint notranslate">
class Box
   def initialize(w,h)
      &commat;width, &commat;height = w, h
   end
end
</pre>
<h2>The instance Variables</h2>
<p>The <b>instance variables</b> are kind of class attributes and they become properties of objects once objects are created using the class. Every object's attributes are assigned individually and share no value with other objects. They are accessed using the &commat; operator within the class but to access them outside of the class we use <b>public</b> methods, which are called <b>accessor methods</b>. If we take the above defined class <b>Box</b> then &commat;width and &commat;height are instance variables for the class Box.</p>
<pre class="prettyprint notranslate">
class Box
   def initialize(w,h)
      # assign instance variables
      &commat;width, &commat;height = w, h
   end
end
</pre>
<h2>The accessor &amp; setter Methods</h2>
<p>To make the variables available from outside the class, they must be defined within <b>accessor methods</b>, these accessor methods are also known as a getter methods. Following example shows the usage of accessor methods &minus;</p> 
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby -w

# define a class
class Box
   # constructor method
   def initialize(w,h)
      &commat;width, &commat;height = w, h
   end

   # accessor methods
   def printWidth
      &commat;width
   end

   def printHeight
      &commat;height
   end
end

# create an object
box = Box.new(10, 20)

# use accessor methods
x = box.printWidth()
y = box.printHeight()

puts "Width of the box is : #{x}"
puts "Height of the box is : #{y}"
</pre>
<p>When the above code is executed, it produces the following result &minus;</p>
<pre class="result notranslate">
Width of the box is : 10
Height of the box is : 20
</pre>
<p>Similar to accessor methods, which are used to access the value of the variables, Ruby provides a way to set the values of those variables from outside of the class using <b>setter methods</b>, which are defined as below &minus;</p> 
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby -w

# define a class
class Box
   # constructor method
   def initialize(w,h)
      @width, @height = w, h
   end

   # accessor methods
   def getWidth
      @width
   end
   def getHeight
      @height
   end

   # setter methods
   def setWidth=(value)
      @width = value
   end
   def setHeight=(value)
      @height = value
   end
end

# create an object
box = Box.new(10, 20)

# use setter methods
box.setWidth = 30
box.setHeight = 50

# use accessor methods
x = box.getWidth()
y = box.getHeight()

puts "Width of the box is : #{x}"
puts "Height of the box is : #{y}"
</pre>
<p>When the above code is executed, it produces the following result &minus;</p>
<pre class="result notranslate">
Width of the box is : 30
Height of the box is : 50
</pre>
<h2>The instance Methods</h2>
<p>The <b>instance methods</b> are also defined in the same way as we define any other method using <b>def</b> keyword and they can be used using a class instance only as shown below. Their functionality is not limited to access the instance variables, but also they can do a lot more as per your requirement.</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby -w

# define a class
class Box
   # constructor method
   def initialize(w,h)
      &commat;width, &commat;height = w, h
   end
   # instance method
   def getArea
      &commat;width * &commat;height
   end
end

# create an object
box = Box.new(10, 20)

# call instance methods
a = box.getArea()
puts "Area of the box is : #{a}"
</pre>
<p>When the above code is executed, it produces the following result &minus;</p>
<pre class="result notranslate">
Area of the box is : 200
</pre>
<h2>The class Methods and Variables</h2>
<p>The <b>class variables</b> is a variable, which is shared between all instances of a class. In other words, there is one instance of the variable and it is accessed by object instances. Class variables are prefixed with two &commat; characters (&commat;&commat;). A class variable must be initialized within the class definition as shown below.</p>
<p>A class method is defined using <b>def self.methodname()</b>, which ends with end delimiter and would be called using the class name as <b>classname.methodname</b> as shown in the following example &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby -w

class Box
   # Initialize our class variables
   &commat;&commat;count = 0
   def initialize(w,h)
      # assign instance avriables
      &commat;width, &commat;height = w, h

      &commat;&commat;count += 1
   end

   def self.printCount()
      puts "Box count is : #&commat;&commat;count"
   end
end

# create two object
box1 = Box.new(10, 20)
box2 = Box.new(30, 100)

# call class method to print box count
Box.printCount()
</pre>
<p>When the above code is executed, it produces the following result &minus;</p>
<pre class="result notranslate">
Box count is : 2
</pre>
<h2>The to_s Method</h2>
<p>Any class you define should have a <b>to_s</b> instance method to return a string representation of the object. Following is a simple example to represent a Box object in terms of width and height &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby -w

class Box
   # constructor method
   def initialize(w,h)
      &commat;width, &commat;height = w, h
   end
   # define to_s method
   def to_s
      "(w:#&commat;width,h:#&commat;height)"  # string formatting of the object.
   end
end

# create an object
box = Box.new(10, 20)

# to_s method will be called in reference of string automatically.
puts "String representation of box is : #{box}"
</pre>
<p>When the above code is executed, it produces the following result &minus;</p>
<pre class="result notranslate">
String representation of box is : (w:10,h:20)
</pre>
<h2>Access Control</h2>
<p>Ruby gives you three levels of protection at instance methods level, which may be <b>public, private, or protected</b>. Ruby does not apply any access control over instance and class variables.</p>
<ul class="list">
<li><p><b>Public Methods</b> &minus; Public methods can be called by anyone. Methods are public by default except for initialize, which is always private.</p></li>
<li><p><b>Private Methods</b> &minus; Private methods cannot be accessed, or even viewed from outside the class. Only the class methods can access private members.</p></li>
<li><p><b>Protected  Methods</b> &minus; A protected method can be invoked only by objects of the defining class and its subclasses. Access is kept within the family.</p></li>
</ul>
<p>Following is a simple example to show the syntax of all the three access modifiers &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby -w

# define a class
class Box
   # constructor method
   def initialize(w,h)
      &commat;width, &commat;height = w, h
   end

   # instance method by default it is public
   def getArea
      getWidth() * getHeight
   end

   # define private accessor methods
   def getWidth
      &commat;width
   end
   def getHeight
      &commat;height
   end
   # make them private
   private :getWidth, :getHeight

   # instance method to print area
   def printArea
      &commat;area = getWidth() * getHeight
      puts "Big box area is : #&commat;area"
   end
   # make it protected
   protected :printArea
end

# create an object
box = Box.new(10, 20)

# call instance methods
a = box.getArea()
puts "Area of the box is : #{a}"

# try to call protected or methods
box.printArea()
</pre>
<p>When the above code is executed, it produces the following result. Here, first method is called successfully but second method gave a problem.</p>
<pre class="result notranslate">
Area of the box is : 200
test.rb:42: protected method `printArea' called for #
&lt;Box:0xb7f11280 @height = 20, @width = 10&gt; (NoMethodError)
</pre>
<h2>Class Inheritance</h2>
<p>One of the most important concepts in object-oriented programming is that of inheritance. Inheritance allows us to define a class in terms of another class, which makes it easier to create and maintain an application.</p>
<p>Inheritance also provides an opportunity to reuse the code functionality and fast implementation time but unfortunately Ruby does not support multiple levels of inheritances but Ruby supports <b>mixins</b>. A mixin is like a specialized implementation of multiple inheritance in which only the interface portion is inherited.</p>
<p>When creating a class, instead of writing completely new data members and member functions, the programmer can designate that the new class should inherit the members of an existing class. This existing class is called the <b>base class or superclass</b>, and the new class is referred to as the <b>derived class or sub-class</b>.</p>
<p>Ruby also supports the concept of subclassing, i.e., inheritance and following example explains the concept. The syntax for extending a class is simple. Just add a &lt; character and the name of the superclass to your class statement. For example, following define a class <i>BigBox</i> as a subclass of <i>Box</i> &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby -w

# define a class
class Box
   # constructor method
   def initialize(w,h)
      &commat;width, &commat;height = w, h
   end
   # instance method
   def getArea
      &commat;width * &commat;height
   end
end

# define a subclass
class BigBox &lt; Box

   # add a new instance method
   def printArea
      &commat;area = &commat;width * &commat;height
      puts "Big box area is : #&commat;area"
   end
end

# create an object
box = BigBox.new(10, 20)

# print the area
box.printArea()
</pre>
<p>When the above code is executed, it produces the following result &minus;</p>
<pre class="result notranslate">
Big box area is : 200
</pre>
<h2>Methods Overriding</h2>
<p>Though you can add new functionality in a derived class, but sometimes you would like to change the behavior of already defined method in a parent class. You can do so simply by keeping the method name same and overriding the functionality of the method as shown below in the example &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby -w

# define a class
class Box
   # constructor method
   def initialize(w,h)
      &commat;width, &commat;height = w, h
   end
   # instance method
   def getArea
      &commat;width * &commat;height
   end
end

# define a subclass
class BigBox &lt; Box

   # change existing getArea method as follows
   def getArea
      &commat;area = &commat;width * &commat;height
      puts "Big box area is : #&commat;area"
   end
end

# create an object
box = BigBox.new(10, 20)

# print the area using overriden method.
box.getArea()
</pre>
<h2>Operator Overloading</h2>
<p>We'd like the &plus; operator to perform vector addition of two Box objects using &plus;, the * operator to multiply a Box width and height by a scalar, and the unary - operator to do negate the width and height of the Box. Here is a version of the Box class with mathematical operators defined &minus;</p>
<pre class="prettyprint notranslate">
class Box
   def initialize(w,h) # Initialize the width and height
      &commat;width,&commat;height = w, h
   end

   def &plus;(other)         # Define &plus; to do vector addition
      Box.new(&commat;width &plus; other.width, &commat;height &plus; other.height)
   end

   def -&commat;               # Define unary minus to negate width and height
      Box.new(-&commat;width, -&commat;height)
   end

   def *(scalar)        # To perform scalar multiplication
      Box.new(&commat;width*scalar, &commat;height*scalar)
   end
end
</pre>
<h2>Freezing Objects</h2>
<p>Sometimes, we want to prevent an object from being changed. The freeze method in Object allows us to do this, effectively turning an object into a constant. Any object can be frozen by invoking <b>Object.freeze</b>. A frozen object may not be modified: you can't change its instance variables.</p>
<p>You can check if a given object is already frozen or not using <b>Object.frozen?</b> method, which returns true in case the object is frozen otherwise a false value is return. Following example clears the concept &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby -w

# define a class
class Box
   # constructor method
   def initialize(w,h)
      @width, @height = w, h
   end

   # accessor methods
   def getWidth
      @width
   end
   def getHeight
      @height
   end

   # setter methods
   def setWidth=(value)
      @width = value
   end
   def setHeight=(value)
      @height = value
   end
end

# create an object
box = Box.new(10, 20)

# let us freez this object
box.freeze
if( box.frozen? )
   puts "Box object is frozen object"
else
   puts "Box object is normal object"
end

# now try using setter methods
box.setWidth = 30
box.setHeight = 50

# use accessor methods
x = box.getWidth()
y = box.getHeight()

puts "Width of the box is : #{x}"
puts "Height of the box is : #{y}"
</pre>
<p>When the above code is executed, it produces the following result &minus;</p>
<pre class="result notranslate">
Box object is frozen object
test.rb:20:in `setWidth=': can't modify frozen object (TypeError)
   from test.rb:39
</pre>
<h2>Class Constants</h2>
<p>You can define a constant inside a class by assigning a direct numeric or string value to a variable, which is defined without using either &commat; or &commat;&commat;. By convention, we keep constant names in upper case.</p>
<p>Once a constant is defined, you cannot change its value but you can access a constant directly inside a class much like a variable but if you want to access a constant outside of the class then you would have to use <b>classname::constant</b> as shown in the below example.</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby -w

# define a class
class Box
   BOX_COMPANY = "TATA Inc"
   BOXWEIGHT = 10
   # constructor method
   def initialize(w,h)
      &commat;width, &commat;height = w, h
   end
   # instance method
   def getArea
      &commat;width * &commat;height
   end
end

# create an object
box = Box.new(10, 20)

# call instance methods
a = box.getArea()
puts "Area of the box is : #{a}"
puts Box::BOX_COMPANY
puts "Box weight is: #{Box::BOXWEIGHT}"
</pre>
<p>When the above code is executed, it produces the following result &minus;</p>
<pre class="result notranslate">
Area of the box is : 200
TATA Inc
Box weight is: 10
</pre>
<p>Class constants are inherited and can be overridden like instance methods.</p>
<h2>Create Object Using Allocate</h2>
<p>There may be a situation when you want to create an object without calling its constructor <b>initialize</b> i.e. using new method, in such case you can call <i>allocate</i>, which will create an uninitialized object for you as in the following example &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby -w

# define a class
class Box
   attr_accessor :width, :height

   # constructor method
   def initialize(w,h)
      &commat;width, &commat;height = w, h
   end

   # instance method
   def getArea
      &commat;width * &commat;height
   end
end

# create an object using new
box1 = Box.new(10, 20)

# create another object using allocate
box2 = Box.allocate

# call instance method using box1
a = box1.getArea()
puts "Area of the box is : #{a}"

# call instance method using box2
a = box2.getArea()
puts "Area of the box is : #{a}"
</pre>
<p>When the above code is executed, it produces the following result &minus;</p>
<pre class="result notranslate">
Area of the box is : 200
test.rb:14: warning: instance variable @width not initialized
test.rb:14: warning: instance variable @height not initialized
test.rb:14:in `getArea': undefined method `*' 
   for nil:NilClass (NoMethodError) from test.rb:29
</pre>
<h2>Class Information</h2>
<p>If class definitions are executable code, this implies that they execute in the context of some object: self must reference something. Let's find out what it is.</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby -w

class Box
   # print class information
   puts "Type of self = #{self.type}"
   puts "Name of self = #{self.name}"
end
</pre>
<p>When the above code is executed, it produces the following result &minus;</p>
<pre class="result notranslate">
Type of self = Class
Name of self = Box
</pre>
<p>This means that a class definition is executed with that class as the current object. This means that methods in the metaclass and its superclasses will be available during the execution of the method definition.</p>
<h1>Ruby - Regular Expressions</h1>
<p>A <i>regular expression</i> is a special sequence of characters that helps you match or find other strings or sets of strings using a specialized syntax held in a pattern.</p>
<p>A <i>regular expression literal</i> is a pattern between slashes or between arbitrary delimiters followed by %r as follows &minus;</p>
<h2>Syntax</h2>
<pre class="result notranslate">
/pattern/
/pattern/im    # option can be specified
%r!/usr/local! # general delimited regular expression
</pre>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

line1 = "Cats are smarter than dogs";
line2 = "Dogs also like meat";

if ( line1 =~ /Cats(.*)/ )
   puts "Line1 contains Cats"
end
if ( line2 =~ /Cats(.*)/ )
   puts "Line2 contains  Dogs"
end
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Line1 contains Cats
</pre>
<h2>Regular-Expression Modifiers</h2>
<p>Regular expression literals may include an optional modifier to control various aspects of matching. The modifier is specified after the second slash character, as shown previously and may be represented by one of these characters &minus;</p>
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Modifier &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>i</b>
<p>Ignores case when matching text.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>o</b>
<p>Performs #{} interpolations only once, the first time the regexp literal is evaluated.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>x</b>
<p>Ignores whitespace and allows comments in regular expressions.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>m</b>
<p>Matches multiple lines, recognizing newlines as normal characters.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>u,e,s,n</b>
<p>Interprets the regexp as Unicode (UTF-8), EUC, SJIS, or ASCII. If none of these modifiers is specified, the regular expression is assumed to use the source encoding.</p></td>
</tr>
</table>
<p>Like string literals delimited with %Q, Ruby allows you to begin your regular expressions with %r followed by a delimiter of your choice. This is useful when the pattern you are describing contains a lot of forward slash characters that you don't want to escape &minus;</p>
<pre class="result notranslate">
# Following matches a single slash character, no escape required
%r|/|               

# Flag characters are allowed with this syntax, too
%r[&lt;/(.*)&gt;]i  
</pre>
<h2>Regular-Expression Patterns</h2>
<p>Except for control characters, <b>(&plus; ? . * ^ &dollar; ( ) [ ] { } | \)</b>, all characters match themselves. You can escape a control character by preceding it with a backslash.</p>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i>Following table lists the regular expression syntax that is available in Ruby.</label>
<div class="toggle-content" style="display: none;">
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Pattern &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>^</b>
<p>Matches beginning of line.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>$</b>
<p>Matches end of line.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>.</b>
<p>Matches any single character except newline. Using m option allows it to match newline as well.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>[...]</b>
<p>Matches any single character in brackets.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>[^...]</b>
<p>Matches any single character not in brackets</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>re*</b>
<p>Matches 0 or more occurrences of preceding expression.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><b>re+</b>
<p>Matches 1 or more occurrence of preceding expression.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">8</td>
<td><b>re?</b>
<p>Matches 0 or 1 occurrence of preceding expression.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">9</td>
<td><b>re{ n}</b>
<p>Matches exactly n number of occurrences of preceding expression.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">10</td>
<td><b>re{ n,}</b>
<p>Matches n or more occurrences of preceding expression.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">11</td>
<td><b>re{ n, m}</b>
<p>Matches at least n and at most m occurrences of preceding expression.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">12</td>
<td><b>a| b</b>
<p>Matches either a or b.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">13</td>
<td><b>(re)</b>
<p>Groups regular expressions and remembers matched text.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">14</td>
<td><b>(?imx)</b>
<p>Temporarily toggles on i, m, or x options within a regular expression. If in parentheses, only that area is affected.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">15</td>
<td><b>(?-imx)</b>
<p>Temporarily toggles off i, m, or x options within a regular expression. If in parentheses, only that area is affected.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">16</td>
<td><b>(?: re)</b>
<p>Groups regular expressions without remembering matched text.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">17</td>
<td><b>(?imx: re)</b>
<p>Temporarily toggles on i, m, or x options within parentheses.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">18</td>
<td><b>(?-imx: re)</b>
<p>Temporarily toggles off i, m, or x options within parentheses.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">19</td>
<td><b>(?#...)</b>
<p>Comment.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">20</td>
<td><b>(?= re)</b>
<p>Specifies position using a pattern. Doesn't have a range.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">21</td>
<td><b>(?! re)</b>
<p>Specifies position using pattern negation. Doesn't have a range.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">22</td>
<td><b>(?&gt; re)</b>
<p>Matches independent pattern without backtracking.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">23</td>
<td><b>\w</b>
<p>Matches word characters.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">24</td>
<td><b>\W</b>
<p>Matches nonword characters.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">25</td>
<td><b>\s</b>
<p>Matches whitespace. Equivalent to [\t\n\r\f].</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">26</td>
<td><b>\S</b>
<p>Matches nonwhitespace.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">27</td>
<td><b>\d</b>
<p>Matches digits. Equivalent to [0-9].</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">28</td>
<td><b>\D</b>
<p>Matches nondigits.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">29</td>
<td><b>\A</b>
<p>Matches beginning of string.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">30</td>
<td><b>\Z</b>
<p>Matches end of string. If a newline exists, it matches just before newline.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">31</td>
<td><b>\z</b>
<p>Matches end of string.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">32</td>
<td><b>\G</b>
<p>Matches point where last match finished.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">33</td>
<td><b>\b</b>
<p>Matches word boundaries when outside brackets. Matches backspace (0x08) when inside brackets.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">34</td>
<td><b>\B</b>
<p>Matches nonword boundaries.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">35</td>
<td><b>\n, \t, etc.</b>
<p>Matches newlines, carriage returns, tabs, etc.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">36</td>
<td><b>\1...\9</b>
<p>Matches nth grouped subexpression.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">37</td>
<td><b>\10</b>
<p>Matches nth grouped subexpression if it matched already. Otherwise refers to the octal representation of a character code.</p></td>
</tr>
</table>
</div>
</section>
<h2>Regular-Expression Examples</h2>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i><b>Literal Characters</b></label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Example &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>/ruby/</b>
<p>Matches "ruby".</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b></b>
<p>Matches Yen sign. Multibyte characters are supported in Ruby 1.9 and Ruby 1.8.</p></td>
</tr>
</table>
</div>
</section>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i><b>Character Classes</b></label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Example &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>/[Rr]uby/</b>
<p>Matches "Ruby" or "ruby".</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>/rub[ye]/</b>
<p>Matches "ruby" or "rube".</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>/[aeiou]/</b>
<p>Matches any one lowercase vowel.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>/[0-9]/</b>
<p>Matches any digit; same as /[0123456789]/.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>/[a-z]/</b>
<p>Matches any lowercase ASCII letter.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>/[A-Z]/</b>
<p>Matches any uppercase ASCII letter.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><b>/[a-zA-Z0-9]/</b>
<p>Matches any of the above.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">8</td>
<td><b>/[^aeiou]/</b>
<p>Matches anything other than a lowercase vowel.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">9</td>
<td><b>/[^0-9]/</b>
<p>Matches anything other than a digit.</p></td>
</tr>
</table>
</div>
</section>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i><b>Special Character Classes</b></label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr><th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Example &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>/./</b>
<p>Matches any character except newline.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>/./m</b>
<p>In multiline mode, matches newline, too.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>/\d/</b>
<p>Matches a digit: /[0-9]/.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>/\D/</b>
<p>Matches a nondigit: /[^0-9]/.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>/\s/</b>
<p>Matches a whitespace character: /[ \t\r\n\f]/.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>/\S/</b>
<p>Matches nonwhitespace: /[^ \t\r\n\f]/.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><b>/\w/</b>
<p>Matches a single word character: /[A-Za-z0-9_]/.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">8</td>
<td><b>/\W/</b>
<p>Matches a nonword character: /[^A-Za-z0-9_]/.</p></td>
</tr>
</table>
</div>
</section>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i><b>Repetition Cases</b></label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Example &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>/ruby?/</b>
<p>Matches "rub" or "ruby": the y is optional.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>/ruby*/</b>
<p>Matches "rub" plus 0 or more ys.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>/ruby+/</b>
<p>Matches "rub" plus 1 or more ys.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>/\d{3}/</b>
<p>Matches exactly 3 digits.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>/\d{3,}/</b>
<p>Matches 3 or more digits.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>/\d{3,5}/</b>
<p>Matches 3, 4, or 5 digits.</p>
</td>
</tr>
</table>
</div>
</section>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i><b>Nongreedy Repetition</b></label>
<div class="toggle-content" style="display: none;"> 
<p>This matches the smallest number of repetitions &minus;</p>
<table class="table table-bordered">
<tr><th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Example &amp; Description</th></tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>/&lt;.*&gt;/</b>
<p>Greedy repetition: matches "&lt;ruby&gt;perl&gt;".</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>/&lt;.*?&gt;/</b>
<p>Nongreedy: matches "&lt;ruby&gt;" in "&lt;ruby&gt;perl&gt;".</p>
</td>
</tr>
</table>
</div>
</section>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i><b>Grouping with Parentheses</b></label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr><th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Example &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>/\D\d+/</b>
<p>No group: + repeats \d</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>/(\D\d)+/</b>
<p>Grouped: + repeats \D\d pair</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>/([Rr]uby(, )?)+/</b>
<p>Match "Ruby", "Ruby, ruby, ruby", etc.</p></td>
</tr>
</table>
</div>
</section>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i><b>Back References</b></label>
<div class="toggle-content" style="display: none;"> 
<p>This matches a previously matched group again &minus;</p>
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Example &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>/([Rr])uby&amp;\1ails/</b>
<p>Matches ruby&amp;rails or Ruby&amp;Rails.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>/(['"])(?:(?!\1).)*\1/</b>
<p>Single or double-quoted string. \1 matches whatever the 1st group matched . \2 matches whatever the 2nd group matched, etc.</p>
</td>
</tr>
</table>
</div>
</section>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i><b>Alternatives</b></label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr><th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Example &amp; Description</th></tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>/ruby|rube/</b>
<p>Matches "ruby" or "rube".</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>/rub(y|le))/</b>
<p>Matches "ruby" or "ruble".</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>/ruby(!+|\?)/</b>
<p>"ruby" followed by one or more ! or one ?</p>
</td>
</tr>
</table>
</div>
</section>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i><b>Anchors</b></label>
<div class="toggle-content" style="display: none;"> 
<p>It needs to specify match position.</p>
<table class="table table-bordered">
<tr><th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Example &amp; Description</th></tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>/^Ruby/</b>
<p>Matches "Ruby" at the start of a string or internal line.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>/Ruby&dollar;/</b>
<p>Matches "Ruby" at the end of a string or line.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>/\ARuby/</b>
<p>Matches "Ruby" at the start of a string.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>/Ruby\Z/</b>
<p>Matches "Ruby" at the end of a string.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>/\bRuby\b/</b>
<p>Matches "Ruby" at a word boundary.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>/\brub\B/</b>
<p>\B is nonword boundary: matches "rub" in "rube" and "ruby" but not alone.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><b>/Ruby(?=!)/</b>
<p>Matches "Ruby", if followed by an exclamation point.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">8</td>
<td><b>/Ruby(?!!)/</b>
<p>Matches "Ruby", if not followed by an exclamation point.</p>
</td>
</tr>
</table>
</div>
</section>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i><b>Special Syntax with Parentheses</b></label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr><th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Example &amp; Description</th></tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>/R(?#comment)/</b>
<p>Matches "R". All the rest is a comment.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>/R(?i)uby/</b>
<p>Case-insensitive while matching "uby".</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>/R(?i:uby)/</b>
<p>Same as above.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>/rub(?:y|le))/</b>
<p>Group only without creating \1 backreference.</p></td>
</tr>
</table>
</div>
</section>
<h2>Search and Replace</h2>
<p>Some of the most important String methods that use regular expressions are <b>sub</b> and <b>gsub</b>, and their in-place variants <b>sub!</b> and <b>gsub!</b>.</p>
<p>All of these methods perform a search-and-replace operation using a Regexp pattern. The <b>sub</b> &amp; <b>sub!</b> replaces the first occurrence of the pattern and <b>gsub</b> &amp; <b>gsub!</b> replaces all occurrences.</p>
<p>The <b>sub</b> and <b>gsub</b> returns a new string, leaving the original unmodified where as <b>sub!</b> and <b>gsub!</b> modify the string on which they are called.</p>
<p>Following is the example &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

phone = "2004-959-559 #This is Phone Number"

# Delete Ruby-style comments
phone = phone.sub!(/#.*&dollar;/, "")   
puts "Phone Num : #{phone}"

# Remove anything other than digits
phone = phone.gsub!(/\D/, "")    
puts "Phone Num : #{phone}"
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Phone Num : 2004-959-559
Phone Num : 2004959559
</pre>
<p>Following is another example &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

text = "rails are rails, really good Ruby on Rails"

# Change "rails" to "Rails" throughout
text.gsub!("rails", "Rails")

# Capitalize the word "Rails" throughout
text.gsub!(/\brails\b/, "Rails")

puts "#{text}"
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Rails are Rails, really good Ruby on Rails
</pre>
<h1>Ruby/DBI Tutorial</h1>
<p>This chapter teaches you how to access a database using Ruby. The <i>Ruby DBI</i> module provides a database-independent interface for Ruby scripts similar to that of the Perl DBI module.</p>
<p>DBI stands for Database Independent Interface for Ruby, which means DBI provides an abstraction layer between the Ruby code and the underlying database, allowing you to switch database implementations really easily. It defines a set of methods, variables, and conventions that provide a consistent database interface, independent of the actual database being used.</p>
<p>DBI can interface with the following &minus;</p>
<ul class="list">
<li>ADO (ActiveX Data Objects)</li>
<li>DB2</li>
<li>Frontbase</li>
<li>mSQL</li>
<li>MySQL</li>
<li>ODBC</li>
<li>Oracle</li>
<li>OCI8 (Oracle)</li>
<li>PostgreSQL</li>
<li>Proxy/Server</li>
<li>SQLite</li>
<li>SQLRelay</li>
</ul>
<h2>Architecture of a DBI Application</h2>
<p>DBI is independent of any database available in the backend. You can use DBI whether you are working with Oracle, MySQL or Informix, etc. This is clear from the following architecture diagram.</p>
<img src="https://www.tutorialspoint.com/ruby/images/ruby_dbi.jpg" alt="Ruby DBI Architecture" />
<p>The general architecture for Ruby DBI uses two layers &minus;</p>
<ul class="list">
<li><p>The database interface (DBI) layer. This layer is database independent and provides a set of common access methods that are used the same way regardless of the type of database server with which you're communicating.</p></li>
<li><p>The database driver (DBD) layer. This layer is database dependent; different drivers provide access to different database engines. There is one driver for MySQL, another for PostgreSQL, another for InterBase, another for Oracle, and so forth. Each driver interprets requests from the DBI layer and maps them onto requests appropriate for a given type of database server.</p></li>
</ul>
<h2>Prerequisites</h2>
<p>If you want to write Ruby scripts to access MySQL databases, you'll need to have the Ruby MySQL module installed.</p>
<p>This module acts as a DBD as explained above and can be downloaded from <a target="_blank" rel="nofollow" href="https://www.tmtm.org/en/mysql/ruby/">https://www.tmtm.org/en/mysql/ruby/</a></p>
<h2>Obtaining and Installing Ruby/DBI</h2>
<p>You can download and install the Ruby DBI module from the following location &minus;</p>
<p><a href="http://rubyforge.org/projects/ruby-dbi/" target="_blank">http://rubyforge.org/projects/ruby-dbi/</a></p>
<p>Before starting this installation make sure you have the root privilege. Now, follow the steps given below &minus;</p>
<h3>Step 1</h3>
<pre class="result notranslate">
$ tar zxf dbi-0.2.0.tar.gz
</pre>
<h3>Step 2</h3>
<p>Go in distribution directory <i>dbi-0.2.0</i> nd configure it using the <i>setup.rb</i> script in that directory. The most general configuration command looks like this, with no arguments following the config argument. This command configures the distribution to install all drivers by default.</p>
<pre class="result notranslate">
$ ruby setup.rb config
</pre>
<p>To be more specific, provide a --with option that lists the particular parts of the distribution you want to use. For example, to configure only the main DBI module and the MySQL DBD-level driver, issue the following command &minus;</p>
<pre class="result notranslate">
$ ruby setup.rb config --with = dbi,dbd_mysql
</pre>
<h3>Step 3</h3>
<p>Final step is to build the driver and install it using the following commands &minus;</p>
<pre class="result notranslate">
$ ruby setup.rb setup
$ ruby setup.rb install
</pre>
<h2>Database Connection</h2>
<p>Assuming we are going to work with MySQL database, before connecting to a database make sure of the following &minus;</p>
<ul class="list">
<li><p>You have created a database TESTDB.</p></li>
<li><p>You have created EMPLOYEE in TESTDB.</p></li>
<li><p>This table is having fields FIRST_NAME, LAST_NAME, AGE, SEX, and INCOME.</p></li>
<li><p>User ID "testuser" and password "test123" are set to access TESTDB.</p></li>
<li><p>Ruby Module DBI is installed properly on your machine.</p></li>
<li><p>You have gone through MySQL tutorial to understand MySQL Basics.</p></li>
</ul>
<p>Following is the example of connecting with MySQL database "TESTDB"</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby -w

require "dbi"

begin
   # connect to the MySQL server
   dbh = DBI.connect("DBI:Mysql:TESTDB:localhost", "testuser", "test123")
   # get server version string and display it
   row = dbh.select_one("SELECT VERSION()")
   puts "Server version: " + row[0]
rescue DBI::DatabaseError =&gt; e
   puts "An error occurred"
   puts "Error code:    #{e.err}"
   puts "Error message: #{e.errstr}"
ensure
   # disconnect from server
   dbh.disconnect if dbh
end
</pre>
<p>While running this script, it produces the following result at our Linux machine.</p>
<pre class="result notranslate">
Server version: 5.0.45
</pre>
<p>If a connection is established with the data source, then a Database Handle is returned and saved into <b>dbh</b> for further use otherwise <b>dbh</b> is set to nil value and <i>e.err</i> and <i>e::errstr</i> return error code and an error string respectively.</p>
<p>Finally, before coming out it, ensure that database connection is closed and resources are released.</p>
<h2>INSERT Operation</h2>
<p>INSERT operation is required when you want to create your records into a database table.</p>
<p>Once a database connection is established, we are ready to create tables or records into the database tables using <b>do</b> method or <b>prepare</b> and <b>execute</b> method.</p>
<h2>Using do Statement</h2>
<p>Statements that do not return rows can be issued by invoking the <b>do</b> database handle method. This method takes a statement string argument and returns a count of the number of rows affected by the statement.</p>
<pre class="prettyprint notranslate">
dbh.do("DROP TABLE IF EXISTS EMPLOYEE")
dbh.do("CREATE TABLE EMPLOYEE (
   FIRST_NAME  CHAR(20) NOT NULL,
   LAST_NAME  CHAR(20),
   AGE INT,  
   SEX CHAR(1),
   INCOME FLOAT )" );
</pre>
<p>Similarly, you can execute the SQL <i>INSERT</i> statement to create a record into the EMPLOYEE table.</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby -w

require "dbi"

begin
   # connect to the MySQL server
   dbh = DBI.connect("DBI:Mysql:TESTDB:localhost", "testuser", "test123")
   dbh.do( "INSERT INTO EMPLOYEE(FIRST_NAME, LAST_NAME, AGE, SEX, INCOME)
         VALUES ('Mac', 'Mohan', 20, 'M', 2000)" )
   puts "Record has been created"
   dbh.commit
rescue DBI::DatabaseError =&gt; e
   puts "An error occurred"
   puts "Error code:    #{e.err}"
   puts "Error message: #{e.errstr}"
   dbh.rollback
ensure
   # disconnect from server
   dbh.disconnect if dbh
end
</pre>
<h2>Using prepare and execute</h2>
<p>You can use <i>prepare</i> and <i>execute</i> methods of DBI class to execute the SQL statement through Ruby code.</p>
<p>Record creation takes the following steps &minus;</p>
<ul class="list">
<li><p>Preparing SQL statement with INSERT statement. This will be done using the <b>prepare</b> method.</p></li>
<li><p>Executing SQL query to select all the results from the database. This will be done using the <b>execute</b> method.</p></li>
<li><p>Releasing Statement handle. This will be done using <b>finish</b> API</p></li>
<li><p>If everything goes fine, then <b>commit</b> this operation otherwise you can <b>rollback</b> the complete transaction.</p></li>
</ul>
<p>Following is the syntax to use these two methods &minus;</p>
<pre class="result notranslate">
sth = dbh.prepare(statement)
sth.execute
   ... zero or more SQL operations ...
sth.finish
</pre>
<p>These two methods can be used to pass <b>bind</b> values to SQL statements. There may be a case when values to be entered is not given in advance. In such a case, binding values are used. A question mark (<b>?</b>) is used in place of actual values and then actual values are passed through execute() API.</p>
<p>Following is the example to create two records in the EMPLOYEE table &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby -w

require "dbi"

begin
   # connect to the MySQL server
   dbh = DBI.connect("DBI:Mysql:TESTDB:localhost", "testuser", "test123")
   sth = dbh.prepare( "INSERT INTO EMPLOYEE(FIRST_NAME, LAST_NAME, AGE, SEX, INCOME)
         VALUES (?, ?, ?, ?, ?)" )
   sth.execute('John', 'Poul', 25, 'M', 2300)
   sth.execute('Zara', 'Ali', 17, 'F', 1000)
   sth.finish
   dbh.commit
   puts "Record has been created"
rescue DBI::DatabaseError =&gt; e
   puts "An error occurred"
   puts "Error code:    #{e.err}"
   puts "Error message: #{e.errstr}"
   dbh.rollback
ensure
   # disconnect from server
   dbh.disconnect if dbh
end
</pre>
<p>If there are multiple INSERTs at a time, then preparing a statement first and then executing it multiple times within a loop is more efficient than invoking do each time through the loop.</p>
<h2>READ Operation</h2>
<p>READ Operation on any database means to fetch some useful information from the database.</p>
<p>Once our database connection is established, we are ready to make a query into this database. We can use either <b>do</b> method or <b>prepare</b> and <b>execute</b> methods to fetch values from a database table.</p>
<p>Record fetching takes following steps &minus;</p>
<ul class="list">
<li><p>Preparing SQL query based on required conditions. This will be done using the <b>prepare</b> method.</p></li>
<li><p>Executing SQL query to select all the results from the database. This will be done using the <b>execute</b> method.</p></li>
<li><p>Fetching all the results one by one and printing those results. This will be done using the <b>fetch</b> method.</p></li>
<li><p>Releasing Statement handle. This will be done using the <b>finish</b> method.</p></li>
</ul>
<p>Following is the procedure to query all the records from EMPLOYEE table having salary more than 1000.</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby -w

require "dbi"

begin
   # connect to the MySQL server
   dbh = DBI.connect("DBI:Mysql:TESTDB:localhost", "testuser", "test123")
   sth = dbh.prepare("SELECT * FROM EMPLOYEE WHERE INCOME &gt; ?")
   sth.execute(1000)

   sth.fetch do |row|
   printf "First Name: %s, Last Name : %s\n", row[0], row[1]
   printf "Age: %d, Sex : %s\n", row[2], row[3]
   printf "Salary :%d \n\n", row[4]
end
   sth.finish
rescue DBI::DatabaseError =&gt; e
   puts "An error occurred"
   puts "Error code:    #{e.err}"
   puts "Error message: #{e.errstr}"
ensure
   # disconnect from server
   dbh.disconnect if dbh
end
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
First Name: Mac, Last Name : Mohan
Age: 20, Sex : M
Salary :2000

First Name: John, Last Name : Poul
Age: 25, Sex : M
Salary :2300
</pre>
<p>There are more short cut methods to fetch records from the database. If you are interested then go through the <a href="https://www.tutorialspoint.com/ruby/ruby_dbi_fetching_results.htm" title="Ruby DBI Read Operation">Fetching the Result</a> otherwise proceed to the next section.</p>
<h2>Update Operation</h2>
<p>UPDATE Operation on any database means to update one or more records, which are already available in the database. Following is the procedure to update all the records having SEX as 'M'. Here, we will increase AGE of all the males by one year. This will take three steps &minus;</p>
<ul class="list">
<li><p>Preparing SQL query based on required conditions. This will be done using the <b>prepare</b> method.</p></li>
<li><p>Executing SQL query to select all the results from the database. This will be done using the <b>execute</b> method.</p></li>
<li><p>Releasing Statement handle. This will be done using the <b>finish</b> method.</p></li>
<li><p>If everything goes fine then <b>commit</b> this operation otherwise you can <b>rollback</b> the complete transaction.</p></li>
</ul>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby -w

require "dbi"

begin
   # connect to the MySQL server
   dbh = DBI.connect("DBI:Mysql:TESTDB:localhost", "testuser", "test123")
   sth = dbh.prepare("UPDATE EMPLOYEE SET AGE = AGE + 1 WHERE SEX = ?")
   sth.execute('M')
   sth.finish
   dbh.commit
rescue DBI::DatabaseError =&gt; e
   puts "An error occurred"
   puts "Error code:    #{e.err}"
   puts "Error message: #{e.errstr}"
   dbh.rollback
ensure
   # disconnect from server
   dbh.disconnect if dbh
end
</pre>
<h2>DELETE Operation</h2>
<p>DELETE operation is required when you want to delete some records from your database. Following is the procedure to delete all the records from EMPLOYEE where AGE is more than 20. This operation will take following steps.</p>
<ul class="list">
<li><p>Preparing SQL query based on required conditions. This will be done using the <b>prepare</b> method.</p></li>
<li><p>Executing SQL query to delete required records from the database. This will be done using the <b>execute</b> method.</p></li>
<li><p>Releasing Statement handle. This will be done using the <b>finish</b> method.</p></li>
<li><p>If everything goes fine then <b>commit</b> this operation otherwise you can <b>rollback</b> the complete transaction.</p></li>
</ul>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby -w

require "dbi"

begin
   # connect to the MySQL server
   dbh = DBI.connect("DBI:Mysql:TESTDB:localhost", "testuser", "test123")
   sth = dbh.prepare("DELETE FROM EMPLOYEE WHERE AGE &gt; ?")
   sth.execute(20)
   sth.finish
   dbh.commit
rescue DBI::DatabaseError =&gt; e
   puts "An error occurred"
   puts "Error code:    #{e.err}"
   puts "Error message: #{e.errstr}"
   dbh.rollback
ensure
   # disconnect from server
   dbh.disconnect if dbh
end
</pre>
<h2>Performing Transactions</h2>
<p>Transactions are a mechanism that ensures data consistency. Transactions should have the following four properties &minus;</p>
<ul class="list">
<li><p><b>Atomicity</b> &minus; Either a transaction completes or nothing happens at all.</p></li>
<li><p><b>Consistency</b> &minus; A transaction must start in a consistent state and leave the system is a consistent state.</p></li>
<li><p><b>Isolation</b> &minus; Intermediate results of a transaction are not visible outside the current transaction.</p></li>
<li><p><b>Durability</b> &minus; Once a transaction was committed, the effects are persistent, even after a system failure.</p></li>
</ul>
<p>The DBI provides two methods to either <i>commit</i> or <i>rollback</i> a transaction. There is one more method called <i>transaction</i> which can be used to implement transactions. There are two simple approaches to implement transactions &minus;</p>
<h3>Approach I</h3>
<p>The first approach uses DBI's <i>commit</i> and <i>rollback</i> methods to explicitly commit or cancel the transaction &minus;</p>
<pre class="prettyprint notranslate">
dbh['AutoCommit'] = false # Set auto commit to false.
begin
   dbh.do("UPDATE EMPLOYEE SET AGE = AGE+1 WHERE FIRST_NAME = 'John'")
   dbh.do("UPDATE EMPLOYEE SET AGE = AGE+1 WHERE FIRST_NAME = 'Zara'")
   dbh.commit
rescue
   puts "transaction failed"
   dbh.rollback
end
dbh['AutoCommit'] = true
</pre>
<h3>Approach II</h3>
<p>The second approach uses the <i>transaction</i> method. This is simpler, because it takes a code block containing the statements that make up the transaction. The <i>transaction</i> method executes the block, then invokes <i>commit</i> or <i>rollback</i> automatically, depending on whether the block succeeds or fails &minus;</p>
<pre class="prettyprint notranslate">
dbh['AutoCommit'] = false # Set auto commit to false.
dbh.transaction do |dbh|
   dbh.do("UPDATE EMPLOYEE SET AGE = AGE+1 WHERE FIRST_NAME = 'John'")
   dbh.do("UPDATE EMPLOYEE SET AGE = AGE+1 WHERE FIRST_NAME = 'Zara'")
end
dbh['AutoCommit'] = true
</pre>
<h2>COMMIT Operation</h2>
<p>Commit is the operation, which gives a green signal to database to finalize the changes, and after this operation, no change can be reverted back.</p>
<p>Here is a simple example to call the <b>commit</b> method.</p>
<pre class="prettyprint notranslate">
dbh.commit
</pre>
<h2>ROLLBACK Operation</h2>
<p>If you are not satisfied with one or more of the changes and you want to revert back those changes completely, then use the <b>rollback</b> method.</p>
<p>Here is a simple example to call the <b>rollback</b> method.</p>
<pre class="prettyprint notranslate">
dbh.rollback
</pre>
<h2>Disconnecting Database</h2>
<p>To disconnect Database connection, use disconnect API.</p>
<pre class="prettyprint notranslate">
dbh.disconnect
</pre>
<p>If the connection to a database is closed by the user with the disconnect method, any outstanding transactions are rolled back by the DBI. However, instead of depending on any of DBI's implementation details, your application would be better off calling the commit or rollback explicitly.</p>
<h2>Handling Errors</h2>
<p>There are many sources of errors. A few examples are a syntax error in an executed SQL statement, a connection failure, or calling the fetch method for an already canceled or finished statement handle.</p>
<p>If a DBI method fails, DBI raises an exception. DBI methods may raise any of several types of exception but the two most important exception classes are <i>DBI::InterfaceError</i> and <i>DBI::DatabaseError</i>.</p>
<p>Exception objects of these classes have three attributes named <i>err</i>, <i>errstr</i>, and <i>state</i>, which represent the error number, a descriptive error string, and a standard error code. The attributes are explained below &minus;</p>
<ul class="list">
<li><p><b>err</b> &minus; Returns an integer representation of the occurred error or <i>nil</i> if this is not supported by the DBD.The Oracle DBD for example returns the numerical part of an <i>ORA-XXXX</i> error message.</p></li>
<li><p><b>errstr</b> &minus; Returns a string representation of the occurred error.</p></li>
<li><p><b>state</b> &minus; Returns the SQLSTATE code of the occurred error.The SQLSTATE is a five-character-long string. Most DBDs do not support this and return nil instead.</p></li>
</ul>
<p>You have seen following code above in most of the examples &minus;</p>
<pre class="prettyprint notranslate">
rescue DBI::DatabaseError =&gt; e
   puts "An error occurred"
   puts "Error code:    #{e.err}"
   puts "Error message: #{e.errstr}"
   dbh.rollback
ensure
   # disconnect from server
   dbh.disconnect if dbh
end
</pre>
<p>To get debugging information about what your script is doing as it executes, you can enable tracing. To do this, you must first load the dbi/trace module and then call the <i>trace</i> method that controls the trace mode and output destination &minus;</p>
<pre class="prettyprint notranslate">
require "dbi/trace"
..............

trace(mode, destination)
</pre>
<p>The mode value may be 0 (off), 1, 2, or 3, and the destination should be an IO object. The default values are 2 and STDERR, respectively.</p>
<h2>Code Blocks with Methods</h2>
<p>There are some methods that create handles. These methods can be invoked with a code block. The advantage of using code block along with methods is that they provide the handle to the code block as its parameter and automatically cleans up the handle when the block terminates. There are few examples to understand the concept.</p>
<ul class="list">
<li><p><b>DBI.connect</b> &minus; This method generates a database handle and it is recommended to call <i>disconnect</i> at the end of the block to disconnect the database.</p></li>
<li><p><b>dbh.prepare</b> &minus; This method generates a statement handle and it is recommended to <i>finish</i> at the end of the block. Within the block, you must invoke <i>execute</i> method to execute the statement.</p></li>
<li><p><b>dbh.execute</b> &minus; This method is similar except we don't need to invoke execute within the block. The statement handle is automatically executed.</p></li>
</ul>
<h3>Example 1</h3>
<p><b>DBI.connect</b> can take a code block, passes the database handle to it, and automatically disconnects the handle at the end of the block as follows.</p>
<pre class="prettyprint notranslate">
dbh = DBI.connect("DBI:Mysql:TESTDB:localhost", "testuser", "test123") do |dbh|
</pre>
<h3>Example 2</h3>
<p><b>dbh.prepare</b> can take a code block, passes the statement handle to it, and automatically calls finish at the end of the block as follows.</p>
<pre class="prettyprint notranslate">
dbh.prepare("SHOW DATABASES") do |sth|
   sth.execute
   puts "Databases: " + sth.fetch_all.join(", ")
end
</pre>
<h3>Example 3</h3>
<p><b>dbh.execute</b> can take a code block, passes the statement handle to it, and automatically calls finish at the end of the block as follows &minus;</p>
<pre class="prettyprint notranslate">
dbh.execute("SHOW DATABASES") do |sth|
   puts "Databases: " + sth.fetch_all.join(", ")
end
</pre>
<p>DBI <i>transaction</i> method also takes a code block which has been described in above.</p>
<h2>Driver-specific Functions and Attributes</h2>
<p>The DBI lets the database drivers provide additional database-specific functions, which can be called by the user through the <i>func</i> method of any Handle object.</p>
<p>Driver-specific attributes are supported and can be set or gotten using the <b>[]=</b> or <b>[]</b> methods.</p>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i>DBD::Mysql implements the following driver-specific functions &minus;</label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Functions &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>dbh.func(:createdb, db_name)</b>
<p>Creates a new database.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>dbh.func(:dropdb, db_name)</b>
<p>Drops a database.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>dbh.func(:reload)</b>
<p>Performs a reload operation.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>dbh.func(:shutdown)</b>
<p>Shuts down the server.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>dbh.func(:insert_id) =&gt; Fixnum</b>
<p>Returns the most recent AUTO_INCREMENT value for a connection.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>dbh.func(:client_info) =&gt; String</b>
<p>Returns MySQL client information in terms of version.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><b>dbh.func(:client_version) =&gt; Fixnum</b>
<p>Returns client information in terms of version. It's similar to :client_info but it return a fixnum instead of sting.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">8</td>
<td><b>dbh.func(:host_info) =&gt; String</b>
<p>Returns host information.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">9</td>
<td><b>dbh.func(:proto_info) =&gt; Fixnum</b>
<p>Returns protocol being used for the communication.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">10</td>
<td><b>dbh.func(:server_info) =&gt; String</b>
<p>Returns MySQL server information in terms of version.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">11</td>
<td><b>dbh.func(:stat) =&gt; String</b>
<p>Returns current state of the database.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">12</td>
<td><b>dbh.func(:thread_id) =&gt; Fixnum</b>
<p>Returns current thread ID.</p></td>
</tr>
</table>
</div>
</section>
<h3>Example</h3>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

require "dbi"
begin
   # connect to the MySQL server
   dbh = DBI.connect("DBI:Mysql:TESTDB:localhost", "testuser", "test123") 
   puts dbh.func(:client_info)
   puts dbh.func(:client_version)
   puts dbh.func(:host_info)
   puts dbh.func(:proto_info)
   puts dbh.func(:server_info)
   puts dbh.func(:thread_id)
   puts dbh.func(:stat)
rescue DBI::DatabaseError =&gt; e
   puts "An error occurred"
   puts "Error code:    #{e.err}"
   puts "Error message: #{e.errstr}"
ensure
   dbh.disconnect if dbh
end
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
5.0.45
50045
Localhost via UNIX socket
10
5.0.45
150621
Uptime: 384981  Threads: 1  Questions: 1101078  Slow queries: 4 \
Opens: 324  Flush tables: 1  Open tables: 64  \
Queries per second avg: 2.860
</pre>
<h1>Ruby Web Applications - CGI Programming</h1>
<p>Ruby is a general-purpose language; it can't properly be called a <i>web language</i> at all. Even so, web applications and web tools in general are among the most common uses of Ruby.</p>
<p>Not only can you write your own SMTP server, FTP daemon, or Web server in Ruby, but you can also use Ruby for more usual tasks such as CGI programming or as a replacement for PHP.</p>
<p>Please spend few minutes with <a href="https://www.tutorialspoint.com/perl/perl_cgi.htm" title="CGI Programming" target="_blank">CGI Programming</a> Tutorial for more detail on CGI Programming.</p>
<h2>Writing CGI Scripts</h2>
<p>The most basic Ruby CGI script looks like this &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

puts "HTTP/1.0 200 OK"
puts "Content-type: text/html\n\n"
puts "&lt;html&gt;&lt;body&gt;This is a test&lt;/body&gt;&lt;/html&gt;"
</pre>
<p>If you call this script <i>test.cgi</i> and uploaded it to a Unix-based Web hosting provider with the right permissions, you could use it as a CGI script.</p> 
<p>For example, if you have the Web site <a href="https://www.example.com/" rel="nofollow" target="_blank">https://www.example.com/ </a> hosted with a Linux Web hosting provider and you upload <i>test.cgi</i> to the main directory and give it execute permissions, then visiting <a href="https://www.example.com/" rel="nofollow" target="_blank"> https://www.example.com/test.cgi </a> should return an HTML page saying <i><b>This is a test</b></i>.</p>
<p>Here when <i>test.cgi</i> is requested from a Web browser, the Web server looks for <i>test.cgi</i> on the Web site, and then executes it using the Ruby interpreter. The Ruby script returns a basic HTTP header and then returns a basic HTML document.</p>
<h2>Using cgi.rb</h2>
<p>Ruby comes with a special library called <b>cgi</b> that enables more sophisticated interactions than those with the preceding CGI script.</p>
<p>Let's create a basic CGI script that uses cgi &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

require 'cgi'

cgi = CGI.new
puts cgi.header
puts "&lt;html&gt;&lt;body&gt;This is a test&lt;/body&gt;&lt;/html&gt;"
</pre>
<p>Here, you created a CGI object and used it to print the header line for you.</p>
<h2>Form Processing</h2>
<p>Using class CGI gives you access to HTML query parameters in two ways. Suppose we are given a URL of /cgi-bin/test.cgi?FirstName = Zara&amp;LastName = Ali.</p>
<p>You can access the parameters <i>FirstName</i> and <i>LastName</i> using CGI#[] directly as follows &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

require 'cgi'
cgi = CGI.new
cgi['FirstName'] # =&gt;  ["Zara"]
cgi['LastName']  # =&gt;  ["Ali"]
</pre>
<p>There is another way to access these form variables. This code will give you a hash of all the key and values &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

require 'cgi'
cgi = CGI.new
h = cgi.params  # =&gt;  {"FirstName"=&gt;["Zara"],"LastName"=&gt;["Ali"]}
h['FirstName']  # =&gt;  ["Zara"]
h['LastName']   # =&gt;  ["Ali"]
</pre>
<p>Following is the code to retrieve all the keys &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

require 'cgi'
cgi = CGI.new
cgi.keys         # =&gt;  ["FirstName", "LastName"]
</pre>
<p>If a form contains multiple fields with the same name, the corresponding values will be returned to the script as an array. The [] accessor returns just the first of these.index the result of the params method to get them all.</p>
<p>In this example, assume the form has three fields called "name" and we entered three names "Zara", "Huma" and "Nuha" &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

require 'cgi'
cgi = CGI.new
cgi['name']        # =&gt; "Zara"
cgi.params['name'] # =&gt; ["Zara", "Huma", "Nuha"]
cgi.keys           # =&gt; ["name"]
cgi.params         # =&gt; {"name"=&gt;["Zara", "Huma", "Nuha"]}
</pre>
<p><b>Note</b> &minus; Ruby will take care of GET and POST methods automatically. There is no separate treatment for these two different methods.</p>
<p>An associated, but basic, form that could send the correct data would have the HTML code like so &minus;</p>
<pre class="prettyprint notranslate">
&lt;html&gt;
   &lt;body&gt;
      &lt;form method = "POST" action = "http://www.example.com/test.cgi"&gt;
         First Name :&lt;input type = "text" name = "FirstName" value = "" /&gt;
         &lt;br /&gt;
         Last Name :&lt;input type = "text" name = "LastName" value = "" /&gt; 
         &lt;input type = "submit" value = "Submit Data" /&gt;
      &lt;/form&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<h2>Creating Forms and HTML</h2>
<p>CGI contains a huge number of methods used to create HTML. You will find one method per tag. In order to enable these methods, you must create a CGI object by calling CGI.new.</p>
<p>To make tag nesting easier, these methods take their content as code blocks. The code blocks should return a <i>String</i>, which will be used as the content for the tag. For example &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

require "cgi"
cgi = CGI.new("html4")
cgi.out{
   cgi.html{
      cgi.head{ "\n"&plus;cgi.title{"This Is a Test"} } &plus;
      cgi.body{ "\n"&plus;
         cgi.form{"\n"&plus;
            cgi.hr &plus;
            cgi.h1 { "A Form: " } &plus; "\n"&plus;
            cgi.textarea("get_text") &plus;"\n"+
            cgi.br +
            cgi.submit
         }
      }
   }
}
</pre>
<p><b>NOTE</b> &minus; The <i>form</i> method of the CGI class can accept a method parameter, which will set the HTTP method ( GET, POST, and so on...) to be used on form submittal. The default, used in this example, is POST.</p>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Content-Type: text/html
Content-Length: 302

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Final//EN"&gt;

&lt;HTML&gt;
   &lt;HEAD&gt;
      &lt;TITLE&gt;This Is a Test&lt;/TITLE&gt;
   &lt;/HEAD&gt;
   &lt;BODY&gt;
      &lt;FORM METHOD = "post" ENCTYPE = "application/x-www-form-urlencoded"&gt;
         &lt;HR&gt;
         &lt;H1&gt;A Form: &lt;/H1&gt;
         &lt;TEXTAREA COLS = "70" NAME = "get_text" ROWS = "10"&gt;&lt;/TEXTAREA&gt;
         &lt;BR&gt;
         &lt;INPUT TYPE = "submit"&gt;
      &lt;/FORM&gt;
   &lt;/BODY&gt;
&lt;/HTML&gt;
</pre>
<h2>Quoting Strings</h2>
<p>When dealing with URLs and HTML code, you must be careful to quote certain characters. For instance, a slash character ( / ) has special meaning in a URL, so it must be <b>escaped</b> if it's not part of the pathname.</p>
<p>For example, any / in the query portion of the URL will be translated to the string %2F and must be translated back to a / for you to use it. Space and ampersand are also special characters. To handle this, CGI provides the routines <b>CGI.escape</b> and  <b>CGI.unescape</b>.</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

require 'cgi'
puts CGI.escape(Zara Ali/A Sweet &amp; Sour Girl")
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Zara+Ali%2FA Sweet+%26+Sour+Girl")
</pre><p></p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

require 'cgi'
puts CGI.escapeHTML('&lt;h1&gt;Zara Ali/A Sweet &amp; Sour Girl&lt;/h1&gt;')
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
&amp;lt;h1&amp;gt;Zara Ali/A Sweet &amp; Sour Girl&amp;lt;/h1&amp;gt;'
</pre>
<h2>Useful Methods in CGI Class</h2>
<p>Here is the list of methods related to CGI class &minus;</p>
<ul class="list">
<li><p>The <a href="https://www.tutorialspoint.com/ruby/ruby_cgi_methods.htm">Ruby CGI</a> - Methods related to Standard CGI library.</p></li>
</ul>
<h2>Cookies and Sessions</h2>
<p>We have explained these two concepts in different sections. Please follow the sections &minus;</p>
<ul class="list">
<li><p>The <a href="https://www.tutorialspoint.com/ruby/ruby_cgi_cookies.htm">Ruby CGI Cookies</a> - How to handle CGI Cookies.</p></li>
<li><p>The <a href="https://www.tutorialspoint.com/ruby/ruby_cgi_sessions.htm">Ruby CGI Sessions</a> - How to manage CGI sessions.</p></li>
</ul>
<h2>Web Hosting Servers</h2>
<p>You could check the following topic on the internet to host your website on a Unix-based Server &minus;</p>
<ul class="list">
<li><p><a href="http://www.webhostingsearch.com/linux-web-hosting.php" rel="nofollow" target="_blank">Unix-based Web hosting</a></p></li>
</ul>
<h1>Sending Email using Ruby - SMTP</h1>
<p>Simple Mail Transfer Protocol (SMTP) is a protocol, which handles sending e-mail and routing e-mail between mail servers.</p>
<p>Ruby provides Net::SMTP class for Simple Mail Transfer Protocol (SMTP) client-side connection and provides two class methods <i>new</i> and <i>start</i>.</p>
<ul class="list">
<li><p>The <b>new</b> takes two parameters &minus;</p>
<ul class="list">
<li>The <i>server name</i> defaulting to localhost.</li>
<li>The <i>port number</i> defaulting to the well-known port 25.</li>
</ul>
</li>
<li><p>The <b>start</b> method takes these parameters &minus;</p>
<ul class="list">
<li><p>The <i>server</i> &minus; IP name of the SMTP server, defaulting to localhost.</p></li>
<li><p>The <i>port</i> &minus; Port number, defaulting to 25.</p></li>
<li><p>The <i>domain</i> &minus; Domain of the mail sender, defaulting to ENV["HOSTNAME"].</p></li>
<li><p>The <i>account</i> &minus; Username, default is nil.</p></li>
<li><p>The <i>password</i> &minus; User password, defaulting to nil.</p></li>
<li><p>The <i>authtype</i> &minus; Authorization type, defaulting to <i>cram_md5</i>.</p></li>
</ul>
</li>
</ul>
<p>An SMTP object has an instance method called sendmail, which will typically be used to do the work of mailing a message. It takes three parameters &minus;</p>
<ul class="list">
<li><p>The <i>source</i> &minus; A string or array or anything with an <i>each</i> iterator returning one string at a time.</p></li>
<li><p>The <i>sender</i> &minus; A string that will appear in the <i>from</i> field of the email.</p></li>
<li><p>The <i>recipients</i> &minus; A string or an array of strings representing the recipients' addressee(s).</p></li>
</ul>
<h3>Example</h3>
<p>Here is a simple way to send one email using Ruby script. Try it once &minus;</p>
<pre class="prettyprint notranslate">
require 'net/smtp'

message = &lt;&lt;MESSAGE_END
From: Private Person &lt;me&commat;fromdomain.com&gt;
To: A Test User &lt;test&commat;todomain.com&gt;
Subject: SMTP e-mail test

This is a test e-mail message.
MESSAGE_END

Net::SMTP.start('localhost') do |smtp|
  smtp.send_message message, 'me&commat;fromdomain.com', 'test&commat;todomain.com'
end
</pre>
<p>Here, you have placed a basic e-mail in message, using a document, taking care to format the headers correctly. E-mails require a <b>From</b>, <b>To</b>, and <b>Subject</b> header, separated from the body of the e-mail with a blank line.</p>
<p>To send the mail you use Net::SMTP to connect to the SMTP server on the local machine and then use the send_message method along with the message, the from address, and the destination address as parameters (even though the from and to addresses are within the e-mail itself, these aren't always used to route mail).</p>
<p>If you're not running an SMTP server on your machine, you can use the Net::SMTP to communicate with a remote SMTP server. Unless you're using a webmail service (such as Hotmail or Yahoo! Mail), your e-mail provider will have provided you with outgoing mail server details that you can supply to Net::SMTP, as follows &minus;</p>
<pre class="prettyprint notranslate">
Net::SMTP.start('mail.your-domain.com')
</pre>
<p>This line of code connects to the SMTP server on port 25 of mail.your-domain.com without using any username or password. If you need to, though, you can specify port number and other details. For example &minus;</p>
<pre class="prettyprint notranslate">
Net::SMTP.start('mail.your-domain.com', 
                25, 
                'localhost', 
                'username', 'password' :plain)
</pre>
<p>This example connects to the SMTP server at mail.your-domain.com using a username and password in plain text format. It identifies the client's hostname as localhost.</p>
<h2>Sending an HTML e-mail using Ruby</h2>
<p>When you send a text message using Ruby then all the content will be treated as simple text. Even if you will include HTML tags in a text message, it will be displayed as simple text and HTML tags will not be formatted according to HTML syntax. But Ruby Net::SMTP provides option to send an HTML message as actual HTML message.</p>
<p>While sending an email message you can specify a Mime version, content type and character set to send an HTML email.</p>
<h3>Example</h3>
<p>Following is the example to send HTML content as an email. Try it once &minus;</p>
<pre class="prettyprint notranslate">
require 'net/smtp'

message = &lt;&lt;MESSAGE_END
From: Private Person &lt;me&commat;fromdomain.com&gt;
To: A Test User &lt;test&commat;todomain.com&gt;
MIME-Version: 1.0
Content-type: text/html
Subject: SMTP e-mail test

This is an e-mail message to be sent in HTML format

&lt;b&gt;This is HTML message.&lt;/b&gt;
&lt;h1&gt;This is headline.&lt;/h1&gt;
MESSAGE_END

Net::SMTP.start('localhost') do |smtp|
  smtp.send_message message, 'me&commat;fromdomain.com', 'test&commat;todomain.com'
end
</pre>
<h2>Sending Attachments as an e-mail</h2>
<p>To send an email with mixed content requires to set <b>Content-type</b> header to <b>multipart/mixed</b>. Then text and attachment sections can be specified within <b>boundaries</b>.</p>
<p>A boundary is started with two hyphens followed by a unique number, which cannot appear in the message part of the email. A final boundary denoting the email's final section must also end with two hyphens.</p>
<p>Attached files should be encoded with the <b>pack("m")</b> function to have base64 encoding before transmission.</p>
<h3>Example</h3>
<p>Following is the example, which will send a file <b>/tmp/test.txt</b> as an attachment.</p>
<pre class="prettyprint notranslate">
require 'net/smtp'

filename = "/tmp/test.txt"
# Read a file and encode it into base64 format
filecontent = File.read(filename)
encodedcontent = [filecontent].pack("m")   # base64

marker = "AUNIQUEMARKER"

body = &lt;&lt;EOF
This is a test email to send an attachement.
EOF

# Define the main headers.
part1 = &lt;&lt;EOF
From: Private Person &lt;me&commat;fromdomain.net&gt;
To: A Test User &lt;test&commat;todmain.com&gt;
Subject: Sending Attachement
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary = #{marker}
--#{marker}
EOF

# Define the message action
part2 = &lt;&lt;EOF
Content-Type: text/plain
Content-Transfer-Encoding:8bit

#{body}
--#{marker}
EOF

# Define the attachment section
part3 = &lt;&lt;EOF
Content-Type: multipart/mixed; name = \"#{filename}\"
Content-Transfer-Encoding:base64
Content-Disposition: attachment; filename = "#{filename}"

#{encodedcontent}
--#{marker}--
EOF

mailtext = part1 &plus; part2 &plus; part3

# Let's put our code in safe area
begin 
   Net::SMTP.start('localhost') do |smtp|
      smtp.sendmail(mailtext, 'me&commat;fromdomain.net', ['test&commat;todmain.com'])
   end
rescue Exception =&gt; e  
   print "Exception occured: " &plus; e  
end  
</pre>
<p><b>NOTE</b> &minus; You can specify multiple destinations inside the array but they should be separated by comma.</p>
<h1>Ruby - Socket Programming</h1>
<p>Ruby provides two levels of access to network services. At a low level, you can access the basic socket support in the underlying operating system, which allows you to implement clients and servers for both connection-oriented and connectionless protocols.</p>
<p>Ruby also has libraries that provide higher-level access to specific application-level network protocols, such as FTP, HTTP, and so on.</p>
<p>This chapter gives you an understanding on most famous concept in Networking &minus; Socket Programming.</p>
<h2>What are Sockets?</h2>
<p>Sockets are the endpoints of a bidirectional communications channel. Sockets may communicate within a process, between processes on the same machine, or between processes on different continents.</p>
<p>Sockets may be implemented over a number of different channel types: Unix domain sockets, TCP, UDP, and so on. The <i>socket</i> provides specific classes for handling the common transports as well as a generic interface for handling the rest.</p>
<p>Sockets have their own vocabulary &minus;</p>
<table class="table table-bordered">
<tr>
<th>Sr.No.</th>
<th style="text-align:center;">Term &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>domain</b>
<p>The family of protocols that will be used as the transport mechanism. These values are constants such as PF_INET, PF_UNIX, PF_X25, and so on.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>type</b>
<p>The type of communications between the two endpoints, typically SOCK_STREAM for connection-oriented protocols and SOCK_DGRAM for connectionless protocols.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>protocol</b>
<p>Typically zero, this may be used to identify a variant of a protocol within a domain and type.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>hostname</b>
<p>The identifier of a network interface &minus;</p>
<p>A string, which can be a host name, a dotted-quad address, or an IPV6 address in colon (and possibly dot) notation</p>
<p>A string "&lt;broadcast&gt;", which specifies an INADDR_BROADCAST address.</p>
<p>A zero-length string, which specifies INADDR_ANY, or</p>
<p>An Integer, interpreted as a binary address in host byte order.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>port</b>
<p>Each server listens for clients calling on one or more ports. A port may be a Fixnum port number, a string containing a port number, or the name of a service.</p></td>
</tr>
</table>
<h2>A Simple Client</h2>
<p>Here we will write a very simple client program, which will open a connection to a given port and given host. Ruby class <b>TCPSocket</b> provides <i>open</i> function to open such a socket.</p> 
<p>The <b>TCPSocket.open(hosname, port )</b> opens a TCP connection to <i>hostname</i> on the <i>port</i>.</p>
<p>Once you have a socket open, you can read from it like any IO object. When done, remember to close it, as you would close a file.</p>
<p>The following code is a very simple client that connects to a given host and port, reads any available data from the socket, and then exits &minus;</p>
<pre class="prettyprint notranslate">
require 'socket'      # Sockets are in standard library

hostname = 'localhost'
port = 2000

s = TCPSocket.open(hostname, port)

while line = s.gets   # Read lines from the socket
   puts line.chop      # And print with platform line terminator
end
s.close               # Close the socket when done
</pre>
<h2>A Simple Server</h2>
<p>To write Internet servers, we use the <b>TCPServer</b> class. A TCPServer object is a factory for TCPSocket objects.</p>
<p>Now call <b>TCPServer.open(hostname, port</b> function to specify a <i>port</i> for your service and create a <b>TCPServer</b> object.</p>
<p>Next, call the <i>accept</i> method of the returned TCPServer object. This method waits until a client connects to the port you specified, and then returns a <i>TCPSocket</i> object that represents the connection to that client.</p>
<pre class="prettyprint notranslate">
require 'socket'               # Get sockets from stdlib

server = TCPServer.open(2000)  # Socket to listen on port 2000
loop {                         # Servers run forever
   client = server.accept       # Wait for a client to connect
   client.puts(Time.now.ctime)  # Send the time to the client
   client.puts "Closing the connection. Bye!"
   client.close                 # Disconnect from the client
}
</pre>
<p>Now, run this server in background and then run the above client to see the result.</p>
<h2>Multi-Client TCP Servers</h2>
<p>Most servers on the Internet are designed to deal with large numbers of clients at any one time.</p>
<p>Ruby's <i>Thread</i> class makes it easy to create a multithreaded server.one that accepts requests and immediately creates a new thread of execution to process the connection while allowing the main program to await more connections &minus;</p>
<pre class="prettyprint notranslate">
require 'socket'                # Get sockets from stdlib

server = TCPServer.open(2000)   # Socket to listen on port 2000
loop {                          # Servers run forever
   Thread.start(server.accept) do |client|
   client.puts(Time.now.ctime) # Send the time to the client
   client.puts "Closing the connection. Bye!"
   client.close                # Disconnect from the client
   end
}
</pre>
<p>In this example, you have a permanent loop, and when server.accept responds, a new thread is created and started immediately to handle the connection that has just been accepted, using the connection object passed into the thread. However, the main program immediately loops back and awaits new connections.</p>
<p>Using Ruby threads in this way means the code is portable and will run in the same way on Linux, OS X, and Windows.</p>
<h2>A Tiny Web Browser</h2>
<p>We can use the socket library to implement any Internet protocol. Here, for example, is a code to fetch the content of a web page &minus;</p>
<pre class="prettyprint notranslate">
require 'socket'
 
host = 'www.tutorialspoint.com'     # The web server
port = 80                           # Default HTTP port
path = "/index.htm"                 # The file we want 

# This is the HTTP request we send to fetch a file
request = "GET #{path} HTTP/1.0\r\n\r\n"

socket = TCPSocket.open(host,port)  # Connect to server
socket.print(request)               # Send request
response = socket.read              # Read complete response
# Split response at first blank line into headers and body
headers,body = response.split("\r\n\r\n", 2) 
print body                          # And display it
</pre>
<p>To implement the similar web client, you can use a pre-built library like <b>Net::HTTP</b> for working with HTTP. Here is the code that does the equivalent of the previous code &minus;</p>
<pre class="prettyprint notranslate">
require 'net/http'                  # The library we need
host = 'www.tutorialspoint.com'     # The web server
path = '/index.htm'                 # The file we want 

http = Net::HTTP.new(host)          # Create a connection
headers, body = http.get(path)      # Request the file
if headers.code == "200"            # Check the status code   
   print body                        
else                                
   puts "#{headers.code} #{headers.message}" 
end
</pre>
<p>Please check similar libraries to work with FTP, SMTP, POP, and IMAP protocols.</p>
<h2>Further Readings</h2>
<p>We have given you a quick start on Socket Programming. It is a big subject, so it is recommended that you go through <a href="https://www.ruby-doc.org/stdlib/libdoc/socket/rdoc/index.html" title="Ruby Socket Library" target="_blank" rel="nofollow">Ruby Socket Library and Class Methods</a> to find more details.</p>
<h1>Ruby - XML, XSLT and XPath Tutorial</h1>
<h2>What is XML?</h2>
<p>The Extensible Markup Language (XML) is a markup language much like HTML or SGML. This is recommended by the World Wide Web Consortium and available as an open standard.</p>
<p>XML is a portable, open source language that allows programmers to develop applications that can be read by other applications, regardless of operating system and/or developmental language.</p>
<p>XML is extremely useful for keeping track of small to medium amounts of data without requiring a SQL-based backbone.</p>
<h2>XML Parser Architectures and APIs</h2>
<p>There are two different flavors available for XML parsers &minus;</p>
<ul class="list">
<li><p><b>SAX-like (Stream interfaces)</b> &minus; Here you register callbacks for events of interest and then let the parser proceed through the document. This is useful when your documents are large or you have memory limitations, it parses the file as it reads it from disk, and the entire file is never stored in memory.</p></li>
<li><p><b>DOM-like (Object tree interfaces)</b> &minus; This is World Wide Web Consortium recommendation wherein the entire file is read into memory and stored in a hierarchical (tree-based) form to represent all the features of an XML document.</p></li>
</ul>
<p>SAX obviously can't process information as fast as DOM can when working with large files. On the other hand, using DOM exclusively can really kill your resources, especially if used on a lot of small files.</p>
<p>SAX is read-only, while DOM allows changes to the XML file. Since these two different APIs literally complement each other there is no reason why you can't use them both for large projects.</p>
<h2>Parsing and Creating XML using Ruby</h2>
<p>The most common way to manipulate XML is with the REXML library by Sean Russell. Since 2002, REXML has been part of the standard Ruby distribution.</p>
<p>REXML is a pure-Ruby XML processor conforming to the XML 1.0 standard. It is a <i>nonvalidating</i> processor, passing all of the OASIS nonvalidating conformance tests.</p>
<p>REXML parser has the following advantages over other available parsers &minus;</p>
<ul class="list">
<li>It is written 100 percent in Ruby.</li>
<li>It can be used for both SAX and DOM parsing.</li>
<li>It is lightweight, less than 2000 lines of code.</li>
<li>Methods and classes are really easy-to-understand.</li>
<li>SAX2-based API and Full XPath support.</li>
<li>Shipped with Ruby installation and no separate installation is required.</li>
</ul>
<p>For all our XML code examples, let's use a simple XML file as an input &minus;</p>
<pre class="prettyprint notranslate" id="movies_xml">
&lt;collection shelf = "New Arrivals"&gt;
   &lt;movie title = "Enemy Behind"&gt;
      &lt;type&gt;War, Thriller&lt;/type&gt;
      &lt;format&gt;DVD&lt;/format&gt;
      &lt;year&gt;2003&lt;/year&gt;
      &lt;rating&gt;PG&lt;/rating&gt;
      &lt;stars&gt;10&lt;/stars&gt;
      &lt;description&gt;Talk about a US-Japan war&lt;/description&gt;
   &lt;/movie&gt;
   &lt;movie title = "Transformers"&gt;
      &lt;type&gt;Anime, Science Fiction&lt;/type&gt;
      &lt;format&gt;DVD&lt;/format&gt;
      &lt;year&gt;1989&lt;/year&gt;
      &lt;rating&gt;R&lt;/rating&gt;
      &lt;stars&gt;8&lt;/stars&gt;
      &lt;description&gt;A schientific fiction&lt;/description&gt;
   &lt;/movie&gt;
   &lt;movie title = "Trigun"&gt;
      &lt;type&gt;Anime, Action&lt;/type&gt;
      &lt;format&gt;DVD&lt;/format&gt;
      &lt;episodes&gt;4&lt;/episodes&gt;
      &lt;rating&gt;PG&lt;/rating&gt;
      &lt;stars&gt;10&lt;/stars&gt;
      &lt;description&gt;Vash the Stampede!&lt;/description&gt;
   &lt;/movie&gt;
   &lt;movie title = "Ishtar"&gt;
      &lt;type&gt;Comedy&lt;/type&gt;
      &lt;format&gt;VHS&lt;/format&gt;
      &lt;rating&gt;PG&lt;/rating&gt;
      &lt;stars&gt;2&lt;/stars&gt;
      &lt;description&gt;Viewable boredom&lt;/description&gt;
   &lt;/movie&gt;
&lt;/collection&gt;
</pre>
<h2>DOM-like Parsing</h2>
<p>Let's first parse our XML data in <i>tree fashion</i>. We begin by requiring the <b>rexml/document</b> library; often we do an include REXML to import into the top-level namespace for convenience.</p>
<pre class="prettyprint notranslate" title=",,,movies_xml">
#!/usr/bin/ruby -w

require 'rexml/document'
include REXML

xmlfile = File.new("movies.xml")
xmldoc = Document.new(xmlfile)

# Now get the root element
root = xmldoc.root
puts "Root element : " + root.attributes["shelf"]

# This will output all the movie titles.
xmldoc.elements.each("collection/movie"){ 
   |e| puts "Movie Title : " + e.attributes["title"] 
}

# This will output all the movie types.
xmldoc.elements.each("collection/movie/type") {
   |e| puts "Movie Type : " + e.text 
}

# This will output all the movie description.
xmldoc.elements.each("collection/movie/description") {
   |e| puts "Movie Description : " + e.text 
}
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
Root element : New Arrivals
Movie Title : Enemy Behind
Movie Title : Transformers
Movie Title : Trigun
Movie Title : Ishtar
Movie Type : War, Thriller
Movie Type : Anime, Science Fiction
Movie Type : Anime, Action
Movie Type : Comedy
Movie Description : Talk about a US-Japan war
Movie Description : A schientific fiction
Movie Description : Vash the Stampede!
Movie Description : Viewable boredom
</pre>
<h2>SAX-like Parsing</h2>
<p>To process the same data, <i>movies.xml</i>, file in a <i>stream-oriented</i> way we will define a <i>listener</i> class whose methods will be the target of <i>callbacks</i> from the parser.</p>
<p><b>NOTE</b> &minus; It is not suggested to use SAX-like parsing for a small file, this is just for a demo example.</p>
<pre class="prettyprint notranslate" title=",,,movies_xml">
#!/usr/bin/ruby -w

require 'rexml/document'
require 'rexml/streamlistener'
include REXML


class MyListener
   include REXML::StreamListener
   def tag_start(*args)
      puts "tag_start: #{args.map {|x| x.inspect}.join(', ')}"
   end

   def text(data)
      return if data =~ /^\w*$/     # whitespace only
      abbrev = data[0..40] + (data.length &gt; 40 ? "..." : "")
      puts "  text   :   #{abbrev.inspect}"
   end
end

list = MyListener.new
xmlfile = File.new("movies.xml")
Document.parse_stream(xmlfile, list)
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
tag_start: "collection", {"shelf"=&gt;"New Arrivals"}
tag_start: "movie", {"title"=&gt;"Enemy Behind"}
tag_start: "type", {}
   text   :   "War, Thriller"
tag_start: "format", {}
tag_start: "year", {}
tag_start: "rating", {}
tag_start: "stars", {}
tag_start: "description", {}
   text   :   "Talk about a US-Japan war"
tag_start: "movie", {"title"=&gt;"Transformers"}
tag_start: "type", {}
   text   :   "Anime, Science Fiction"
tag_start: "format", {}
tag_start: "year", {}
tag_start: "rating", {}
tag_start: "stars", {}
tag_start: "description", {}
   text   :   "A schientific fiction"
tag_start: "movie", {"title"=&gt;"Trigun"}
tag_start: "type", {}
   text   :   "Anime, Action"
tag_start: "format", {}
tag_start: "episodes", {}
tag_start: "rating", {}
tag_start: "stars", {}
tag_start: "description", {}
   text   :   "Vash the Stampede!"
tag_start: "movie", {"title"=&gt;"Ishtar"}
tag_start: "type", {}
tag_start: "format", {}
tag_start: "rating", {}
tag_start: "stars", {}
tag_start: "description", {}
   text   :   "Viewable boredom"
</pre>
<h2>XPath and Ruby</h2>
<p>An alternative way to view XML is XPath. This is a kind of pseudo-language that describes how to locate specific elements and attributes in an XML document, treating that document as a logical ordered tree.</p>
<p>REXML has XPath support via the <i>XPath</i> class. It assumes tree-based parsing (document object model) as we have seen above.</p>
<pre class="prettyprint notranslate" title=",,,movies_xml">
#!/usr/bin/ruby -w

require 'rexml/document'
include REXML

xmlfile = File.new("movies.xml")
xmldoc = Document.new(xmlfile)

# Info for the first movie found
movie = XPath.first(xmldoc, "//movie")
p movie

# Print out all the movie types
XPath.each(xmldoc, "//type") { |e| puts e.text }

# Get an array of all of the movie formats.
names = XPath.match(xmldoc, "//format").map {|x| x.text }
p names
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
&lt;movie title = 'Enemy Behind'&gt; ... &lt;/&gt;
War, Thriller
Anime, Science Fiction
Anime, Action
Comedy
["DVD", "DVD", "DVD", "VHS"]
</pre>
<h2>XSLT and Ruby</h2>
<p>There are two XSLT parsers available that Ruby can use. A brief description of each is given here.</p>
<h3>Ruby-Sablotron</h3>
<p>This parser is written and maintained by Masayoshi Takahashi. This is written primarily for Linux OS and requires the following libraries &minus;</p>
<ul class="list">
<li>Sablot</li>
<li>Iconv</li>
<li>Expat</li>
</ul>
<p>You can find this module at <b>Ruby-Sablotron</b>.</p>
<h3>XSLT4R</h3>
<p>XSLT4R is written by Michael Neumann and can be found at the RAA in the Library section under XML. XSLT4R uses a simple commandline interface, though it can alternatively be used within a third-party application to transform an XML document.</p>
<p>XSLT4R needs XMLScan to operate, which is included within the XSLT4R archive and which is also a 100 percent Ruby module. These modules can be installed using standard Ruby installation method (i.e., ruby install.rb).</p>
<p>XSLT4R has the following syntax &minus;</p>
<pre class="result notranslate">
ruby xslt.rb stylesheet.xsl document.xml [arguments]
</pre>
<p>If you want to use XSLT4R from within an application, you can include XSLT and input the parameters you need. Here is the example &minus;</p>
<pre class="prettyprint notranslate">
require "xslt"

stylesheet = File.readlines("stylesheet.xsl").to_s
xml_doc = File.readlines("document.xml").to_s
arguments = { 'image_dir' =&gt; '/....' }

sheet = XSLT::Stylesheet.new( stylesheet, arguments )

# output to StdOut
sheet.apply( xml_doc )

# output to 'str'
str = ""
sheet.output = [ str ]
sheet.apply( xml_doc )
</pre>
<h2>Further Reading</h2>
<ul class="list">
<li><p>For a complete detail on REXML Parser, please refer to standard documentation for <a  target="_blank" rel="nofollow" href="http://www.germane-software.com/software/rexml/">REXML Parser Documentation</a>.</p></li>
<li><p>You can download XSLT4R from <a  target="_blank" rel="nofollow" href="http://raa.ruby-lang.org/project/xslt4r/">RAA Repository</a>.</p></li>
</ul>
<h1>Web Services with Ruby - SOAP4R</h1>
<h2>What is SOAP?</h2>
<p>The Simple Object Access Protocol (SOAP), is a cross-platform and language-independent RPC protocol based on XML and, usually (but not necessarily) HTTP.</p>
<p>It uses XML to encode the information that makes the remote procedure call, and HTTP to transport that information across a network from clients to servers and vice versa.</p>
<p>SOAP has several advantages over other technologies like COM, CORBA etc: for example, its relatively cheap deployment and debugging costs, its extensibility and ease-of-use, and the existence of several implementations for different languages and platforms.</p>
<p>Please refer to our simple tutorial <a href="https://www.tutorialspoint.com/soap/index.htm" title="SOAP Tutorial">SOAP</a> to understand it in detail.</p>
<p>This chapter makes you familiar with the SOAP implementation for Ruby (SOAP4R). This is a basic tutorial, so if you need a deep detail, you would need to refer other resources.</p>
<h2>Installing SOAP4R</h2>
<p>SOAP4R is the SOAP implementation for Ruby developed by Hiroshi Nakamura and can be downloaded from &minus;</p>
<p><b>NOTE</b> &minus; There may be a great chance that you already have installed this component.</p>
<pre class="result notranslate">
<a  target="_blank" rel="nofollow" href="http://raa.ruby-lang.org/project/soap4r/">Download SOAP</a>
</pre>
<p>If you are aware of <b>gem</b> utility then you can use the following command to install SOAP4R and related packages.</p>
<pre class="result notranslate">
$ gem install soap4r --include-dependencies
</pre>
<p>If you are working on Windows, then you need to download a zipped file from the above location and need to install it using the standard installation method by running <i>ruby install.rb</i>.</p>
<h2>Writing SOAP4R Servers</h2>
<p>SOAP4R supports two different types of servers &minus;</p>
<ul class="list">
<li><p>CGI/FastCGI based (SOAP::RPC::CGIStub)</p></li>
<li><p>Standalone (SOAP::RPC:StandaloneServer)</p></li>
</ul>
<p>This chapter gives detail on writing a stand alone server. The following steps are involved in writing a SOAP server.</p>
<h3>Step 1 - Inherit SOAP::RPC::StandaloneServer Class</h3>
<p>To implement your own stand alone server you need to write a new class, which will be child of <i>SOAP::StandaloneServer</i> as follows &minus;</p>
<pre class="prettyprint notranslate">
class MyServer &lt; SOAP::RPC::StandaloneServer
  ...............
end
</pre>
<p><b>NOTE</b> &minus; If you want to write a FastCGI based server then you need to take <i>SOAP::RPC::CGIStub</i> as parent class, rest of the procedure will remain the same.</p>
<h3>Step 2 - Define Handler Methods</h3>
<p>Second step is to write your Web Services methods, which you would like to expose to the outside world.</p>
<p>They can be written as simple Ruby methods. For example, let's write two methods to add two numbers and divide two numbers &minus;</p>
<pre class="prettyprint notranslate">
class MyServer &lt; SOAP::RPC::StandaloneServer
   ...............

   # Handler methods
   def add(a, b)
      return a &plus; b
   end
   def div(a, b) 
      return a / b 
   end
end
</pre>
<h3>Step 3 - Expose Handler Methods</h3>
<p>Next step is to add our defined methods to our server. The <i>initialize</i> method is used to expose service methods with one of the two following methods &minus;</p>
<pre class="prettyprint notranslate">
class MyServer &lt; SOAP::RPC::StandaloneServer
   def initialize(*args)
      add_method(receiver, methodName, *paramArg)
   end
end
</pre>
<p>Here is the description of the parameters &minus;</p>
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Parameter &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>receiver</b>
<p>The object that contains the methodName method. You define the service methods in the same class as the methodDef method, this parameter is <i>self</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>methodName</b>
<p>The name of the method that is called due to an RPC request.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>paramArg</b>
<p>Specifies, when given, the parameter names and parameter modes.</p></td>
</tr>
</table>
<p>To understand the usage of <i>inout</i> or <i>out</i> parameters, consider the following service method that takes two parameters (inParam and inoutParam), returns one normal return value (retVal) and two further parameters: <i>inoutParam</i> and <i>outParam</i> &minus;</p>
<pre class="prettyprint notranslate">
def aMeth(inParam, inoutParam)
   retVal = inParam &plus; inoutParam
   outParam = inParam . inoutParam
   inoutParam = inParam * inoutParam
   return retVal, inoutParam, outParam
end
</pre>
<p>Now, we can expose this method as follows &minus;</p>
<pre class="prettyprint notranslate">
add_method(self, 'aMeth', [
   %w(in inParam),
   %w(inout inoutParam),
   %w(out outParam),
   %w(retval return)
])
</pre>
<h3>Step 4 - Start the Server</h3>
<p>The final step is to start your server by instantiating one instance of the derived class and calling <b>start</b> method.</p>
<pre class="prettyprint notranslate">
myServer = MyServer.new('ServerName', 'urn:ruby:ServiceName', hostname, port)

myServer.start
</pre>
<p>Here is the description of required parameters &minus;</p>
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Parameter &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>ServerName</b>
<p>A server name, you can give what you like most.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>urn:ruby:ServiceName</b>
<p>Here <i>urn:ruby</i> is constant but you can give a unique ServiceName name for this server.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>hostname</b>
<p>Specifies the hostname on which this server will listen.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>port</b>
<p>An available port number to be used for the web service.</p></td>
</tr>
</table>
<h3>Example</h3>
<p>Now, using the above steps, let us write one standalone server &minus;</p>
<pre class="prettyprint notranslate">
require "soap/rpc/standaloneserver"

begin
   class MyServer &lt; SOAP::RPC::StandaloneServer

      # Expose our services
      def initialize(*args)
         add_method(self, 'add', 'a', 'b')
         add_method(self, 'div', 'a', 'b')
      end

      # Handler methods
      def add(a, b)
         return a &plus; b
      end
      def div(a, b) 
         return a / b 
      end
end
   server = MyServer.new("MyServer", 
            'urn:ruby:calculation', 'localhost', 8080)
   trap('INT){
      server.shutdown
   }
   server.start
rescue =&gt; err
   puts err.message
end
</pre>
<p>When executed, this server application starts a standalone SOAP server on <i>localhost</i> and listens for requests on <i>port</i> 8080. It exposes one service methods, <i>add</i> and <i>div</i>, which takes two parameters and return the result.</p>
<p>Now, you can run this server in background as follows &minus;</p>
<pre class="result notranslate">
$ ruby MyServer.rb&amp;
</pre>
<h2>Writing SOAP4R Clients</h2>
<p>The <i>SOAP::RPC::Driver</i> class provides support for writing SOAP client applications. This chapter describes this class and demonstrate its usage on the basis of an application.</p>
<p>Following is the bare minimum information you would need to call a SOAP service &minus;</p>
<ul class="list">
<li>The URL of the SOAP service (SOAP Endpoint URL).</li>
<li>The namespace of the service methods (Method Namespace URI).</li>
<li>The names of the service methods and their parameters.</li>
</ul>
<p>Now, we will write a SOAP client which would call service methods defined in above example, named <i>add</i> and <i>div</i>.</p>
<p>Here are the main steps to create a SOAP client.</p>
<h3>Step 1 - Create a SOAP Driver Instance</h3>
<p>We create an instance of <i>SOAP::RPC::Driver</i> by calling its new method as follows &minus;</p>
<pre class="prettyprint notranslate">
SOAP::RPC::Driver.new(endPoint, nameSpace, soapAction)
</pre>
<p>Here is the description of required parameters &minus;</p>
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Parameter &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>endPoint</b>
<p>URL of the SOAP server to connect with.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>nameSpace</b>
<p>The namespace to use for all RPCs done with this SOAP::RPC::Driver object.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>soapAction</b>
<p>A value for the SOAPAction field of the HTTP header. If nil this defaults to the empty string "".</p></td>
</tr>
</table>
<h3>Step 2 - Add Service Methods</h3>
<p>To add a SOAP service method to a <i>SOAP::RPC::Driver</i> we can call the following method using <i>SOAP::RPC::Driver</i> instance &minus;</p>
<pre class="prettyprint notranslate">
driver.add_method(name, *paramArg)
</pre>
<p>Here is the description of the parameters &minus;</p>
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Parameter &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>name</b>
<p>The name of the remote web service method.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>paramArg</b>
<p>Specifies the names of the remote procedures' parameters.</p></td>
</tr>
</table>
<h3>Step 3 - Invoke SOAP service</h3>
<p>The final step is to invoice SOAP service using <i>SOAP::RPC::Driver</i> instance as follows &minus;</p>
<pre class="prettyprint notranslate">
result = driver.serviceMethod(paramArg...)
</pre>
<p>Here <i>serviceMethod</i> is the actual web service method and <i>paramArg...</i> is the list parameters required to pass in the service method.</p>
<h3>Example</h3>
<p>Based on the above steps, we will write a SOAP client as follows &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby -w

require 'soap/rpc/driver'

NAMESPACE = 'urn:ruby:calculation'
URL = 'http://localhost:8080/'

begin
   driver = SOAP::RPC::Driver.new(URL, NAMESPACE)
   
   # Add remote sevice methods
   driver.add_method('add', 'a', 'b')

   # Call remote service methods
   puts driver.add(20, 30)
rescue =&gt; err
   puts err.message
end
</pre>
<h2>Further Readings</h2>
<p>I have explained you just very basic concepts of Web Services with Ruby. If you want to drill down it further, then there is following link to find more details on <a href="https://www.ruby-doc.org/stdlib/libdoc/soap/rdoc/index.html" title="Web Services with Ruby" target="_blank" rel="nofollow">Web Services with Ruby</a>.</p>
<h1>Ruby - Tk Guide</h1>
<h2>Introduction</h2>
<p>The standard graphical user interface (GUI) for Ruby is Tk. Tk started out as the GUI for the Tcl scripting language developed by John Ousterhout.</p>
<p>Tk has the unique distinction of being the only cross-platform GUI. Tk runs on Windows, Mac, and Linux and provides a native look-and-feel on each operating system.</p>
<p>The basic component of a Tk-based application is called a widget. A component is also sometimes called a window, since, in Tk, "window" and "widget" are often used interchangeably.</p>
<p>Tk applications follow a widget hierarchy where any number of widgets may be placed within another widget, and those widgets within another widget, ad infinitum. The main widget in a Tk program is referred to as the root widget and can be created by making a new instance of the TkRoot class.</p>
<ul class="list">
<li><p>Most Tk-based applications follow the same cycle: create the widgets, place them in the interface, and finally, bind the events associated with each widget to a method.</p></li>
<li><p>There are three geometry managers; <i>place, grid</i> and <i>pack</i> that are responsible for controlling the size and location of each of the widgets in the interface.</p></li>
</ul>
<h2>Installation</h2>
<p>The Ruby Tk bindings are distributed with Ruby but Tk is a separate installation. Windows users can download a single click Tk installation from <a href="http://aspn.activestate.com/ASPN/Downloads/ActiveTcl/" target="_blank" rel="nofollow">ActiveState's ActiveTcl</a>.</p>
<p>Mac and Linux users may not need to install it because there is a great chance that its already installed along with OS but if not, you can download prebuilt packages or get the source from the <a href="https://www.tcl.tk/software/tcltk/downloadnow84.tml" target="_blank" rel="nofollow">Tcl Developer Xchange</a>.</p>
<h2>Simple Tk Application</h2>
<p>A typical structure for Ruby/Tk programs is to create the main or <b>root</b> window (an instance of TkRoot), add widgets to it to build up the user interface, and then start the main event loop by calling <b> Tk.mainloop</b>.</p>
<p>The traditional <i>Hello, World!</i> example for Ruby/Tk looks something like this &minus;</p>
<pre class="prettyprint notranslate">
require 'tk'

root = TkRoot.new { title "Hello, World!" }
TkLabel.new(root) do
   text 'Hello, World!'
   pack { padx 15 ; pady 15; side 'left' }
end
Tk.mainloop
</pre>
<p>Here, after loading the tk extension module, we create a root-level frame using <i>TkRoot.new</i>. We then make a <i>TkLabel</i> widget as a child of the root frame, setting several options for the label. Finally, we pack the root frame and enter the main GUI event loop.</p> 
<p>If you would run this script, it would produce the following result &minus;</p>
<img src="https://www.tutorialspoint.com/ruby/images/ruby-tk1.jpg" alt="Ruby/Tk Hello World" />
<h2>Ruby/Tk Widget Classes</h2>
<p>There is a list of various Ruby/Tk classes, which can be used to create a desired GUI using Ruby/Tk.</p>
<ul class="list">
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_frame.htm">TkFrame</a> Creates and manipulates frame widgets.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_button.htm">TkButton</a> Creates and manipulates button widgets.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_label.htm">TkLabel</a> Creates and manipulates label widgets.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_entry.htm">TkEntry</a> Creates and manipulates entry widgets.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_checkbutton.htm">TkCheckButton</a> Creates and manipulates checkbutton widgets.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_radiobutton.htm"> TkRadioButton</a> Creates and manipulates radiobutton widgets.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_listbox.htm">TkListbox</a> Creates and manipulates listbox widgets.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_combobox.htm">TkComboBox</a> Creates and manipulates listbox widgets.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_menu.htm">TkMenu</a> Creates and manipulates menu widgets.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_menubutton.htm">TkMenubutton</a> Creates and manipulates menubutton widgets.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_messagebox.htm">Tk.messageBox</a> Creates and manipulates a message dialog.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_scrollbar.htm"> TkScrollbar</a> Creates and manipulates scrollbar widgets.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_canvas.htm">TkCanvas</a> Creates and manipulates canvas widgets.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_scale.htm"> TkScale</a> Creates and manipulates scale widgets.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_text.htm"> TkText</a> Creates and manipulates text widgets.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_toplevel.htm"> TkToplevel</a> Creates and manipulates toplevel widgets.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_spinbox.htm"> TkSpinbox</a> Creates and manipulates Spinbox widgets.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_progressbar.htm">TkProgressBar</a> Creates and manipulates Progress Bar widgets.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_dialogbox.htm">Dialog Box</a> Creates and manipulates Dialog Box widgets.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_notebook.htm"> Tk::Tile::Notebook</a> Display several windows in limited space with notebook metaphor.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_paned.htm"> Tk::Tile::Paned</a> Displays a number of subwindows, stacked either vertically or horizontally.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_separator.htm"> Tk::Tile::Separator</a> Displays a horizontal or vertical separator bar.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_fonts_colors_images.htm">Ruby/Tk Font, Colors and Images</a> Understanding Ruby/Tk Fonts, Colors and Images</p></li>
</ul>
<h2>Standard Configuration Options</h2>
<p>All widgets have a number of different configuration options, which generally control how they are displayed or how they behave. The options that are available depend upon the widget class of course.</p>
<p>Here is a list of all the standard configuration options, which could be applicable to any Ruby/Tk widget.</p>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i>There are other widget specific options also, which would be explained along with widgets.</label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Options &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><p><b>activebackground</b> =&gt; String</p>
<p>Specifies background color to use when drawing active elements. An element is active if the mouse cursor is positioned over the element and pressing a mouse button will cause some action to occur. You can use color names like "red", "blue", "pink", "yellow" etc.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><p><b>activeborderwidth</b> =&gt; Integer</p>
<p>Specifies a non-negative value indicating the width of the 3-D border drawn around active elements.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><p><b>activeforeground</b> =&gt; String</p>
<p>Specifies foreground color to use when drawing active elements.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><p><b>anchor</b> =&gt; String</p>
<p>Specifies how the information in a widget (e.g. text or a bitmap) is to be displayed in the widget. Must be one of the values <b>n</b>, <b>ne</b>, <b>e</b>, <b>se</b>, <b>s</b>, <b>sw</b>, <b>w</b>, <b>nw</b>, or <b>center</b>. For example, <b>nw</b> means display the information such that its top-left corner is at the top-left corner of the widget.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><p><b>background or bg</b> =&gt; String</p>
<p>Specifies the normal background color to use when displaying the widget.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><p><b>bitmap</b>  =&gt; Bitmap</p>
<p>Specifies a bitmap to display in the widget. The exact way in which the bitmap is displayed may be affected by other options such as anchor or justify.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><p><b>borderwidth or bd</b> =&gt; Integer</p>
<p>Specifies a non-negative value indicating the width of the 3-D border to draw around the outside of the widget.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">8</td>
<td><p><b>compound</b> =&gt; String</p>
<p>Specifies if the widget should display text and bitmaps/images at the same time, and if so, where the bitmap/image should be placed relative to the text. Must be one of the values <b>none</b>, <b>bottom</b>, <b>top</b>, <b>left</b>, <b>right</b>, or <b>center</b>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">9</td>
<td><p><b>cursor</b> =&gt; String</p>
<p>Specifies the mouse cursor to be used for the widget. Possible values could be "watch", "arrow" etc.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">10</td>
<td><p><b>disabledforeground</b>  =&gt; String</p>
<p>Specifies foreground color to use when drawing a disabled element.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">11</td>
<td><p><b>exportselection</b> =&gt; Boolean</p>
<p>Specifies whether or not a selection in the widget should also be the X selection. The value may have any of the <b>true</b>, <b>false</b>, <b>0</b>, <b>1</b>, <b>yes</b>, or <b>no</b>. If the selection is exported, then selecting in the widget deselects the current X selection, selecting outside the widget deselects any widget selection, and the widget will respond to selection retrieval requests when it has a selection.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">12</td>
<td><p><b>font</b> =&gt; String</p>
<p>Specifies the font to use when drawing text inside the widget.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">13</td>
<td><p><b>foreground or fg</b> =&gt; String</p>
<p>Specifies the normal foreground color to use when displaying the widget.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">14</td>
<td><p><b>highlightbackground</b> =&gt; String</p>
<p>Specifies the color to display in the traversal highlight region when the widget does not have the input focus.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">15</td>
<td><p><b>highlightcolor</b> =&gt; String </p>
<p>Specifies the color to use for the traversal highlight rectangle that is drawn around the widget when it has the input focus.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">16</td>
<td><p><b>highlightthickness</b> =&gt; Integer</p>
<p>Specifies a non-negative value indicating the width of the highlight rectangle to draw around the outside of the widget when it has the input focus.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">17</td>
<td><p><b>image</b> =&gt; Image</p>
<p>Specifies an image to display in the widget, which must have been created with an image create. Typically, if the image option is specified then it overrides other options that specify a bitmap or textual value to display in the widget; the image option may be reset to an empty string to re-enable a bitmap or text display.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">18</td>
<td><p><b>jump</b> =&gt; String</p>
<p>For widgets with a slider that can be dragged to adjust a value, such as scrollbars and scales, this option determines when notifications are made about changes in the value. The option's value must be a boolean. If the value is false, updates are made continuously as the slider is dragged. If the value is true, updates are delayed until the mouse button is released to end the drag; at that point a single notification is made.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">19</td>
<td><p><b>justify</b> =&gt; String</p>
<p>When there are multiple lines of text displayed in a widget, this option determines how the lines line up with each other. Must be one of <b>left</b>, <b>center</b>, or <b>right</b>.  <b>Left</b> means that the lines' left edges all line up, <b>center</b> means that the lines' centers are aligned, and <b>right</b> means that the lines' right edges line up.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">20</td>
<td><p><b>offset </b> =&gt; String</p>
<p>Specifies the offset of tiles (see also <b>tile</b> option). It can have two different formats <b>offset x,y</b> or <b> offset side</b>, where side can be <b>n</b>, <b>ne</b>, <b>e</b>, <b>se</b>, <b>s</b>, <b>sw</b>, <b>w</b>, <b>nw</b>, or <b>center</b>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">21</td>
<td><p><b>orient </b> =&gt; String</p>
<p>For widgets that can lay themselves out with either a horizontal or vertical orientation, such as scrollbars, this option specifies which orientation should be used. Must be either <b>horizontal</b> or <b> vertical</b> or an abbreviation of one of these.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">22</td>
<td><p><b>padx</b> =&gt; Integer</p>
<p>Specifies a non-negative value indicating how much extra space to request for the widget in the X-direction.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">23</td>
<td><p><b>pady</b> =&gt; Integer</p>
<p>Specifies a non-negative value indicating how much extra space to request for the widget in the Y-direction.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">24</td>
<td><p><b>relief</b> =&gt; Integer</p>
<p>Specifies the 3-D effect desired for the widget. Acceptable values are <b>raised</b>, <b>sunken</b>, <b>flat</b>, <b>ridge</b>, and <b>groove</b>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">25</td>
<td><p><b>repeatdelay</b> =&gt; Integer</p>
<p>Specifies the number of milliseconds a button or key must be held down before it begins to auto-repeat. Used, for example, on the up- and down-arrows in scrollbars.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">26</td>
<td><p><b>repeatinterval</b>  =&gt; Integer</p>
<p>Used in conjunction with <b>repeatdelay</b>: once auto-repeat begins, this option determines the number of milliseconds between auto-repeats</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">27</td>
<td><p><b>selectbackground</b> =&gt; String</p>
<p>Specifies the background color to use when displaying selected items.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">28</td>
<td><p><b>selectborderwidth</b> =&gt; Integer</p>
<p>Specifies a non-negative value indicating the width of the 3-D border to draw around selected items.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">29</td>
<td><p><b>selectforeground</b> =&gt; String</p>
<p>Specifies the foreground color to use when displaying selected items.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">30</td>
<td><p><b>setgrid</b> =&gt; Boolean</p>
<p>Specifies a boolean value that determines whether this widget controls the resizing grid for its top-level window. This option is typically used in text widgets, where the information in the widget has a natural size (the size of a character) and it makes sense for the window's dimensions to be integral numbers of these units.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">31</td>
<td><p><b>takefocus</b> =&gt; Integer</p>
<p>Provides information used when moving the focus from window to window via keyboard traversal (e.g., Tab and Shift-Tab). Before setting the focus to a window, the traversal scripts first check whether the window is viewable (it and all its ancestors are mapped); if not, the window is skipped. A value of 0 means that this window should be skipped entirely during keyboard traversal. 1 means that the this window should always receive the input focus.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">32</td>
<td><p><b>text</b> =&gt; String</p>
<p>Specifies a string to be displayed inside the widget. The way in which the string is displayed depends on the particular widget and may be determined by other options, such as <b>anchor</b> or <b> justify</b>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">33</td>
<td><p><b>textvariable</b> =&gt; Variable</p>
<p>Specifies the name of a variable. The value of the variable is a text string to be displayed inside the widget; if the variable value changes then the widget will automatically update itself to reflect the new value. The way in which the string is displayed in the widget depends on the particular widget and may be determined by other options, such as <b>anchor</b> or <b>justify</b>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">34</td>
<td><p><b>tile</b> =&gt; Image</p>
<p>Specifies image used to display the widget. If image is the empty string, then the normal background color is displayed.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">35</td>
<td><p><b>troughcolor</b> =&gt; String</p>
<p>Specifies the color to use for the rectangular trough areas in widgets such as scrollbars and scales.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">36</td>
<td><p><b>troughtile</b> =&gt; Image</p>
<p>Specifies image used to display in the rectangular trough areas in widgets such as scrollbars and scales.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">37</td>
<td><p><b>underline</b> =&gt; Integer</p>
<p>Specifies the integer index of a character to underline in the widget. This option is used by the default bindings to implement keyboard traversal for menu buttons and menu entries. 0 corresponds to the first character of the text displayed in the widget, 1 to the next character, and so on.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">38</td>
<td><p><b>wraplength</b> =&gt; Integer</p>
<p>For widgets that can perform word-wrapping, this option specifies the maximum line length.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">39</td>
<td><p><b>xscrollcommand</b> =&gt; function</p>
<p>Specifies a callback used to communicate with horizontal scrollbars.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">40</td>
<td><p><b>yscrollcommand</b> =&gt; function</p>
<p>Specifies a callback used to communicate with vertical scrollbars.</p></td>
</tr>
</table>
</div>
</section>
<h2>Ruby/Tk Geometry Management</h2>
<p>Geometry Management deals with positioning different widgets as per requirement. Geometry management in Tk relies on the concept of master and slave widgets.</p>
<p>A master is a widget, typically a top-level window or a frame, which will contain other widgets, which are called slaves. You can think of a geometry manager as taking control of the master widget, and deciding what will be displayed within.</p>
<p>The geometry manager will ask each slave widget for its natural size, or how large it would ideally like to be displayed. It then takes that information and combines it with any parameters provided by the program when it asks the geometry manager to manage that particular slave widget.</p>
<p>There are three geometry managers <i>place, grid</i> and <i>pack</i> that are responsible for controlling the size and location of each of the widgets in the interface.</p>
<ul class="list">
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_grid.htm">grid</a> Geometry manager that arranges widgets in a grid.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_pack.htm">pack</a> Geometry manager that packs around edges of cavity.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_tk_place.htm">place</a> Geometry manager for fixed or rubber-sheet placement.</p></li>
</ul>
<h2>Ruby/Tk Event Handling</h2>
<p>Ruby/Tk supports <i>event loop</i>, which receives events from the operating system. These are things like button presses, keystrokes, mouse movement, window resizing, and so on.</p>
<p>Ruby/Tk takes care of managing this event loop for you. It will figure out what widget the event applies to (did the user click on this button? if a key was pressed, which textbox had the focus?), and dispatch it accordingly. Individual widgets know how to respond to events, so for example a button might change color when the mouse moves over it, and revert back when the mouse leaves.</p>
<p>At a higher level, Ruby/Tk invokes callbacks in your program to indicate that something significant happened to a widget For either case, you can provide a code block or a <i>Ruby Proc</i> object that specifies how the application responds to the event or callback.</p>
<p>Let's take a look at how to use the bind method to associate basic window system events with the Ruby procedures that handle them. The simplest form of bind takes as its inputs a string indicating the event name and a code block that Tk uses to handle the event.</p>
<p>For example, to catch the <i>ButtonRelease</i> event for the first mouse button on some widget, you'd write &minus;</p>
<pre class="result notranslate">
someWidget.bind('ButtonRelease-1') {
   ....code block to handle this event...
}
</pre>
<p>An event name can include additional modifiers and details. A modifier is a string like <i>Shift</i>, <i>Control</i> or <i>Alt</i>, indicating that one of the modifier keys was pressed.</p>
<p>So, for example, to catch the event that's generated when the user holds down the <i>Ctrl</i> key and clicks the right mouse button.</p>
<pre class="prettyprint notranslate">
someWidget.bind('Control-ButtonPress-3', proc { puts "Ouch!" })
</pre>
<p>Many Ruby/Tk widgets can trigger <i>callbacks</i> when the user activates them, and you can use the <i>command</i> callback to specify that a certain code block or procedure is invoked when that happens. As seen earlier, you can specify the command callback procedure when you create the widget &minus;</p>
<pre class="prettyprint notranslate">
helpButton = TkButton.new(buttonFrame) {
   text "Help"
   command proc { showHelp }
}
</pre>
<p>Or you can assign it later, using the widget's <i>command</i> method &minus;</p>
<pre class="prettyprint notranslate">
helpButton.command proc { showHelp }
</pre>
<p>Since the command method accepts either procedures or code blocks, you could also write the previous code example as &minus;</p>
<pre class="prettyprint notranslate">
helpButton = TkButton.new(buttonFrame) {
   text "Help"
   command { showHelp }
}
</pre>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i>You can use the following basic event types in your Ruby/Tk application &minus;</label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr>
<th style="width=5%">Sr.No.</th>
<th style="text-align:center;">Tag &amp; Event Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><p><b>"1" (one)</b></p>
<p>Clicked left mouse button.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><p><b>"ButtonPress-1"</b></p>
<p>Clicked left mouse button.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><p><b>"Enter"</b></p>
<p>Moved mouse inside.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><p><b>"Leave"</b></p>
<p>Moved mouse outside.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><p><b>"Double-1"</b></p>
<p>Double clicked.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>"B3-Motion"</b>
<p>Right button drag from one position to another.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><p><b>Control-ButtonPress-3</b></p>
<p>Right button is pressed along with <i>Ctrl</i> Key.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">8</td>
<td><p><b>Alt-ButtonPress-1</b></p>
<p>Let button is pressed along with <i>Alt</i> Key.</p></td>
</tr>
</table>
</div>
</section>
<h2>The configure Method</h2>
<p>The <i>configure</i> method can be used to set and retrieve any widget configuration values. For example, to change the width of a button you can call configure method any time as follows &minus;</p>
<pre class="prettyprint notranslate">
require "tk"

button = TkButton.new {
   text 'Hello World!'
   pack
}
button.configure('activebackground', 'blue')
Tk.mainloop
</pre>
<p>To get the value for a current widget, just supply it without a value as follows &minus;</p>
<pre class="prettyprint notranslate">
color = button.configure('activebackground')
</pre>
<p>You can also call configure without any options at all, which will give you a listing of all options and their values.</p>
<h2>The cget Method</h2>
<p>For simply retrieving the value of an option, configure returns more information than you generally want. The cget method returns just the current value.</p>
<pre class="prettyprint notranslate">
color = button.cget('activebackground')
</pre>
<h1>Ruby - LDAP Tutorial</h1>
<p>Ruby/LDAP is an extension library for Ruby. It provides the interface to some LDAP libraries like OpenLDAP, UMich LDAP, Netscape SDK, ActiveDirectory.</p>
<p>The common API for application development is described in RFC1823 and is supported by Ruby/LDAP.</p>
<h2>Ruby/LDAP Installation</h2>
<p>You can download and install a complete Ruby/LDAP package from <a target="_blank" rel="nofollow" href="https://sourceforge.net/projects/ruby-ldap/" title="Ruby/LDAP">SOURCEFORGE.NET</a>.</p>
<p>Before installing Ruby/LDAP, make sure you have the following components &minus;</p>
<ul class="list">
<li>Ruby 1.8.x (at least 1.8.2 if you want to use ldap/control).</li>
<li>OpenLDAP, Netscape SDK, Windows 2003 or Windows XP.</li>
</ul>
<p>Now, you can use standard Ruby Installation method. Before starting, if you'd like to see the available options for extconf.rb, run it with '--help' option.</p>
<pre class="result notranslate">
$ ruby extconf.rb [--with-openldap1|--with-openldap2| \
                   --with-netscape|--with-wldap32]
$ make
$ make install
</pre>
<p><b>NOTE</b> &minus; If you're building the software on Windows, you may need to use <i>nmake</i> instead of <i>make</i>.</p>
<h2>Establish LDAP Connection</h2>
<p>This is a two-step process &minus;</p>
<h3>Step 1 &minus; Create Connection Object</h3>
<p>Following is the syntax to create a connection to a LDAP directory.</p>
<pre class="result notranslate">
LDAP::Conn.new(host = 'localhost', port = LDAP_PORT)
</pre>
<ul class="list">
<li><p><b>host</b> &minus; This is the host ID running LDAP directory. We will take it as <i>localhost</i>.</p></li>
<li><p><b>port</b> &minus; This is the port being used for LDAP service. Standard LDAP ports are 636 and 389. Make sure which port is being used at your server otherwise you can use LDAP::LDAP_PORT.</p></li>
</ul>
<p>This call returns a new <i>LDAP::Conn</i> connection to the server, <i>host</i>, on port <i>port</i>.</p>
<h3>Step 2 &minus; Binding</h3>
<p>This is where we usually specify the username and password we will use for the rest of the session.</p>
<p>Following is the syntax to bind an LDAP connection, using the DN, <b>dn</b>, the credential, <b>pwd</b>, and the bind method, <b>method</b> &minus;</p>
<pre class="result notranslate">
conn.bind(dn = nil, password = nil, method = LDAP::LDAP_AUTH_SIMPLE)do
....
end
</pre>
<p>You can use the same method without a code block. In this case, you would need to unbind the connection explicitly as follows &minus;</p>
<pre class="result notranslate">
conn.bind(dn = nil, password = nil, method = LDAP::LDAP_AUTH_SIMPLE)
....
conn.unbind
</pre>
<p>If a code block is given, <i>self</i> is yielded to the block.</p>
<p>We can now perform search, add, modify or delete operations inside the block of the bind method (between bind and unbind), provided we have the proper permissions.</p>
<h3>Example</h3>
<p>Assuming we are working on a local server, let's put things together with appropriate host, domain, user id and password, etc.</p>
<pre class="prettyprint notranslate">
#/usr/bin/ruby -w

require 'ldap'

$HOST =    'localhost'
$PORT =    LDAP::LDAP_PORT
$SSLPORT = LDAP::LDAPS_PORT

conn = LDAP::Conn.new($HOST, $PORT)
conn.bind('cn = root, dc = localhost, dc = localdomain','secret')
....
conn.unbind
</pre>
<h2>Adding an LDAP Entry</h2>
<p>Adding an LDPA entry is a two step process &minus;</p>
<h3>Step 1 &minus; Creating <i>LDAP::Mod</i> object</h3>
<p>We need <i>LDAP::Mod</i> object pass to <i>conn.add</i> method to create an entry. Here is a simple syntax to create <i>LDAP::Mod</i> object &minus;</p>
<pre class="result notranslate">
Mod.new(mod_type, attr, vals)
</pre>
<ul class="list">
<li><p><b>mod_type</b> &minus; One or more option LDAP_MOD_ADD, LDAP_MOD_REPLACE or LDAP_MOD_DELETE.</p></li>
<li><p><b>attr</b> &minus; should be the name of the attribute on which to operate.</p></li>
<li><p><b>vals</b> &minus; is an array of values pertaining to <i>attr</i>. If <i>vals</i> contains binary data, <i>mod_type</i> should be logically OR'ed (|) with LDAP_MOD_BVALUES.</p></li>
</ul>
<p>This call returns <i>LDAP::Mod</i> object, which can be passed to methods in the LDAP::Conn class, such as Conn#add, Conn#add_ext, Conn#modify and Conn#modify_ext.</p>
<h3>Step 2 &minus; Calling <i>conn.add</i> Method</h3>
<p>Once we are ready with <i>LDAP::Mod</i> object, we can call <i>conn.add</i> method to create an entry. Here is a syntax to call this method &minus;</p>
<pre class="result notranslate">
conn.add(dn, attrs)
</pre>
<p>This method adds an entry with the DN, <i>dn</i>, and the attributes, <i>attrs</i>. Here, <i>attrs</i> should be either an array of <i>LDAP::Mod</i> objects or a hash of attribute/value array pairs.</p>
<h3>Example</h3>
<p>Here is a complete example, which will create two directory entries &minus;</p>
<pre class="prettyprint notranslate">
#/usr/bin/ruby -w

require 'ldap'

$HOST =    'localhost'
$PORT =    LDAP::LDAP_PORT
$SSLPORT = LDAP::LDAPS_PORT

conn = LDAP::Conn.new($HOST, $PORT)
conn.bind('cn = root, dc = localhost, dc = localdomain','secret')

conn.perror("bind")
entry1 = [
   LDAP.mod(LDAP::LDAP_MOD_ADD,'objectclass',['top','domain']),
   LDAP.mod(LDAP::LDAP_MOD_ADD,'o',['TTSKY.NET']),
   LDAP.mod(LDAP::LDAP_MOD_ADD,'dc',['localhost']),
]

entry2 = [
   LDAP.mod(LDAP::LDAP_MOD_ADD,'objectclass',['top','person']),
   LDAP.mod(LDAP::LDAP_MOD_ADD, 'cn', ['Zara Ali']),
   LDAP.mod(LDAP::LDAP_MOD_ADD | LDAP::LDAP_MOD_BVALUES, 'sn', 
                     ['ttate','ALI', "zero\000zero"]),
]

begin
   conn.add("dc = localhost, dc = localdomain", entry1)
   conn.add("cn = Zara Ali, dc = localhost, dc =  localdomain", entry2)
rescue LDAP::ResultError
   conn.perror("add")
   exit
end
conn.perror("add")
conn.unbind
</pre>
<h2>Modifying an LDAP Entry</h2>
<p>Modifying an entry is similar to adding one. Just call the <i>modify</i> method instead of <i>add</i> with the attributes to modify. Here is a simple syntax of <i>modify</i> method.</p>
<pre class="result notranslate">
conn.modify(dn, mods)
</pre>
<p>This method modifies an entry with the DN, <i>dn</i>, and the attributes, <i>mods</i>. Here, <i>mods</i> should be either an array of <i>LDAP::Mod</i> objects or a hash of attribute/value array pairs.</p>
<h3>Example</h3>
<p>To modify the surname of the entry, which we added in the previous section, we would write &minus;</p>
<pre class="prettyprint notranslate">
#/usr/bin/ruby -w

require 'ldap'

$HOST =    'localhost'
$PORT =    LDAP::LDAP_PORT
$SSLPORT = LDAP::LDAPS_PORT

conn = LDAP::Conn.new($HOST, $PORT)
conn.bind('cn = root, dc = localhost, dc = localdomain','secret')

conn.perror("bind")
entry1 = [
   LDAP.mod(LDAP::LDAP_MOD_REPLACE, 'sn', ['Mohtashim']),
]

begin
   conn.modify("cn = Zara Ali, dc = localhost, dc = localdomain", entry1)
rescue LDAP::ResultError
   conn.perror("modify")
   exit
end
conn.perror("modify")
conn.unbind
</pre>
<h2>Deleting an LDAP Entry</h2>
<p>To delete an entry, call the <i>delete</i> method with the distinguished name as parameter. Here is a simple syntax of <i>delete</i> method.</p>
<pre class="result notranslate">
conn.delete(dn)
</pre>
<p>This method deletes an entry with the DN, <i>dn</i>.</p>
<h3>Example</h3>
<p>To delete <i>Zara Mohtashim</i> entry, which we added in the previous section, we would write &minus;</p>
<pre class="prettyprint notranslate">
#/usr/bin/ruby -w

require 'ldap'

$HOST =    'localhost'
$PORT =    LDAP::LDAP_PORT
$SSLPORT = LDAP::LDAPS_PORT

conn = LDAP::Conn.new($HOST, $PORT)
conn.bind('cn = root, dc = localhost, dc = localdomain','secret')

conn.perror("bind")
begin
   conn.delete("cn = Zara-Mohtashim, dc = localhost, dc = localdomain")
rescue LDAP::ResultError
   conn.perror("delete")
   exit
end
conn.perror("delete")
conn.unbind
</pre>
<h2>Modifying the Distinguished Name</h2>
<p>It's not possible to modify the distinguished name of an entry with the <i>modify</i> method. Instead, use the <i>modrdn</i> method. Here is simple syntax of <i>modrdn</i> method &minus;</p>
<pre class="result notranslate">
conn.modrdn(dn, new_rdn, delete_old_rdn)
</pre>
<p>This method modifies the RDN of the entry with DN, <i>dn</i>, giving it the new RDN, <i>new_rdn</i>. If <i>delete_old_rdn</i> is <i>true</i>, the old RDN value will be deleted from the entry.</p>
<h3>Example</h3>
<p>Suppose we have the following entry &minus;</p>
<pre class="prettyprint notranslate">
dn: cn = Zara Ali,dc = localhost,dc = localdomain
cn: Zara Ali
sn: Ali
objectclass: person
</pre>
<p>Then, we can modify its distinguished name with the following code &minus;</p>
<pre class="prettyprint notranslate">
#/usr/bin/ruby -w

require 'ldap'

$HOST =    'localhost'
$PORT =    LDAP::LDAP_PORT
$SSLPORT = LDAP::LDAPS_PORT

conn = LDAP::Conn.new($HOST, $PORT)
conn.bind('cn = root, dc = localhost, dc = localdomain','secret')

conn.perror("bind")
begin
   conn.modrdn("cn = Zara Ali, dc = localhost, dc = localdomain", "cn = Zara Mohtashim", true)
rescue LDAP::ResultError
   conn.perror("modrdn")
   exit
end
conn.perror("modrdn")
conn.unbind
</pre>
<h2>Performing a Search</h2>
<p>To perform a search on a LDAP directory, use the <i>search</i> method with one of the three different search modes &minus;</p>
<ul class="list">
<li><p><b>LDAP_SCOPE_BASEM</b> &minus; Search only the base node.</p></li>
<li><p><b>LDAP_SCOPE_ONELEVEL</b> &minus; Search all children of the base node.</p></li>
<li><p><b>LDAP_SCOPE_SUBTREE</b> &minus; Search the whole subtree including the base node.</p></li>
</ul>
<h3>Example</h3>
<p>Here, we are going to search the whole subtree of entry <i>dc = localhost, dc = localdomain</i> for <i>person</i> objects &minus;</p>
<pre class="prettyprint notranslate">
#/usr/bin/ruby -w

require 'ldap'

$HOST =    'localhost'
$PORT =    LDAP::LDAP_PORT
$SSLPORT = LDAP::LDAPS_PORT

base = 'dc = localhost,dc = localdomain'
scope = LDAP::LDAP_SCOPE_SUBTREE
filter = '(objectclass = person)'
attrs = ['sn', 'cn']

conn = LDAP::Conn.new($HOST, $PORT)
conn.bind('cn = root, dc = localhost, dc = localdomain','secret')

conn.perror("bind")
begin
   conn.search(base, scope, filter, attrs) { |entry|
      # print distinguished name
      p entry.dn
      # print all attribute names
      p entry.attrs
      # print values of attribute 'sn'
      p entry.vals('sn')
      # print entry as Hash
      p entry.to_hash
   }
rescue LDAP::ResultError
   conn.perror("search")
   exit
end
conn.perror("search")
conn.unbind
</pre>
<p>This invokes the given code block for each matching entry where the LDAP entry is represented by an instance of the LDAP::Entry class. With the last parameter of search, you can specify the attributes in which you are interested, omitting all others. If you pass nil here, all attributes are returned same as "SELECT *" in relational databases.</p>
<p>The dn method (alias for get_dn) of the LDAP::Entry class returns the distinguished name of the entry, and with the to_hash method, you can get a hash representation of its attributes (including the distinguished name). To get a list of an entry's attributes, use the attrs method (alias for get_attributes). Also, to get the list of one specific attribute's values, use the vals method (alias for get_values).</p>
<h2>Handling Errors</h2>
<p>Ruby/LDAP defines two different exception classes &minus;</p>
<ul class="list">
<li><p>In case of an error, the new, bind or unbind methods raise an LDAP::Error exception.</p></li>
<li><p>In case of add, modify, delete or searching an LDAP directory raise an LDAP::ResultError.</p></li>
</ul>
<h2>Further Reading</h2>
<p>For complete details on LDAP methods, please refer to the standard documentation for <a href="http://ruby-ldap.sourceforge.net/rdoc/" title="LDAP Documentation" target="_blank" rel="nofollow">LDAP Documentation</a>.</p>
<h1>Ruby - Multithreading</h1>
<p>Traditional programs have a single <i>thread of execution</i>: the statements or instructions that comprise the program are executed sequentially until the program terminates.</p>
<p>A multithreaded program has more than one thread of execution. Within each thread, statements are executed sequentially, but the threads themselves may be executed in parallel on a multicore CPU, for example. Often on a single CPU machine, multiple threads are not actually executed in parallel, but parallelism is simulated by interleaving the execution of the threads.</p>
<p>Ruby makes it easy to write multi-threaded programs with the <i>Thread</i> class. Ruby threads are a lightweight and efficient way to achieve concurrency in your code.</p>
<h2>Creating Ruby Threads</h2>
<p>To start a new thread, just associate a block with a call to <i>Thread.new</i>. A new thread will be created to execute the code in the block, and the original thread will return from <i>Thread.new</i> immediately and resume execution with the next statement &minus;</p>
<pre class="result notranslate">
# Thread #1 is running here
Thread.new {
   # Thread #2 runs this code
}
# Thread #1 runs this code
</pre>
<h3>Example</h3>
<p>Here is an example, which shows how we can use multi-threaded Ruby program.</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

def func1
   i = 0
   while i&lt;=2
      puts "func1 at: #{Time.now}"
      sleep(2)
      i = i&plus;1
   end
end

def func2
   j = 0
   while j&lt;=2
      puts "func2 at: #{Time.now}"
      sleep(1)
      j = j&plus;1
   end
end

puts "Started At #{Time.now}"
t1 = Thread.new{func1()}
t2 = Thread.new{func2()}
t1.join
t2.join
puts "End at #{Time.now}"
</pre>
<p>This will produce following result &minus;</p>
<pre class="result notranslate">
Started At Wed May 14 08:21:54 -0700 2008
func1 at: Wed May 14 08:21:54 -0700 2008
func2 at: Wed May 14 08:21:54 -0700 2008
func2 at: Wed May 14 08:21:55 -0700 2008
func1 at: Wed May 14 08:21:56 -0700 2008
func2 at: Wed May 14 08:21:56 -0700 2008
func1 at: Wed May 14 08:21:58 -0700 2008
End at Wed May 14 08:22:00 -0700 2008
</pre>
<h2>Thread Lifecycle</h2>
<p>A new threads are created with <i>Thread.new</i>. You can also use the synonyms <i>Thread.start</i> and <i>Thread.fork</i>.</p>
<p>There is no need to start a thread after creating it, it begins running automatically when CPU resources become available.</p>
<p>The Thread class defines a number of methods to query and manipulate the thread while it is running. A thread runs the code in the block associated with the call to <i>Thread.new</i> and then it stops running.</p>
<p>The value of the last expression in that block is the value of the thread, and can be obtained by calling the <i>value</i> method of the Thread object. If the thread has run to completion, then the value returns the thread's value right away. Otherwise, the <i>value</i> method blocks and does not return until the thread has completed.</p>
<p>The class method <i>Thread.current</i> returns the Thread object that represents the current thread. This allows threads to manipulate themselves. The class method <i>Thread.main</i> returns the Thread object that represents the main thread. This is the initial thread of execution that began when the Ruby program was started.</p>
<p>You can wait for a particular thread to finish by calling that thread's <i>Thread.join</i> method. The calling thread will block until the given thread is finished.</p>
<h2>Threads and Exceptions</h2>
<p>If an exception is raised in the main thread, and is not handled anywhere, the Ruby interpreter prints a message and exits. In threads, other than the main thread, unhandled exceptions cause the thread to stop running.</p>
<p>If a thread <b>t</b> exits because of an unhandled exception, and another thread <b>s</b> calls <i>t.join or t.value,</i> then the exception that occurred in <b>t</b> is raised in the thread <b>s</b>.</p>
<p>If <i>Thread.abort_on_exception</i> is <i>false</i>, the default condition, an unhandled exception simply kills the current thread and all the rest continue to run.</p>
<p>If you would like any unhandled exception in any thread to cause the interpreter to exit, set the class method <i>Thread.abort_on_exception</i> to <i>true</i>.</p>
<pre class="result notranslate">
t = Thread.new { ... }
t.abort_on_exception = true
</pre>
<h2>Thread Variables</h2>
<p>A thread can normally access any variables that are in scope when the thread is created. Variables local to the block of a thread are local to the thread, and are not shared.</p>
<p>Thread class features a special facility that allows thread-local variables to be created and accessed by name. You simply treat the thread object as if it were a Hash, writing to elements using []= and reading them back using [].</p>
<p>In this example, each thread records the current value of the variable count in a threadlocal variable with the key <i>mycount</i>.</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

count = 0
arr = []

10.times do |i|
   arr[i] = Thread.new {
      sleep(rand(0)/10.0)
      Thread.current["mycount"] = count
      count &plus;= 1
   }
end

arr.each {|t| t.join; print t["mycount"], ", " }
puts "count = #{count}"
</pre>
<p>This produces the following result &minus;</p>
<pre class="result notranslate">
8, 0, 3, 7, 2, 1, 6, 5, 4, 9, count = 10
</pre>
<p>The main thread waits for the subthreads to finish and then prints out the value of <i>count</i> captured by each.</p>
<h2>Thread Priorities</h2>
<p>The first factor that affects the thread scheduling is the thread priority: high-priority threads are scheduled before low-priority threads. More precisely, a thread will only get CPU time if there are no higher-priority threads waiting to run.</p>
<p>You can set and query the priority of a Ruby Thread object with <i>priority =</i> and <i>priority</i>. A newly created thread starts at the same priority as the thread that created it. The main thread starts off at priority 0.</p>
<p>There is no way to set the priority of a thread before it starts running. A thread can, however, raise or lower its own priority as the first action it takes.</p>
<h2>Thread Exclusion</h2>
<p>If two threads share access to the same data, and at least one of the threads modifies that data, you must take special care to ensure that no thread can ever see the data in an inconsistent state. This is called <i>thread exclusion</i>.</p>
<p><b>Mutex</b> is a class that implements a simple semaphore lock for mutually exclusive access to some shared resource. That is, only one thread may hold the lock at a given time. Other threads may choose to wait in line for the lock to become available, or may simply choose to get an immediate error indicating that the lock is not available.</p>
<p>By placing all accesses to the shared data under control of a <i>mutex</i>, we ensure consistency and atomic operation. Let's try to examples, first one without mutax and second one with mutax &minus;</p>
<h3>Example without Mutax</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby
require 'thread'

count1 = count2 = 0
difference = 0
counter = Thread.new do
   loop do
      count1 &plus;= 1
      count2 &plus;= 1
   end
end
spy = Thread.new do
   loop do
      difference &plus;= (count1 - count2).abs
   end
end
sleep 1
puts "count1 :  #{count1}"
puts "count2 :  #{count2}"
puts "difference : #{difference}"
</pre>
<p>This will produce the following result &minus;</p>
<pre class="prettyprint notranslate">
count1 :  1583766
count2 :  1583766
difference : 0
</pre>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby
require 'thread'
mutex = Mutex.new

count1 = count2 = 0
difference = 0
counter = Thread.new do
   loop do
      mutex.synchronize do
         count1 &plus;= 1
         count2 &plus;= 1
      end
   end
end
spy = Thread.new do
   loop do
      mutex.synchronize do
         difference &plus;= (count1 - count2).abs
      end
   end
end
sleep 1
mutex.lock
puts "count1 :  #{count1}"
puts "count2 :  #{count2}"
puts "difference : #{difference}"
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
count1 :  696591
count2 :  696591
difference : 0
</pre>
<h2>Handling Deadlock</h2>
<p>When we start using <i>Mutex</i> objects for thread exclusion we must be careful to avoid <i>deadlock</i>. Deadlock is the condition that occurs when all threads are waiting to acquire a resource held by another thread. Because all threads are blocked, they cannot release the locks they hold. And because they cannot release the locks, no other thread can acquire those locks.</p>
<p>This is where <i>condition variables</i> come into picture. A <i>condition variable</i> is simply a semaphore that is associated with a resource and is used within the protection of a particular <i>mutex</i>. When you need a resource that's unavailable, you wait on a condition variable. That action releases the lock on the corresponding <i>mutex</i>. When some other thread signals that the resource is available, the original thread comes off the wait and simultaneously regains the lock on the critical region.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby
require 'thread'
mutex = Mutex.new

cv = ConditionVariable.new
a = Thread.new {
   mutex.synchronize {
      puts "A: I have critical section, but will wait for cv"
      cv.wait(mutex)
      puts "A: I have critical section again! I rule!"
   }
}

puts "(Later, back at the ranch...)"

b = Thread.new {
   mutex.synchronize {
      puts "B: Now I am critical, but am done with cv"
      cv.signal
      puts "B: I am still critical, finishing up"
   }
}
a.join
b.join
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
A: I have critical section, but will wait for cv
(Later, back at the ranch...)
B: Now I am critical, but am done with cv
B: I am still critical, finishing up
A: I have critical section again! I rule!
</pre>
<h2>Thread States</h2>
<p>There are five possible return values corresponding to the five possible states as shown in the following table. The <i>status</i> method returns the state of the thread.</p>
<table class="table table-bordered">
<tr>
<th style="width:50%">Thread state</th>
<th>Return value</th></tr>
<tr>
<td>Runnable</td>
<td>run</td>
</tr>
<tr>
<td>Sleeping</td>
<td>Sleeping</td>
</tr>
<tr>
<td>Aborting</td>
<td>aborting</td>
</tr>
<tr>
<td>Terminated normally</td>
<td>false</td>
</tr>
<tr>
<td>Terminated with exception</td>
<td>nil</td>
</tr>
</table>
<h2>Thread Class Methods</h2>
<p>Following methods are provided by <i>Thread</i> class and they are applicable to all the threads available in the program. These methods will be called as using <i>Thread</i> class name as follows &minus;</p>
<pre class="prettyprint notranslate">
Thread.abort_on_exception = true
</pre>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i>Here is the complete list of all the class methods available &minus;</label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Methods &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><p><b>Thread.abort_on_exception</b></p>
<p>Returns the status of the global <i>abort on exception</i> condition. The default is <i>false</i>. When set to <i>true</i>, will cause all threads to abort (the process will exit(0)) if an exception is raised in any thread </p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><p><b>Thread.abort_on_exception=</b></p>
<p>When set to <i>true</i>, all threads will abort if an exception is raised. Returns the new state.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><p><b>Thread.critical</b></p>
<p>Returns the status of the global <i>thread critical</i> condition.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><p><b>Thread.critical=</b></p>
<p>Sets the status of the global <i>thread critical</i> condition and returns it. When set to <i>true</i>, prohibits scheduling of any existing thread. Does not block new threads from being created and run. Certain thread operations (such as stopping or killing a thread, sleeping in the current thread, and raising an exception) may cause a thread to be scheduled even when in a critical section.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><p><b>Thread.current</b></p>
<p>Returns the currently executing thread.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><p><b>Thread.exit</b></p>
<p>Terminates the currently running thread and schedules another thread to be run. If this thread is already marked to be killed, <i>exit</i> returns the <i>Thread.</i> If this is the main thread, or the last thread, exit the process.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><p><b>Thread.fork { block }</b></p>
<p>Synonym for Thread.new.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">8</td>
<td><p><b>Thread.kill( aThread )</b></p>
<p>Causes the given <i>a Thread</i> to exit</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">9</td>
<td><p><b>Thread.list</b></p>
<p>Returns an array of <i>Thread</i> objects for all threads that are either runnable or stopped. Thread.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">10</td>
<td><p><b>Thread.main</b></p>
<p>Returns the main thread for the process.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">11</td>
<td><p><b>Thread.new( [ arg ]* ) {| args | block }</b></p>
<p>Creates a new thread to execute the instructions given in block, and begins running it. Any arguments passed to <i>Thread.new</i> are passed into the block.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">12</td>
<td><p><b>Thread.pass</b></p>
<p>Invokes the thread scheduler to pass execution to another thread.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">13</td>
<td><p><b>Thread.start( [ args ]* ) {| args | block }</b></p>
<p>Basically the same as <i>Thread.new</i>. However, if class <i>Thread</i> is subclassed, then calling <i>start</i> in that subclass will not invoke the subclass's <i>initialize</i> method.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">14</td>
<td><p><b>Thread.stop</b></p>
<p>Stops execution of the current thread, putting it into a <i>sleep</i> state, and schedules execution of another thread. Resets the <i>critical</i> condition to false.</p></td>
</tr>
</table>
</div>
</section>
<h2>Thread Instance Methods</h2>
<p>These methods are applicable to an instance of a thread. These methods will be called as using an instance of a <i>Thread</i> as follows &minus;</p>
<pre class="prettyprint notranslate">
#!/usr/bin/ruby

thr = Thread.new do   # Calling a class method new
   puts "In second thread"
   raise "Raise exception"
end
thr.join   # Calling an instance method join
</pre>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i>Here is the complete list of all the instance methods available &minus;</label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Methods &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><p><b>thr[ aSymbol ]</b></p>
<p>Attribute Reference - Returns the value of a thread-local variable, using either a symbol or an <i>aSymbol</i> name. If the specified variable does not exist, returns <i>nil</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><p><b>thr[ aSymbol ] =</b></p>
<p>Attribute Assignment - Sets or creates the value of a thread-local variable, using either a symbol or a string.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><p><b>thr.abort_on_exception</b></p>
<p>Returns the status of the <i>abort on exception</i> condition for <i>thr</i>. The default is <i>false</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><p><b>thr.abort_on_exception=</b></p>
<p>When set to <i>true</i>, causes all threads (including the main program) to abort if an exception is raised in <i>thr</i>. The process will effectively <i>exit(0)</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><p><b>thr.alive?</b></p>
<p>Returns <i>true</i> if <i>thr</i> is running or sleeping.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><p><b>thr.exit</b></p>
<p>Terminates <i>thr</i> and schedules another thread to be run. If this thread is already marked to be killed, <i>exit</i> returns the <i>Thread</i>. If this is the main thread, or the last thread, exits the process.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><p><b>thr.join</b></p>
<p>The calling thread will suspend execution and run <i>thr</i>. Does not return until <i>thr</i> exits. Any threads not joined will be killed when the main program exits.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">8</td>
<td><p><b>thr.key?</b></p>
<p>Returns <i>true</i> if the given string (or symbol) exists as a thread-local variable.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">9</td>
<td><p><b>thr.kill</b></p>
<p>Synonym for <i>Thread.exit</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">10</td>
<td><p><b>thr.priority</b></p>
<p>Returns the priority of <i>thr</i>. Default is zero; higher-priority threads will run before lower priority threads.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">11</td>
<td><p><b>thr.priority=</b></p>
<p>Sets the priority of <i>thr</i> to an Integer. Higher-priority threads will run before lower priority threads.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">12</td>
<td><p><b>thr.raise( anException )</b></p>
<p>Raises an exception from <i>thr</i>. The caller does not have to be <i>thr</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">13</td>
<td><p><b>thr.run</b></p>
<p>Wakes up <i>thr</i>, making it eligible for scheduling. If not in a critical section, then invokes the scheduler.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">14</td>
<td><p><b>thr.safe_level</b></p>
<p>Returns the safe level in effect for <i>thr</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">15</td>
<td><p><b>thr.status</b></p>
<p>Returns the status of <i>thr</i>: <i>sleep</i> if <i>thr</i> is sleeping or waiting on I/O, <i>run</i> if <i>thr</i> is executing, false if <i>thr</i> terminated normally, and <i>nil</i> if <i>thr</i> terminated with an exception.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">16</td>
<td><p><b>thr.stop?</b></p>
<p>Returns <i>true</i> if <i>thr</i> is dead or sleeping.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">17</td>
<td><p><b>thr.value</b></p>
<p>Waits for thr to complete via <i>Thread.join</i> and returns its value.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">18</td>
<td><p><b>thr.wakeup</b></p>
<p>Marks <i>thr</i> as eligible for scheduling, it may still remain blocked on I/O, however.</p></td>
</tr>
</table>
</div>
</section>
<h1>Ruby - Built-in Functions</h1>
<p>Since the <i>Kernel</i> module is included by <i>Object</i> class, its methods are available everywhere in the Ruby program. They can be called without a receiver (functional form). Therefore, they are often called functions.</p>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i>A complete list of Built-in Functions is given here for your reference &minus;</label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Methods &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>abort</b>
<p>Terminates program. If an exception is raised (i.e., $! isn't nil), its error message is displayed.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>Array( obj)</b>
<p>Returns obj after converting it to an array using to_ary or to_a.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>at_exit {...}</b>
<p>Registers a block for execution when the program exits. Similar to END statement, but END statement registers the block only once.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>autoload( classname, file)</b>
<p>Registers a class classname to be loaded from file the first time it's used. classname may be a string or a symbol.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>binding</b>
<p>Returns the current variable and method bindings. The <i>Binding</i> object that is returned may be passed to the <i>eval</i> method as its second argument.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>block_given?</b>
<p>Returns true if the method was called with a <i>block</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><b>callcc {| c|...}</b>
<p>Passes a <i>Continuation</i> object c to the block and executes the block. <i>callcc</i> can be used for global exit or loop construct.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">8</td>
<td><b>caller([ n])</b>
<p>Returns the current execution stack in an array of the strings in the form <i>file:line</i>. If n is specified, returns stack entries from nth level on down.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">9</td>
<td><b>catch( tag) {...}</b>
<p>Catches a nonlocal exit by a throw called during the execution of its block.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">10</td>
<td><b>chomp([ rs = $/])</b>
<p>Returns the value of variable $_ with the ending newline removed, assigning the result back to $_. The value of the newline string can be specified with rs.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">11</td>
<td><b>chomp!([ rs = $/])</b>
<p>Removes newline from $_, modifying the string in place.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">12</td>
<td><b>chop</b>
<p>Returns the value of $_ with its last character (one byte) removed, assigning the result back to $_.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">13</td>
<td><b>chop!</b>
<p>Removes the last character from $_, modifying the string in place.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">14</td>
<td><b>eval( str[, scope[, file, line]])</b>
<p>Executes <i>str</i> as Ruby code. The binding in which to perform the evaluation may be specified with <i>scope</i>. The filename and line number of the code to be compiled may be specified using <i>file</i> and line.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">15</td>
<td><b>exec( cmd[, arg...])</b>
<p>Replaces the current process by running the command <i>cmd</i>. If multiple arguments are specified, the command is executed with no shell expansion.</p></td></tr>
<tr>
<td style="vertical-align:middle;">16</td>
<td><b>exit([ result = 0])</b>
<p>Exits program, with <i>result</i> as the status code returned.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">17</td>
<td><b>exit!([ result = 0])</b>
<p>Kills the program bypassing exit handling such as <i>ensure</i>, etc.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">18</td>
<td><b>fail(...)</b>
<p>See raise(...)</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">19</td>
<td><b>Float( obj)</b>
<p>Returns obj after converting it to a float. Numeric objects are converted directly; nil is converted to 0.0; strings are converted considering 0x, 0b radix prefix. The rest are converted using obj.to_f.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">20</td>
<td><p><b>fork</b></p>
<p><b>fork {...}</b></p>
<p>Creates a child process. <i>nil</i> is returned in the child process and the child process' ID (integer) is returned in the parent process. If a block is specified, it's run in the child process.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">21</td>
<td><b>format( fmt[, arg...])</b>
<p>See sprintf.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">22</td>
<td><b>gets([ rs = $/])</b>
<p>Reads the filename specified in the command line or one line from standard input. The record separator string can be specified explicitly with rs.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">23</td>
<td><b>global_variables</b>
<p>Returns an array of global variable names.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">24</td>
<td><p><b>gsub( x, y)</b></p>
<p><b>gsub( x) {...}</b></p>
<p>Replaces all strings matching x in $_ with y. If a block is specified, matched strings are replaced with the result of the block. The modified result is assigned to $_.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">25</td>
<td><p><b>gsub!( x, y)</b></p>
<p><b>gsub!( x) {...}</b></p>
<p>Performs the same substitution as gsub, except the string is changed in place.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">26</td>
<td><b>Integer( obj)</b>
<p>Returns obj after converting it to an integer. Numeric objects are converted directly; nil is converted to 0; strings are converted considering 0x, 0b radix prefix. The rest are converted using obj.to_i.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">27</td>
<td><p><b>lambda {| x|...}</b></p>
<p><b>proc {| x|...}</b></p>
<p><b>lambda</b></p>
<p>proc</p>
<p>Converts a block into a <i>Proc</i> object. If no block is specified, the block associated with the calling method is converted.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">28</td>
<td><b>load( file[, private = false])</b>
<p>Loads a Ruby program from <i>file</i>. Unlike <i>require</i>, it doesn't load extension libraries. If <i>private</i> is <i>true</i>, the program is loaded into an anonymous module, thus protecting the namespace of the calling program.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">29</td>
<td><b>local_variables</b>
<p>Returns an array of local variable names.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">30</td>
<td><b>loop {...}</b>
<p>Repeats a block of code.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">31</td>
<td><p><b>open( path[, mode = "r"])</b></p>
<p><b>open( path[, mode = "r"]) {| f|...}</b></p>
<p>Opens a <i>file</i>. If a block is specified, the block is executed with the opened stream passed as an argument. The file is closed automatically when the block exits. If <i>path</i> begins with a pipe |, the following string is run as a command, and the stream associated with that process is returned.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">32</td>
<td><b>p( obj)</b>
<p>Displays obj using its inspect method (often used for debugging).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">33</td>
<td><b>print([ arg...])</b>
<p>Prints arg to <i>$defout</i>. If no arguments are specified, the value of $_ is printed.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">34</td>
<td><b>printf( fmt[, arg...])</b>
<p>Formats arg according to <i>fmt</i> using <i>sprintf</i> and prints the result to <i>$defout</i>. For formatting specifications, see sprintf for detail.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">35</td>
<td><p><b>proc {| x|...}</b></p>
<p><b>proc</b></p>
<p>See lamda.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">36</td>
<td><b>putc( c)</b>
<p>Prints one character to the default output (<i>$defout</i>).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">37</td>
<td><b>puts([ str])</b>
<p>Prints string to the default output (<i>$defout</i>). If the string doesn't end with a newline, a newline is appended to the string.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">38</td>
<td><p><b>raise(...)</b></p>
<p><b>fail(...)</b></p>
<p>Raises an exception. Assumes <i>RuntimeError</i> if no exception class is specified. Calling <i>raise</i>
without arguments in a <i>rescue</i> clause re-raises the exception. Doing so outside a rescue clause raises a message-less <i>RuntimeError</i>. <b>fail</b> is an obsolete name for raise.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">39</td>
<td><b>rand([ max = 0])</b>
<p>Generates a pseudo-random number greater than or equal to 0 and less than max. If max is either not specified or is set to 0, a random number is returned as a floating-point number greater than or equal to 0 and less than 1. <i>srand</i> may be used to initialize pseudo-random stream.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">40</td>
<td><b>readline([ rs = $/])</b>
<p>Equivalent to gets except it raises an EOFError exception on reading EOF.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">41</td>
<td><b>readlines([ rs = $/])</b>
<p>Returns an array of strings holding either the filenames specified as command-line arguments or the contents of standard input.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">42</td>
<td><b>require( lib)</b>
<p>Loads the library (including extension libraries) <i>lib</i> when it's first called. require will not load the same library more than once. If no extension is specified in <i>lib</i>, require tries to add .rb,.so, etc., to it.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">43</td>
<td><p><b>scan( re)</b></p>
<p><b>scan( re) {|x|...}</b></p>
<p>Equivalent to $_.scan.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">44</td>
<td><b>select( reads[, writes = nil[, excepts = nil[, timeout = nil]]])</b>
<p>Checks for changes in the status of three types of IO objects input, output, and exceptions which are passed as arrays of IO objects. <i>nil</i> is passed for arguments that don't need checking. A three-element array containing arrays of the IO objects for which there were changes in status is returned. <i>nil</i> is returned on timeout.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">45</td>
<td><b>set_trace_func( proc)</b>
<p>Sets a handler for tracing. <i>proc</i> may be a string or <i>proc</i> object. <i>set_trace_func</i> is used by the debugger and profiler.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">46</td>
<td><b>sleep([ sec])</b>
<p>Suspends program execution for sec seconds. If sec isn't specified, the program is suspended forever.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">47</td>
<td><b>split([ sep[, max]])</b>
<p>Equivalent to $_.split.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">48</td>
<td><p><b>sprintf( fmt[, arg...])</b></p>
<p><b>format( fmt[, arg...])</b></p>
<p>Returns a string in which arg is formatted according to fmt. Formatting specifications are essentially the same as those for sprintf in the C programming language. Conversion specifiers (% followed by conversion field specifier) in <i>fmt</i> are replaced by formatted string of corresponding argument. A list of conversion filed is given below in next section.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">49</td>
<td><b>srand([ seed])</b>
<p>Initializes an array of random numbers. If <i>seed</i> isn't specified, initialization is performed using the time and other system information for the seed.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">50</td>
<td><b>String( obj)</b>
<p>Returns obj after converting it to a string using obj.to_s.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">51</td>
<td><b>syscall( sys[, arg...])</b>
<p>Calls an operating system call function specified by number <i>sys</i>. The numbers and meaning of <i>sys</i> is system-dependant.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">52</td>
<td><b>system( cmd[, arg...])</b>
<p>Executes <i>cmd</i> as a call to the command line. If multiple arguments are specified, the command is run directly with no shell expansion. Returns <i>true</i> if the return status is 0 (success).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">53</td>
<td><p><b>sub( x, y)</b></p>
<p><b>sub( x) {...}</b></p>
<p>Replaces the first string matching x in $_ with y. If a block is specified, matched strings are replaced with the result of the block. The modified result is assigned to $_.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">54</td>
<td><p><b>sub!( x, y)</b></p>
<p><b>sub!( x) {...}</b></p>
<p>Performs the same replacement as sub, except the string is changed in place.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">55</td>
<td><b>test( test, f1[, f2])</b>
<p>Performs various file tests specified by the character <i>test</i>. In order to improve readability, you should use File class methods (for example File::readable?) rather than this function. A list of arguments is given below in next section.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">56</td>
<td><b>throw( tag[, value = nil])</b>
<p>Jumps to the catch function waiting with the symbol or string <i>tag</i>. value is the return value to be used by <i>catch</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">57</td>
<td><p><b>trace_var( var, cmd)</b></p>
<p><b>trace_var( var) {...}</b></p>
<p>Sets tracing for a global variable. The variable name is specified as a symbol. <i>cmd</i> may be a string or Proc object.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">58</td>
<td><p><b>trap( sig, cmd)</b></p>
<p><b>trap( sig) {...}</b></p>
<p>Sets a signal handler. sig may be a string (like SIGUSR1) or an integer. SIG may be omitted from signal name. Signal handler for EXIT signal or signal number 0 is invoked just before process termination.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">59</td>
<td><b>untrace_var( var[, cmd])</b>
<p>Removes tracing for a global variable. If <i>cmd</i> is specified, only that command is removed.</p></td>
</tr>
</table>
</div>
</section>
<h2>Functions for Numbers</h2>
<p>Here is a list of Built-in Functions related to number. They should be used as follows &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

num = 12.40
puts num.floor      # 12
puts num + 10       # 22.40
puts num.integer?   # false  as num is a float.
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
12
22.4
false
</pre>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i>Assuming, <b>n</b> is a number &minus;</label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Methods &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><p><b>n &plus; num</b></p>
<p><b>n - num</b></p>
<p><b>n * num</b></p>
<p><b>n / num</b></p>
<p>Performs arithmetic operations: addition, subtraction, multiplication, and division.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>n % num</b>
<p>Returns the modulus of n.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>n ** num</b>
<p>Exponentiation.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>n.abs</b>
<p>Returns the absolute value of n.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>n.ceil</b>
<p>Returns the smallest integer greater than or equal to n.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>n.coerce( num)</b>
<p>Returns an array containing num and n both possibly converted to a type that allows them to be operated on mutually. Used in automatic type conversion in numeric operators.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><b>n.divmod( num)</b>
<p>Returns an array containing the quotient and modulus from dividing n by num.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">8</td>
<td><b>n.floor</b>
<p>Returns the largest integer less than or equal to n.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">9</td>
<td>
<b>n.integer?</b>
<p>Returns true if n is an integer.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">10</td>
<td><b>n.modulo( num)</b>
<p>Returns the modulus obtained by dividing n by num and rounding the quotient with <i>floor</i></p></td>
</tr>
<tr>
<td style="vertical-align:middle;">11</td>
<td><b>n.nonzero?</b>
<p>Returns n if it isn't zero, otherwise nil.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">12</td>
<td><b>n.remainder( num)</b>
<p>Returns the remainder obtained by dividing <b>n</b> by <b>num</b> and removing decimals from the quotient. The <b>result</b> and <b>n</b> always have same sign.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">13</td>
<td><b>n.round</b>
<p>Returns n rounded to the nearest integer.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">14</td>
<td><b>n.truncate</b>
<p>Returns n as an integer with decimals removed.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">15</td>
<td><b>n.zero?</b>
<p>Returns zero if n is 0.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">16</td>
<td><p><b>n &amp; num</b></p>
<p><b>n | num</b></p>
<p><b>n ^ num</b></p>
<p>Bitwise operations: AND, OR, XOR, and inversion.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">17</td>
<td><p><b>n &lt;&lt; num</b></p>
<p><b>n &gt;&gt; num</b></p>
<p>Bitwise left shift and right shift.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">18</td>
<td><b>n[num]</b>
<p>Returns the value of the <b>num</b>th bit from the least significant bit, which is n[0].</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">19</td>
<td><b>n.chr</b>
<p>Returns a string containing the character for the character code <b>n</b>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">20</td>
<td><p><b>n.next</b></p>
<p><b>n.succ</b></p>
<p>Returns the next integer following n. Equivalent to n + 1.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">21</td>
<td>
<b>n.size</b>
<p>Returns the number of bytes in the machine representation of <b>n</b>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">22</td>
<td><b>n.step( upto, step) {|n| ...}</b>
<p>Iterates the block from <b>n</b> to <b>upto</b>, incrementing by <b>step</b> each time.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">23</td>
<td><b>n.times {|n| ...}</b>
<p>Iterates the block <b>n</b> times.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">24</td>
<td><b>n.to_f</b>
<p>Converts <b>n</b> into a floating point number. Float conversion may lose precision information.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">25</td>
<td><b>n.to_int</b>
<p>Returns <b>n</b> after converting into interger number.</p></td>
</tr>
</table>
</div>
</section>
<h2>Functions for Float</h2>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i>Here is a list of Ruby Built-in functions especially for float numbers. Assuming we have a float number <b>f</b> &minus;</label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Methods &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>Float::induced_from(num)</b>
<p>Returns the result of converting <i>num</i> to a floating-point number.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>f.finite?</b>
<p>Returns true if <i>f</i> isn't infinite and f.nan is false.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>f.infinite?</b>
<p>Returns 1 if <i>f</i> is positive infinity, -1 if negative infinity, or nil if anything else.</td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>f.nan?</b>
<p>Returns true if <i>f</i> isn't a valid IEEE floating point number.</p></td>
</tr>
</table>
</div>
</section>
<h2>Functions for Math</h2>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i>Here is a list of Ruby Built-in math functions &minus;</label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Methods &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>atan2( x, y)</b>
<p>Calculates the arc tangent.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>cos( x)</b>
<p>Calculates the cosine of x.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>exp( x)</b>
<p>Calculates an exponential function (e raised to the power of x).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>frexp( x)</b>
<p>Returns a two-element array containing the nominalized fraction and exponent of x.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>ldexp( x, exp)</b>
<p>Returns the value of x times 2 to the power of exp.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>log( x)</b>
<p>Calculates the natural logarithm of x.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><b>log10( x)</b>
<p>Calculates the base 10 logarithm of x.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">8</td>
<td><b>sin( x)</b>
<p>Calculates the sine of x.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">9</td>
<td><b>sqrt( x)</b>
<p>Returns the square root of x. x must be positive.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">10</td>
<td><b>tan( x)</b><p>Calculates the tangent of x.</p></td>
</tr>
</table>
</div>
</section>
<h2>Conversion Field Specifier</h2>
<p>The function <i>sprintf( fmt[, arg...]) and format( fmt[, arg...])</i> returns a string in which arg is formatted according to fmt. Formatting specifications are essentially the same as those for sprintf in the C programming language. Conversion specifiers (% followed by conversion field specifier) in <i>fmt</i> are replaced by formatted string of corresponding argument.</p>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i>The following conversion specifiers are supported by Ruby's format &minus;</label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Specifier &amp; Description</th>
</tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>b</b>
<p>Binary integer</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>c</b>
<p>Single character</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>d,i</b>
<p>Decimal integer</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>e</b>
<p>Exponential notation (e.g., 2.44e6)</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>E</b>
<p>Exponential notation (e.g., 2.44E6)</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>f</b>
<p>Floating-point number (e.g., 2.44)</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><b>g</b>
<p>use %e if exponent is less than -4, %f otherwise</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">8</td>
<td><b>G</b>
<p>use %E if exponent is less than -4, %f otherwise</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">9</td>
<td><b>o</b>
<p>Octal integer</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">10</td>
<td><b>s</b>
<p>String or any object converted using to_s</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">11</td>
<td><b>u</b>
<p>Unsigned decimal integer</p></td>
</tr>
<tr>
<td>12.</td>
<td><b>x</b>
<p>Hexadecimal integer (e.g., 39ff)</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">13</td>
<td><b>X</b>
<p>Hexadecimal integer (e.g., 39FF)</p></td>
</tr>
</table>
</div>
<section>
<p>Following is the usage example &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

str = sprintf("%s\n", "abc")   # =&gt; "abc\n" (simplest form)
puts str 

str = sprintf("d=%d", 42)      # =&gt; "d=42" (decimal output)
puts str 

str = sprintf("%04x", 255)     # =&gt; "00ff" (width 4, zero padded)
puts str 

str = sprintf("%8s", "hello")  # =&gt; " hello" (space padded)
puts str 

str = sprintf("%.2s", "hello") # =&gt; "he" (trimmed by precision)
puts str 
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
abc
d=42
00ff
   hello
he
</pre>
<h2>Test Function Arguments</h2>
<p>The function <i>test( test, f1[, f2])</i> performs one of the following file tests specified by the character <i>test</i>. In order to improve readability, you should use File class methods (for example, File::readable?) rather than this function.</p>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i>Here are the file tests with one argument &minus;</label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Argument &amp; Description</th></tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>?r</b>
<p>Is f1 readable by the effective uid of caller?</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>?w</b>
<p>Is f1 writable by the effective uid of caller?</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>?x</b>
<p>Is f1 executable by the effective uid of caller?</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>?o</b>
<p>Is f1 owned by the effective uid of caller?</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>?R</b>
<p>Is f1 readable by the real uid of caller?</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>?W</b>
<p>Is f1 writable by the real uid of caller?</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><b>?X</b>
<p>Is f1 executable by the real uid of caller?</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">8</td>
<td><b>?O</b>
<p>Is f1 owned by the real uid of caller?</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">9</td>
<td><b>?e</b>
<p>Does f1 exist?</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">10</td>
<td><b>?z</b>
<p>Does f1 have zero length?</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">11</td>
<td><b>?s</b>
<p>File size of f1(nil if 0)</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">12</td>
<td><b>?f</b>
<p>Is f1 a regular file?</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">13</td>
<td><b>?d</b>
<p>Is f1 a directory?</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">14</td>
<td><b>?l</b>
<p>Is f1 a symbolic link?</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">15</td>
<td><b>?p</b>
<p>Is f1 a named pipe (FIFO)?</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">16</td>
<td><b>?S</b>
<p>Is f1 a socket?</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">17</td>
<td><b>?b</b>
<p>Is f1 a block device?</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">18</td>
<td><b>?c</b>
<p>Is f1 a character device?</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">19</td>
<td><b>?u</b>
<p>Does f1 have the setuid bit set?</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">20</td>
<td><b>?g</b>
<p>Does f1 have the setgid bit set?</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">21</td>
<td><b>?k</b>
<p>Does f1 have the sticky bit set?</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">22</td>
<td><b>?M</b>
<p>Last modification time for f1.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">23</td>
<td><b>?A</b>
<p>Last access time for f1.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">24</td>
<td><b>?C</b>
<p>Last inode change time for f1.</p></td>
</tr>
</table>
</div>
</section>
<section class="toggle">
<label><i class="icon icon-minus"></i><i class="icon icon-plus"></i>File tests with two arguments are as follows &minus;</label>
<div class="toggle-content" style="display: none;"> 
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Argument &amp; Description</th></tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>?=</b>
<p>Are modification times of f1 and f2 equal?</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>?&gt;</b>
<p>Is the modification time of f1 more recent than f2 ?</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>?&lt;</b>
<p>Is the modification time of f1 older than f2 ?</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>?-</b>
<p>Is f1 a hard link to f2 ?</p></td>
</tr>
</table>
</div>
</section>
<p>Following is the usage example. Assuming main.rb exist with read, write and not execute permissions &minus;</p>
<pre class="prettyprint notranslate tryit">
#!/usr/bin/ruby

puts test(?r, "main.rb" )   # =&gt; true
puts test(?w, "main.rb" )   # =&gt; true
puts test(?x, "main.rb" )   # =&gt; false
</pre>
<p>This will produce the following result &minus;</p>
<pre class="result notranslate">
true
true
false
</pre>
<h1>Ruby - Predefined Variables</h1>
<p>Ruby's predefined variables affect the behavior of the entire program, so their use in libraries is not recommended.</p>
<p>The values in most predefined variables can be accessed by alternative means.</p>
<p>Following table lists all the Ruby's predefined variables.</p>
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Variable Name &amp; Description</th>
</tr>
<tr>
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>&dollar;!</b>
<p>The last exception object raised. The exception object can also be accessed using =&gt; in <i>rescue</i> clause.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>&dollar;&commat;</b>
<p>The stack <i>backtrace</i> for the last exception raised. The stack <i>backtrace</i> information can retrieved by Exception#backtrace method of the last exception.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>&dollar;/</b>
<p>The input record separator (newline by default). <i>gets, readline,</i> etc., take their input record separator as optional argument.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>&dollar;\</b>
<p>The output record separator (nil by default).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>&dollar;,</b>
<p>The output separator between the arguments to print and Array#join (nil by default). You can specify separator explicitly to Array#join.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>&dollar;;</b>
<p>The default separator for split (nil by default). You can specify separator explicitly for String#split.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><b>&dollar;.</b>
<p>The number of the last line read from the current input file. Equivalent to ARGF.lineno.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">8</td>
<td><b>&dollar;&lt;</b>
<p>Synonym for ARGF.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">9</td>
<td><b>&dollar;&gt;</b>
<p>Synonym for $defout.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">10</td>
<td><b>&dollar;0</b>
<p>The name of the current Ruby program being executed.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">11</td>
<td><b>&dollar;&dollar;</b>
<p>The process pid of the current Ruby program being executed.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">12</td>
<td><b>&dollar;?</b>
<p>The exit status of the last process terminated.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">13</td>
<td><b>&dollar;:</b>
<p>Synonym for $LOAD_PATH.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">14</td>
<td><b>&dollar;DEBUG</b>
<p>True if the -d or --debug command-line option is specified.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">15</td>
<td><b>&dollar;defout</b>
<p>The destination output for <i>print</i> and <i>printf</i> (<i>$stdout</i> by default).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">16</td>
<td><b>&dollar;F</b>
<p>The variable that receives the output from <i>split</i> when -a is specified. This variable is set if the -a command-line option is specified along with the -p or -n option.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">17</td>
<td><b>&dollar;FILENAME</b>
<p>The name of the file currently being read from ARGF. Equivalent to ARGF.filename.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">18</td>
<td><b>&dollar;LOAD_PATH</b>
<p>An array holding the directories to be searched when loading files with the load and require methods.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">19</td>
<td><b>&dollar;SAFE</b>
<p>The security level</p>
<p>0 &rarr; No checks are performed on externally supplied (tainted) data. (default)</p>
<p>1 &rarr; Potentially dangerous operations using tainted data are forbidden.</p>
<p>2 &rarr; Potentially dangerous operations on processes and files are forbidden.</p>
<p>3 &rarr; All newly created objects are considered tainted.</p>
<p>4 &rarr; Modification of global data is forbidden.</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle;">20</td>
<td><b>&dollar;stdin</b>
<p>Standard input (STDIN by default).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">21</td>
<td><b>&dollar;stdout</b>
<p>Standard output (STDOUT by default).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">22</td>
<td><b>&dollar;stderr</b>
<p>Standard error (STDERR by default).</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">23</td>
<td><b>&dollar;VERBOSE</b>
<p>True if the -v, -w, or --verbose command-line option is specified.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">24</td>
<td><b>&dollar;- x</b>
<p>The value of interpreter option -x (x=0, a, d, F, i, K, l, p, v). These options are listed below</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">25</td>
<td><b>&dollar;-0</b>
<p>The value of interpreter option -x and alias of $/.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">26</td>
<td><b>&dollar;-a</b>
<p>The value of interpreter option -x and true if option -a is set. Read-only.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">27</td>
<td><b>&dollar;-d</b>
<p>The value of interpreter option -x and alias of $DEBUG</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">28</td>
<td><b>&dollar;-F</b>
<p>The value of interpreter option -x and alias of $;.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">29</td>
<td><b>&dollar;-i</b>
<p>The value of interpreter option -x and in in-place-edit mode, holds the extension, otherwise nil. Can enable or disable in-place-edit mode.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">30</td>
<td><b>&dollar;-I</b>
<p>The value of interpreter option -x and alias of $:.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">31</td>
<td><b>&dollar;-l</b>
<p>The value of interpreter option -x and true if option -lis set. Read-only.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">32</td>
<td><b>&dollar;-p</b>
<p>The value of interpreter option -x and true if option -pis set. Read-only.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">33</td>
<td><b>&dollar;_</b>
<p>The local variable, last string read by gets or readline in the current scope.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">34</td>
<td><b>&dollar;~</b>
<p>The local variable, <i>MatchData</i> relating to the last match. Regex#match method returns the last match information.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">35</td>
<td><b>&dollar; n ($1, $2, $3...)</b>
<p>The string matched in the nth group of the last pattern match. Equivalent to m[n], where m is a <i>MatchData</i> object.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">36</td>
<td><b>&dollar;&amp;</b>
<p>The string matched in the last pattern match. Equivalent to m[0], where m is a <i>MatchData</i> object.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">37</td>
<td><b>&dollar;`</b>
<p>The string preceding the match in the last pattern match. Equivalent to m.pre_match, where m is a <i>MatchData</i> object.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">38</td>
<td><b>&dollar;'</b>
<p>The string following the match in the last pattern match. Equivalent to m.post_match, where m is a MatchData object.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">39</td>
<td><b>&dollar;&plus;</b>
<p>The string corresponding to the last successfully matched group in the last pattern match.</p></td>
</tr>
</table>
<h1>Ruby - Predefined Constants</h1>
<p>The following table lists all the Ruby's Predefined Constants &minus;</p>
<p><b>NOTE</b> &minus; TRUE, FALSE, and NIL are backward-compatible. It's preferable to use true, false, and nil.</p>
<table class="table table-bordered">
<tr>
<th style="width:5%">Sr.No.</th>
<th style="text-align:center;">Constant Name &amp; Description</th>
</tr> 
<tr>
<td style="vertical-align:middle;">1</td>
<td><b>TRUE</b>
<p>Synonym for true.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">2</td>
<td><b>FALSE</b>
<p>Synonym for false.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">3</td>
<td><b>NIL</b>
<p>Synonym for nil.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">4</td>
<td><b>ARGF</b>
<p>An object providing access to virtual concatenation of files passed as command-line arguments or standard input if there are no command-line arguments. A synonym for &dollar;&lt;.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">5</td>
<td><b>ARGV</b>
<p>An array containing the command-line arguments passed to the program. A synonym for &dollar;*.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">6</td>
<td><b>DATA</b>
<p>An input stream for reading the lines of code following the __END__ directive. Not defined if __END__ isn't present in code.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">7</td>
<td><b>ENV</b>
<p>A hash-like object containing the program's environment variables. ENV can be handled as a hash.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">8</td>
<td><b>RUBY_PLATFORM</b>
<p>A string indicating the platform of the Ruby interpreter.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">9</td>
<td><b>RUBY_RELEASE_DATE</b>
<p>A string indicating the release date of the Ruby interpreter</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">10</td>
<td><b>RUBY_VERSION</b>
<p>A string indicating the version of the Ruby interpreter.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">11</td>
<td><b>STDERR</b>
<p>Standard error output stream. Default value of <i>&dollar;stderr</i>.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">12</td>
<td><b>STDIN</b>
<p>Standard input stream. Default value of &dollar;stdin.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">13</td>
<td><b>STDOUT</b>
<p>Standard output stream. Default value of &dollar;stdout.</p></td>
</tr>
<tr>
<td style="vertical-align:middle;">14</td>
<td><b>TOPLEVEL_BINDING</b>
<p>A binding object at Ruby's top level.</p></td>
</tr>
</table>
<h1>Ruby - Associated Tools</h1>
<h2>Standard Ruby Tools</h2>
<p>The standard Ruby distribution contains useful tools along with the interpreter and standard libraries &minus;</p>
<p>These tools help you debug and improve your Ruby programs without spending much effort. This tutorial will give you a very good start with these tools.</p>
<ul class="list">
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_gems.htm" title="Ruby Gems"><b>RubyGems</b> &minus;</a></p>
<p>RubyGems is a package utility for Ruby, which installs Ruby software packages and keeps them up-to-date.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_debugger.htm" title="Ruby Debugger"><b>Ruby Debugger</b> &minus;</a></p>
<p>To help deal with bugs, the standard distribution of Ruby includes a debugger. This is very similar to <i>gdb</i> utility, which can be used to debug complex programs.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/interactive_ruby.htm" title="Interactive Ruby (irb)"><b>Interactive Ruby (irb)</b> &minus;</a></p>
<p><i>irb</i> (Interactive Ruby) was developed by Keiju Ishitsuka. It allows you to enter commands at the prompt and have the interpreter respond as if you were executing a program. irb is useful to experiment with or to explore Ruby.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_profiler.htm" title="Ruby Profiler"><b>Ruby Profiler</b> &minus;</a></p>
<p>Ruby profiler helps you to improve the performance of a slow program by finding the bottleneck.</p></li>
</ul>
<h2>Additional Ruby Tools</h2>
<p>There are other useful tools that don't come bundled with the Ruby standard distribution. However, you do need to install them yourself.</p>
<ul class="list">
<li><p><a href="https://www.tutorialspoint.com/ruby/eruby.htm" title="eRuby: Embeded Ruby"><b>eRuby: Embeded Ruby</b> &minus;</a></p>
<p>eRuby stands for embedded Ruby. It's a tool that embeds fragments of Ruby code in other files, such as HTML files similar to ASP, JSP and PHP.</p></li>
<li><p><a href="https://www.tutorialspoint.com/ruby/ruby_interactive_reference.htm" title="ri: Ruby Interactive Reference"><b>ri: Ruby Interactive Reference</b> &minus;</a></p>
<p>When you have a question about the behavior of a certain method, you can invoke ri to read the brief explanation of the method.</p></li>
</ul>
<p>For more information on Ruby tool and resources, have a look at <a href="https://www.tutorialspoint.com/ruby/ruby_resources.htm" title="Ruby Resources"><b>Ruby Useful Resources</b></a>.</p>
<hr />
<div class="pre-btn">
<a href="https://www.tutorialspoint.com/ruby/ruby_associated_tools.htm"><i class="icon icon-arrow-circle-o-left big-font"></i> Previous Page</a>
</div>
<div class="print-btn center">
<a href="https://www.tutorialspoint.com/cgi-bin/printpage.cgi" target="_blank"><i class="icon icon-print big-font"></i> Print</a>
</div>
<div class="nxt-btn">
<a href="https://www.tutorialspoint.com/ruby/ruby_resources.htm">Next Page <i class="icon icon-arrow-circle-o-right big-font"></i>&nbsp;</a>
</div>
<hr />
<!-- PRINTING ENDS HERE -->
<div class="bottomgooglead">
<div class="bottomadtag">Advertisements</div>
<script type="text/javascript"><!--
var width = 580;
var height = 400;
var format = "580x400_as";
if( window.innerWidth < 468 ){
   width = 300;
   height = 250;
   format = "300x250_as";
}
google_ad_client = "pub-7133395778201029";
google_ad_width = width;
google_ad_height = height;
google_ad_format = format;
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
</div>
</div>
<div class="row">
<div class="col-md-3" id="rightbar">
<div class="simple-ad">
<a href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.facebook.com/sharer.php?u=' + 'http://www.tutorialspoint.com/ruby/ruby_quick_guide.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="https://www.tutorialspoint.com/images/facebookIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://twitter.com/share?url=' + 'http://www.tutorialspoint.com/ruby/ruby_quick_guide.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="https://www.tutorialspoint.com/images/twitterIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.linkedin.com/cws/share?url=' + 'http://www.tutorialspoint.com/ruby/ruby_quick_guide.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="https://www.tutorialspoint.com/images/linkedinIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://plus.google.com/share?url=http://www.tutorialspoint.com/ruby/ruby_quick_guide.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="https://www.tutorialspoint.com/images/googlePlusIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.stumbleupon.com/submit?url=http://www.tutorialspoint.com/ruby/ruby_quick_guide.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="https://www.tutorialspoint.com/images/StumbleUponIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://reddit.com/submit?url=http://www.tutorialspoint.com/ruby/ruby_quick_guide.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=656,top='+sTop+',left='+sLeft);return false;">
<img src="https://www.tutorialspoint.com/images/reddit.jpg" alt="img" />
</a>
</div>
<div class="rightgooglead">
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 300;
google_ad_height = 250;
google_ad_format = "300x250_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<div class="rightgooglead">
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 300;
google_ad_height = 600;
google_ad_format = "300x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<div class="rightgooglead">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-2537027957187252";
/* Right Side Ad */
google_ad_slot = "right_side_ad";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
</div>
</div>
</div>
</div>
</div>

<div class="footer-copyright">
<div class="container">
<div class="row">
<div class="col-md-1">
<a href="https://www.tutorialspoint.com/index.htm" class="logo"> <img alt="Tutorials Point" class="img-responsive" src="https://www.tutorialspoint.com/scripts/img/logo-footer.png"> </a>
</div>
<div class="col-md-4 col-sm-12 col-xs-12">
   <nav id="sub-menu">
      <ul>
         <li><a href="https://www.tutorialspoint.com/about/tutorials_writing.htm">Write for us</a></li>
         <li><a href="https://www.tutorialspoint.com/about/faq.htm">FAQ's</a></li>
         <li><a href="https://www.tutorialspoint.com/about/about_helping.htm">Helping</a></li>
         <li><a href="https://www.tutorialspoint.com/about/contact_us.htm">Contact</a></li>
      </ul>
   </nav>
</div>
<div class="col-md-3 col-sm-12 col-xs-12">
<p>&copy; Copyright 2017. All Rights Reserved.</p>
</div>
<div class="col-md-4 col-sm-12 col-xs-12">
   <div class="news-group">
      <input type="text" class="form-control-foot search" name="textemail" id="textemail" autocomplete="off" placeholder="Enter email for newsletter" onfocus="if (this.value == 'Enter email for newsletter...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Enter email for newsletter...';}">
      <span class="input-group-btn"> <button class="btn btn-default btn-footer" id="btnemail" type="submit" onclick="javascript:void(0);">go</button> </span>
      <div id="newsresponse"></div>
   </div>
</div>
</div>
</div>
</div>
</div>
<!-- Libs -->
<script type="text/javascript" src="https://www.tutorialspoint.com/theme/js/custom-min.js?v=4"></script>
<script src="https://www.google-analytics.com/urchin.js">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
$('.pg-icon').click(function(){
   $('.wrapLoader').show();
});
</script>
<script type="text/javascript" src="https://www.tutorialspoint.com/theme/js/jquery.colorbox-min.js"></script>
<script type="text/javascript">
   var tryit = new $.TryIt('https://www.tutorialspoint.com/ruby/try_ruby.php');
   tryit.compile();
</script></div>
</body>

<!-- Mirrored from www.tutorialspoint.com/ruby/ruby_quick_guide.htm by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Aug 2017 18:26:06 GMT -->
</html>
