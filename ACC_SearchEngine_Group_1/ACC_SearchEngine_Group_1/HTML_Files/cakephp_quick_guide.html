<!DOCTYPE html>
<!--[if IE 8]><html class="ie ie8"> <![endif]-->
<!--[if IE 9]><html class="ie ie9"> <![endif]-->
<!--[if gt IE 9]><!-->	<html> <!--<![endif]-->

<!-- Mirrored from www.tutorialspoint.com/cakephp/cakephp_quick_guide.htm by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Aug 2017 17:51:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<!-- Basic -->
<meta charset="utf-8">
<title>CakePHP Quick Guide</title>
<meta name="description" content="CakePHP Quick Guide - Learn CakePHP starting from Overview, Installation, Folder Structure, Configuration, Email Configuration, Routing, Generating URLs, Redirect Routing, Controllers, Views, Extending Views, View Elements, View Events, Working with Database, View a Record, Update a Record, Delete a Record, Services, Errors and Exception Handling, Logging, From Handling, Internationalization, Session Management, Cookie Management, Security, Validation, Creating Validators." />
<meta name="keywords" content="CakePHP, Tutorial, Overview, Installation, Folder Structure, Configuration, Email Configuration, Routing, Generating URLs, Redirect Routing, Controllers, Views, Extending Views, View Elements, View Events, Working with Database, View a Record, Update a Record, Delete a Record, Services, Errors and Exception Handling, Logging, From Handling, Internationalization, Session Management, Cookie Management, Security, Validation, Creating Validators." />
<base  />
<link rel="shortcut icon" href="../favicon.ico" type="image/x-icon" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes">
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="website" />
<meta property="fb:app_id" content="471319149685276" />
<meta property="og:site_name" content="www.tutorialspoint.com" />
<meta name="robots" content="index, follow"/>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="author" content="tutorialspoint.com">
<script type="text/javascript" src="../theme/js/script-min-v4.js"></script>
<link rel="stylesheet" href="../theme/css/style-min5e1f.css?v=2">
<!-- Head Libs -->
<!--[if IE 8]>
<link rel="stylesheet" type="text/css" href="/theme/css/ie8.css">
<![endif]-->
<style>
select{ border:0 !important; outline: 1px inset black !important; outline-offset: -1px !important; }
ul.nav-list.primary>li a.videolink{    background: none; margin: 0px; padding: 0px; border: 1px solid #d6d6d6;}
div.feature-box div.feature-box-icon, .col-md-3 .course-box, li.heading, div.footer-copyright { background: #f03b23 url(../images/pattern.png) repeat center center !important;}
.sub-main-menu .sub-menuu div:hover, .sub-main-menu .viewall, header nav ul.nav-main li a:hover, button.btn-responsive-nav, header div.search button.btn-default { background: #f03b23 !important;}
.submenu-item{ border-bottom: 2px solid #f03b23 !important; border-top: 2px solid #f03b23 !important }
.ace_scroller{overflow: auto!important;}
</style>
<script>
$(document).ready(function() {
  $('input[name="q"]').keydown(function(event){
    if(event.keyCode == 13) {
      event.preventDefault();
      return false;
    }
  });
});
</script>
</head>
<body onload="prettyPrint()">
<div class="wrapLoader">
   <div class="imgLoader">
      <img  src="../images/loading-cg.gif" alt="" width="70" height="70" />
   </div>
</div>
<header>
   <div class="container">			
      <h1 class="logo">
      <a href="../index-2.html" title="tutorialspoint">
      <img alt="tutorialspoint" src="images/logo.png">
      </a>
      </h1>			
      <nav>
         <ul class="nav nav-pills nav-top">
            <li><a href="../about/about_careers.html" style="background: #fffb09; font-weight: bold;"><i class="icon icon-suitcase"></i> Jobs</a></li>
            <li> <a href="http://www.sendfiles.net/"><i class="fa fa-send"></i> &nbsp;SENDFiles</a> </li>
            <li> <a href="../whiteboard.html"><img src="../theme/css/icons/image-editor.png" alt="Whiteboard" title="Whiteboard"> &nbsp;Whiteboard</a> </li>
            <li> <a href="../netmeeting.html"><i class="fa-camera"></i> &nbsp;Net Meeting</a> </li>
            <li> <a href="../online_dev_tools.html"> <i class="dev-tools-menu" style="opacity:.5"></i> Tools </a> </li>
            <li> <a href="../articles/index.html"><i class="icon icon-file-text-o"></i> &nbsp;Articles</a> </li>            
            <li class="top-icons">
              <ul class="social-icons">
              <li class="facebook"><a href="https://www.facebook.com/tutorialspointindia" target="_blank" data-placement="bottom" title="tutorialspoint @ Facebook">Facebook</a></li>
              <li class="googleplus"><a href="https://plus.google.com/u/0/116678774017490391259/posts" target="_blank" data-placement="bottom" title="tutorialspoint @ Google+">Google+</a></li>
              <li class="twitter"><a href="https://www.twitter.com/tutorialspoint" target="_blank" data-placement="bottom" title="tutorialspoint @ Twitter">Twitter</a></li>
              <li class="linkedin"><a href="https://www.linkedin.com/company/tutorialspoint" target="_blank" data-placement="bottom" title="tutorialspoint @ Linkedin">Linkedin</a></li>
              <li class="youtube"><a href="https://www.youtube.com/channel/UCVLbzhxVTiTLiVKeGV7WEBg" target="_blank" data-placement="bottom" title="tutorialspoint YouTube">YouTube</a></li>
              </ul>
           </li>
         </ul>
      </nav>
         <!-- search code here  --> 
      <button class="btn btn-responsive-nav btn-inverse" data-toggle="collapse" data-target=".nav-main-collapse" id="pull" style="top: 24px!important"> <i class="icon icon-bars"></i> </button>
   </div>
  
   <div class="navbar nav-main">
      <div class="container">
         <nav class="nav-main mega-menu">
            <ul class="nav nav-pills nav-main" id="mainMenu">
               <li class="dropdown no-sub-menu"> <a class="dropdown" href="../index-2.html"><i class="icon icon-home"></i> Home</a> </li>   
               <li class="dropdown" id="liTL"><a class="dropdown" href="javascript:void(0);"><span class="tut-lib"> Tutorials Library <i class="fa-caret-down"></i></span></a></li>
               <li class="dropdown no-sub-menu"><a class="dropdown" href="../codingground.html"><i class="fa-code"></i> Coding Ground </a> </li>
               <li class="dropdown no-sub-menu"><a class="dropdown" href="../tutor_connect/index.html"><i class="fa-user"> </i> Tutor Connect</a></li>
               <li class="dropdown no-sub-menu"><a class="dropdown" href="../videotutorials/index.html"><i class="fa-toggle-right"></i> Videos </a></li>
               <li class="dropdown no-sub-menu">
                  <div class="searchform-popup">
                     <input class="header-search-box" type="text" id="search-string" name="q" placeholder="Search your favorite tutorials..." onfocus="if (this.value == 'Search your favorite tutorials...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search your favorite tutorials...';}" autocomplete="off">
                     <div class="magnifying-glass"><i class="icon-search"></i> Search </div>
                 </div>
               </li>
            </ul>
         </nav>
         <div class="submenu-item sub-main-menu" id="top-sub-menu"></div>
         
      </div>
   </div>	
</header>
<div style="clear:both;"></div>
<div role="main" class="main">
<div class="container">
<div class="row">
<div class="col-md-2">
<aside class="sidebar">
<div class="mini-logo">
<img src="images/cakephp-mini-logo.jpg" alt="CakePHP Tutorial" />
</div>
<ul class="nav nav-list primary left-menu">
<li class="heading">CakePHP Tutorial</li>
<li><a href="index.html">CakePHP - Home</a></li>
<li><a href="cakephp_overview.html">CakePHP - Overview</a></li>
<li><a href="cakephp_installation.html">CakePHP - Installation</a></li>
<li><a href="cakephp_folder_structure.html">CakePHP - Folder Structure</a></li>
<li><a href="cakephp_configuration.html">CakePHP - Configuration</a></li>
<li><a href="cakephp_email_configuration.html">CakePHP - Email Configuration</a></li>
<li><a href="cakephp_routing.html">CakePHP - Routing</a></li>
<li><a href="cakephp_generating_urls.html">CakePHP - Generating Urls</a></li>
<li><a href="cakephp_redirect_routing.html">CakePHP - Redirect Routing</a></li>
<li><a href="cakephp_controllers.html">CakePHP - Controllers</a></li>
<li><a href="cakephp_views.html">CakePHP - Views</a></li>
<li><a href="cakephp_extending_views.html">CakePHP - Extending Views</a></li>
<li><a href="cakephp_view_elements.html">CakePHP - View Elements</a></li>
<li><a href="cakephp_view_events.html">CakePHP - View Events</a></li>
<li><a href="cakephp_working_with_database.html">CakePHP - Working with Database</a></li>
<li><a href="cakephp_view_a_record.html">CakePHP - View a Record</a></li>
<li><a href="cakephp_update_a_record.html">CakePHP - Update a Record</a></li>
<li><a href="cakephp_delete_a_record.html">CakePHP - Delete a Record</a></li>
<li><a href="cakephp_services.html">CakePHP - Services</a></li>
<li><a href="cakephp_errors_exception_handling.html">Errors &amp; Exception Handling</a></li>
<li><a href="cakephp_logging.html">CakePHP - Logging</a></li>
<li><a href="cakephp_form_handling.html">CakePHP - Form Handling</a></li>
<li><a href="cakephp_internationalization.html">CakePHP - Internationalization</a></li>
<li><a href="cakephp_session_management.html">CakePHP - Session Management</a></li>
<li><a href="cakephp_cookie_management.html">CakePHP - Cookie Management</a></li>
<li><a href="cakephp_security.html">CakePHP - Security</a></li>
<li><a href="cakephp_validation.html">CakePHP - Validation</a></li>
<li><a href="cakephp_creating_validators.html">CakePHP - Creating Validators</a></li>
<li class="heading">CakePHP Useful Resources</li>
<li><a href="cakephp_quick_guide.html">CakePHP - Quick Guide</a></li>
<li><a href="cakephp_useful_resources.html">CakePHP - Useful Resources</a></li>
<li><a href="cakephp_discussion.html">CakePHP - Discussion</a></li>
</ul>
<ul class="nav nav-list primary push-bottom left-menu special">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="../developers_best_practices/index.html">Developer's Best Practices</a></li>
<li><a target="_top" href="../questions_and_answers.html">Questions and Answers</a></li>
<li><a target="_top" href="../effective_resume_writing.html">Effective Resume Writing</a></li>
<li><a target="_top" href="../hr_interview_questions/index.html">HR Interview Questions</a></li>
<li><a target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
 </aside>
</div>
<!-- PRINTING STARTS HERE -->
<div class="row">
<div class="content">
<div class="col-md-7 middle-col">
<h1>CakePHP - Quick Guide</h1>
<div class="topgooglead">
<hr />
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt"> 
</script>
</div>
<hr />
<div class="pre-btn">
<a href="cakephp_creating_validators.html"><i class="icon icon-arrow-circle-o-left big-font"></i> Previous Page</a>
</div>
<div class="nxt-btn">
<a href="cakephp_useful_resources.html">Next Page <i class="icon icon-arrow-circle-o-right big-font"></i>&nbsp;</a>
</div>
<div class="clearer"></div>
<hr />
<h1>CakePHP - Overview</h1>
<p>CakePHP is an open source MVC framework. It makes developing, deploying and maintaining applications much easier. CakePHP has number of libraries to reduce the overload of most common tasks. Following are the advantages of using CakePHP.</p>
<ul class="list">
<li>Open Source</li>
<li>MVC Framework</li>
<li>Templating Engine</li>
<li>Caching Operations</li>
<li>Search Engine Friendly URLs</li>
<li>Easy CRUD (Create, Read, Update, Delete) Database Interactions.</li>
<li>Libraries and Helpers</li>
<li>Built-in Validation</li>
<li>Localization</li>
<li>Email, Cookie, Security, Session, and Request Handling Components</li>
<li>View Helpers for AJAX, JavaScript, HTML Forms and More</li>
</ul>
<h2>CakePHP Request Cycle</h2>
<p>The following illustration describes how a Request Lifecycle works &minus;</p>
<img src="images/cakephp_request_cycle.jpg" alt="CakePHP Request Cycle" />
<p>A typical CakePHP request cycle starts with a user requesting a page or resource in your application. At a high level, each request goes through the following steps &minus;</p>
<ul class="list">
<li><p>The webserver rewrite rules direct the request to webroot/index.php.</p></li>
<li><p>Your application’s autoloader and bootstrap files are executed.</p></li>
<li><p>Any <b>dispatch filters</b> that are configured can handle the request, and optionally generate a response.</p></li>
<li><p>The dispatcher selects the appropriate controller &amp; action based on routing rules.</p></li>
<li><p>The controller’s action is called and the controller interacts with the required Models and Components.</p></li>
<li><p>The controller delegates response creation to the <b>View</b> to generate the output resulting from the model data.</p></li>
<li><p>The view uses <b>Helpers</b> and <b>Cells</b> to generate the response body and headers.</p></li>
<li><p>The response is sent back to the client.</p></li>
</ul>
<h1>CakePHP - Installation</h1>
<p>Installing CakePHP is simple and easy. You can install it from composer or you can download it from github &minus; <a href="https://github.com/cakephp/cakephp/releases" rel="nofollow" target="_balnk">https://github.com/cakephp/cakephp/releases</a>. We will further understand how to install CakePHP in WampServer. After downloading it from github, extract all the files in a folder called “CakePHP” in WampServer. You can give custom name to folder but we have used “CakePHP”.</p>
<p>Make sure that the directories <b>logs, tmp</b> and all its subdirectories have <b>write permission</b> as CakePHP uses these directories for various operations.</p>
<p>After extracting it, let’s check whether it has been installed correctly or not by visiting the following URL in browser &minus; <b>http://localhost:85/CakePHP/</b></p>
<p>The above URL will direct you to the screen as shown below. This shows that CakePHP has successfully been installed.</p>
<img src="images/cakephp_installation.jpg" alt="CakePHP Installation" />
<h1>CakePHP - Folder Structure</h1>
<p>Take a look at the following screenshot. It shows the folder structure of CakePHP.</p>
<img src="images/cakephp_folder_structure.jpg" alt="CakePHP Folder Structure" />
<p>The following table describes the role of each folder &minus;</p>
<table class="table table-bordered">
<tr>
<th>S.No</th>
<th style="text-align:center;">Folder Name &amp; Description</th>
</tr>
<tr>
<td>1</td>
<td>
<p><b>bin</b></p>
<p>The bin folder holds the Cake console executables.</p>
</td>
</tr>
<tr>
<td>2</td>
<td>
<p><b>config</b></p>
<p>The config folder holds the (few) configuration files CakePHP uses. Database connection details, bootstrapping, core configuration files and more should be stored here.</p>
</td>
</tr>
<tr>
<td>3</td>
<td>
<p><b>logs</b></p>
<p>The logs folder normally contains your log files, depending on your log configuration.</p>
</td>
</tr>
<tr>
<td>4</td>
<td>
<p><b>plugins</b></p>
<p>The plugins folder is where the Plugins your application uses are stored.</p>
</td>
</tr>
<tr>
<td style="text-align:center; vertical-align:middle;">5</td>
<td>
<p><b>src</b></p>
<p>The src folder will be where you work your magic: It is where your application’s files will be placed. CakePHP’s src folder is where you will do most of your application development. Let’s look a little closer at the folders inside src.</p>
<ul class="list">
<li><p>Console Contains the console commands and console tasks for your application.</p></li>
<li><p>Controller Contains your application’s controllers and their components.</p></li>
<li><p>Locale Stores string files for internationalization.</p></li>
<li><p>Model Contains your application’s tables, entities and behaviors.</p></li>
<li><p>View Presentational classes are placed here: cells, helpers, and template files.</p></li>
<li><p>Template Presentational files are placed here: elements, error pages, layouts, and view template files.</p></li>
</ul>
</td>
</tr>
<tr>
<td>6</td>
<td>
<p><b>tests</b></p>
<p>The tests folder will be where you put the test cases for your application.</p></td>
</tr>
<tr>
<td>7</td>
<td>
<p><b>tmp</b></p>
<p>The tmp folder is where CakePHP stores temporary data. The actual data it stores depends on how you have CakePHP configured, but this folder is usually used to store model descriptions and sometimes session information.</p></td>
</tr>
<tr>
<td>8</td>
<td>
<p><b>vendor</b></p>
<p>The vendor folder is where CakePHP and other application dependencies will be installed. Make a personal commitment not to edit files in this folder. We can’t help you if you’ve modified the core.</p></td>
</tr>
<tr>
<td>9</td>
<td>
<p><b>webroot</b></p>
<p>The webroot directory is the public document root of your application. It contains all the files you want to be publically reachable.</p></td>
</tr>
</table>
<h1>CakePHP - Configuration</h1>
<p>CakePHP comes with one configuration file by default and we can modify it according to our needs. There is one dedicated folder <b>“config”</b> for this purpose. CakePHP comes withdifferent configuration options.</p>
<h2>General Configuration</h2>
<p>The following table describes the role of various variables and how they affect your CakePHP application.</p>
<table class="table table-bordered">
<tr>
<th>S.No</th>
<th style="text-align:center">Variable Name &amp; Description</th>
</tr>
<tr>
<td>1</td>
<td>
<p><b>debug</b></p>
<p>Changes CakePHP debugging output.</p>
<p>false = Production mode. No error messages, errors, or warnings shown.</p>
<p>true = Errors and warnings shown.</p></td>
</tr>
<tr>
<td>2</td>
<td>
<p><b>App.namespace</b></p>
<p>The namespace to find app classes under.</p></td>
</tr>
<tr>
<td>3</td>
<td>
<p><b>App.baseUrl</b></p>
<p>Un-comment this definition if you don’t plan to use Apache’s mod_rewrite with CakePHP. Don’t forget to remove your .htaccess files too.</p></td>
</tr>
<tr>
<td>4</td>
<td>
<p><b>App.base</b></p>
<p>The base directory the app resides in. If false, this will be auto detected.</p></td>
</tr>
<tr>
<td>5</td>
<td>
<p><b>App.encoding</b></p>
<p>Define what encoding your application uses. This encoding is used to generate the charset in the layout, and encode entities. It should match the encoding values specified for your database.</p></td>
</tr>
<tr>
<td>6</td>
<td>
<p><b>App.webroot</b></p>
<p>The webroot directory.</p></td>
</tr>
<tr>
<td>7</td>
<td>
<p><b>App.wwwRoot</b></p>
<p>The file path to webroot.</p></td>
</tr>
<tr>
<td>8</td>
<td>
<p><b>App.fullBaseUrl</b></p>
<p>The fully qualified domain name (including protocol) to your application’s root.</p>
</td>
</tr>
<tr>
<td>9</td>
<td>
<p><b>App.imageBaseUrl</b></p>
<p>Web path to the public images directory under webroot.</p>
</td>
</tr>
<tr>
<td>10</td>
<td>
<p><b>App.cssBaseUrl</b></p>
<p>Web path to the public css directory under webroot.</p></td>
</tr>
<tr>
<td>11</td>
<td>
<p><b>App.jsBaseUrl</b></p>
<p>Web path to the public js directory under webroot.</p></td>
</tr>
<tr>
<td>12</td>
<td>
<p><b>App.paths</b></p>
<p>Configure paths for non-class based resources. Supports the <b>plugins, templates, locales</b> subkeys, which allow the definition of paths for plugins, view templates and locale files respectively.</p>
</td>
</tr>
<tr>
<td>13</td>
<td>
<p><b>Security.salt</b></p>
<p>A random string used in hashing. This value is also used as the HMAC salt when doing symmetric encryption.</p></td>
</tr>
<tr>
<td>14</td>
<td>
<p><b>Asset.timestamp</b></p>
<p>Appends a timestamp which is last modified time of the particular file at the end of asset files URLs (CSS, JavaScript, Image) when using proper helpers. Valid values &minus;</p>
<ul class="list">
<li><p>(bool) false - Doesn’t do anything (default)</p></li>
<li><p>(bool) true - Appends the timestamp when debug is true</p></li>
<li><p>(string) ‘force’ - Always appends the timestamp</p></li>
</ul>
</td>
</tr>
</table>
<h2>Databases Configuration</h2>
<p>Database can be configured in <b>config/app.php</b> file. This file contains a default connection with provided parameters which can be modified as per our choice. The below screenshot shows the default parameters and values which should be modified as per the requirement.</p>
<img src="images/configuration.jpg" alt="Configuration" />
<p>Let’s understand each parameter in detail &minus;</p>
<table class="table table-bordered">
<tr>
<th>S.NO</th>
<th style="text-align:center;">Key &amp; Description</th>
</tr>
<tr>
<td>1</td>
<td>
<p><b>className</b></p>
<p>The fully namespaced class name of the class that represents the connection to a database server. This class is responsible for loading the database driver, providing SQL transaction mechanisms and preparing SQL statements among other things.</p>
</td>
</tr>
<tr>
<td>2</td>
<td>
<p><b>driver</b></p>
<p>The class name of the driver used to implements all specificities for a database engine. This can either be a short classname using plugin syntax, a fully namespaced name, or a constructed driver instance. Examples of short classnames are Mysql, Sqlite, Postgres, and Sqlserver.</p>
</td>
</tr>
<tr>
<td>3</td>
<td>
<p><b>persistent</b></p>
<p>Whether or not to use a persistent connection to the database.</p></td>
</tr>
<tr>
<td>4</td>
<td>
<p><b>host</b></p>
<p>The database server’s hostname (or IP address).</p></td>
</tr>
<tr>
<td>5</td>
<td>
<p><b>username</b></p>
<p>Database username</p>
</td>
</tr>
<tr>
<td>6</td>
<td>
<p><b>password</b></p>
<p>Database password</p>
</td>
</tr>
<tr>
<td>7</td>
<td>
<p><b>database</b></p>
<p>Name of Database</p>
</td>
</tr>
<tr>
<td>8</td>
<td>
<p><b>port (optional)</b></p>
<p>The TCP port or Unix socket used to connect to the server.</p>
</td>
</tr>
<tr>
<td>9</td>
<td>
<p><b>encoding</b></p>
<p>Indicates the character set to use when sending SQL statements to the server like ‘utf8’ etc.</p>
</td>
</tr>
<tr>
<td>10</td>
<td>
<p><b>timezone</b></p>
<p>Server timezone to set.</p>
</td>
</tr>
<tr>
<td>11</td>
<td><p><b>schema</b></p>
<p>Used in PostgreSQL database setups to specify which schema to use.</p></td>
</tr>
<tr>
<td>12</td>
<td><p><b>unix_socket</b></p>
<p>Used by drivers that support it to connect via Unix socket files. If you are using PostgreSQL and want to use Unix sockets, leave the host key blank.</p></td>
</tr>
<tr>
<td>13</td>
<td>
<p><b>ssl_key</b></p>
<p>The file path to the SSL key file. (Only supported by MySQL).</p>
</td>
</tr>
<tr>
<td>14</td>
<td>
<p><b>ssl_cert</b></p>
<p>The file path to the SSL certificate file. (Only supported by MySQL).</p>
</td>
</tr>
<tr>
<td>15</td>
<td>
<p><b>ssl_ca</b></p>
<p>The file path to the SSL certificate authority. (Only supported by MySQL).</p></td>
</tr>
<tr>
<td>16</td>
<td>
<p><b>init</b></p>
<p>A list of queries that should be sent to the database server as when the connection is created.</p>
</td>
</tr>
<tr>
<td>17</td>
<td>
<p><b>log</b></p>
<p>Set to true to enable query logging. When enabled queries will be logged at a debug level with the queriesLog scope.</p></td>
</tr>
<tr>
<td>18</td>
<td>
<p><b>quoteIdentifiers</b></p>
<p>Set to true if you are using reserved words or special characters in your table or column names. Enabling this setting will result in queries built using the Query Builder having identifiers quoted when creating SQL. It decreases performance.</p>
</td>
</tr>
<tr>
<td>19</td>
<td>
<p><b>flags</b></p> 
<p>An associative array of PDO constants that should be passed to the underlying PDO instance.</p></td>
</tr>
<tr>
<td>20</td>
<td>
<p><b>cacheMetadata</b></p> 
<p>Either boolean true, or a string containing the cache configuration to store meta data in. Having metadata caching disable is not advised and can result in very poor performance.</p>
</td>
</tr>
</table>
<h1>CakePHP - Email Configuration</h1>
<p>Email can be configured in file <b>config/app.php</b>. It is not required to define email configuration in config/app.php. Email can be used without it; just use the respective methods to set all configurations separately or load an array of configs. Configuration for Email defaults is created using <b>config()</b> and <b>configTransport()</b>.</p>
<h2>Email Configuration Transport</h2>
<p>By defining transports separately from delivery profiles, you can easily re-use transport configuration across multiple profiles. You can specify multiple configurations for production, development and testing. Each transport needs a <b>className</b>. Valid options are as follows &minus;</p>
<ul class="list">
<li><p><b>Mail</b> &minus; Send using PHP mail function</p></li>
<li><p><b>Smtp</b> &minus; Send using SMTP</p></li>
<li><p><b>Debug</b> &minus; Do not send the email, just return the result</p></li>
</ul>
<p>You can add custom transports (or override existing transports) by adding the appropriate file to <b>src/Mailer/Transport</b>.Transports should be named <b>YourTransport.php</b>, where <b>'Your'</b> is the name of the transport. Following is the example of Email configuration transport.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate">
'EmailTransport' =&gt; [
   'default' =&gt; [
      'className' =&gt; 'Mail',
      
      // The following keys are used in SMTP transports
      'host' =&gt; 'localhost',
      'port' =&gt; 25,
      'timeout' =&gt; 30,
      'username' =&gt; 'user',
      'password' =&gt; 'secret',
      'client' =&gt; null,
      'tls' =&gt; null,
      'url' =&gt; env('EMAIL_TRANSPORT_DEFAULT_URL', null),
   ],
],
</pre>
<h2>Email Delivery Profiles</h2>
<p>Delivery profiles allow you to predefine various properties about email messages from your application and give the settings a name. This saves duplication across your application and makes maintenance and development easier. Each profile accepts a number of keys. Following is an example of Email delivery profiles.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate">
'Email' =&gt; [
   'default' =&gt; [
      'transport' =&gt; 'default',
      'from' =&gt; 'you@localhost',
   ],
],
</pre>
<h1>CakePHP - Routing</h1>
<p>Routing maps your URL to specific controller’s action. In this section, we will see how you can implement routes, how you can pass arguments from URL to controller’s action, how you can generate URLs, and how you can redirect to a specific URL. Normally, routes are implemented in file <b>config/routes.php</b>. Routing can be implemented in two ways &minus;</p>
<ul class="list">
<li>static method</li>
<li>scoped route builder</li>
</ul>
<p>Here is an example presenting both the types.</p>
<pre class="result notranslate">
// Using the scoped route builder.
Router::scope('/', function ($routes) {
   $routes-&gt;connect('/', ['controller' =&gt; 'Articles', 'action' =&gt; 'index']);
});

// Using the static method.
Router::connect('/', ['controller' =&gt; 'Articles', 'action' =&gt; 'index']);
</pre>
<p>Both the methods will execute the index method of <b>ArticlesController</b>. Out of the two methods <b>scoped route builder</b> gives better performance.</p>
<h2>Connecting Routes</h2>
<p><b>Router::connect()</b> method is used to connect routes. The following is the syntax of the method &minus;</p>
<pre class="result notranslate">
static Cake\Routing\Router::connect($route, $defaults =[], $options =[])
</pre>
<p>There are three arguments to the <b>Router::connect()</b> method &minus;</p>
<ul class="list">
<li><p>The first argument is for the URL template you wish to match.</p></li>
<li><p>The second argument contains default values for your route elements.</p></li>
<li><p>The third argument contains options for the route which generally contains regular expression rules.</p></li>
</ul>
<p>Here is the basic format of a route &minus;</p>
<pre class="result notranslate">
$routes-&gt;connect(
   'URL template',
   ['default' =&gt; 'defaultValue'],
   ['option' =&gt; 'matchingRegex']
);
</pre>
<h3>Example</h3>
<p>Make changes in the config/routes.php file as shown below.</p>
<p><b>config/routes.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   use Cake\Core\Plugin;
   use Cake\Routing\RouteBuilder;
   use Cake\Routing\Router;

   Router::defaultRouteClass('DashedRoute');
   Router::scope('/', function (RouteBuilder $routes) {
      $routes-&gt;connect('/', ['controller' =&gt; 'Tests', 'action' =&gt; 'index']);
      $routes-&gt;connect('/pages/*', ['controller' =&gt; 'Pages', 'action' =&gt; 'display']);
      $routes-&gt;fallbacks('DashedRoute');
   });
   Plugin::routes();
</pre>
<p>Create a <b>TestsController.php</b> file at <b>src/Controller/TestsController.php</b>. Copy the following code in the controller file.</p>
<p><b>src/Controller/TestsController.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   namespace App\Controller;
   use App\Controller\AppController;

   class TestsController extends AppController{
      public function index(){
      }
   }
?&gt;
</pre>
<p>Create a folder <b>Tests</b> under <b>src/Template</b> and under that folder create a <b>View file</b> called <b>index.ctp</b>. Copy the following code in that file.</p>
<p><b>src/Template/Tests/index.ctp</b></p>
<pre class="result notranslate">
This is CakePHP tutorial and this is an example of connecting routes.
</pre>
<p>Execute the above example by visiting the following URL.</p>
<p><b>http://localhost:85/CakePHP/</b></p>
<p>The above URL will yield the following output.</p>
<img src="images/routing.jpg" alt="Routing" />
<h2>Passed Arguments</h2>
<p>Passed arguments are the arguments which are passed in the URL. These arguments can be passed to controller’s action. These passed arguments are given to your controller in three ways.</p>
<h3>As arguments to the action method</h3>
<p>Following example shows how we can pass arguments to the action of the controller.</p>
<p>Visit the following URL &minus; <b>http://localhost:85/CakePHP/tests/value1/value2</b></p>
<p>This will match the following route line.</p>
<pre class="result notranslate">
$routes-&gt;connect('tests/:arg1/:arg2', ['controller' =&gt; 'Tests', 'action' =&gt;
   'index'],['pass' =&gt; ['arg1', 'arg2']]);
</pre>
<p>Here the value1 from URL will be assigned to arg1 and value2 will be assigned to arg2.</p>
<h3>As numerically indexed array</h3>
<p>Once the argument is passed to the controller’s action, you can get the argument with the following statement.</p>
<pre class="result notranslate">
$args = $this-&gt;request-&gt;params[‘pass’]
</pre>
<p>The arguments passed to controller’s action will be stored in <b>$args</b> variable.</p>
<h3>Using routing array</h3>
<p>The argument can also be passed to action by the following statement &minus;</p>
<pre class="result notranslate">
$routes-&gt;connect('/', ['controller' =&gt; 'Tests', 'action' =&gt; 'index',5,6]);
</pre>
<p>The above statement will pass two arguments 5, and 6 to <b>TestController’s index()</b> method.</p>
<h3>Example</h3>
<p>Make Changes in the <b>config/routes.php</b> file as shown in the following program.</p>
<p><b>config/routes.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   use Cake\Core\Plugin;
   use Cake\Routing\RouteBuilder;
   use Cake\Routing\Router;

   Router::defaultRouteClass('DashedRoute');
   Router::scope('/', function (RouteBuilder $routes) {
      $routes-&gt;connect('tests/:arg1/:arg2', ['controller' =&gt; 'Tests', 'action'=&gt; 
         'index'],['pass' =&gt;['arg1', 'arg2']]);
      
      $routes-&gt;connect('/pages/*', ['controller' =&gt; 'Pages', 'action' =&gt; 'display']);
      $routes-&gt;fallbacks('DashedRoute');
   });

   Plugin::routes();
</pre>
<p>Create a <b>TestsController.php</b> file at <b>src/Controller/TestsController.php</b>. Copy the following code in the controller file.</p>
<p><b>src/Controller/TestsController.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   namespace App\Controller;
   use App\Controller\AppController;

   class TestsController extends AppController{
      public function index($arg1,$arg2){
         $this-&gt;set('argument1',$arg1);
         $this-&gt;set('argument2',$arg2);
      }
   }
?&gt;
</pre>
<p>Create a folder <b>Tests</b> at <b>src/Template</b> and under that folder create a <b>View</b> file called <b>index.ctp</b>. Copy the following code in that file.</p>
<p><b>src/Template/Tests/index.ctp</b></p>
<pre class="result notranslate">
This is CakePHP tutorial and this is an example of Passed arguments.&lt;br /&gt;
Argument-1: &lt;?=$argument1?&gt;&lt;br /&gt;
Argument-2: &lt;?=$argument2?&gt;&lt;br /&gt;
</pre>
<p>Execute the above example by visiting the following URL.</p>
<p><b>http://localhost:85/CakePHP/tests/Virat/Kunal</b></p>
<p>Upon execution, the above URL will produce the following output.</p>
<img src="images/cakephp_routing.jpg" alt="CakePHP Routing" />
<h1>CakePHP - Generating URLs</h1>
<p>This is a cool feature of CakePHP. Using the generated URLs, we can easily change the structure of URL in the application without modifying the whole code.</p>
<pre class="result notranslate">
url( string|array|null $url null , boolean $full false )
</pre>
<p>The above function will take two arguments &minus;</p>
<ul class="list">
<li><p>The first argument is an array specifying any of the following &minus; <b>'controller', 'action', 'plugin'</b>. Additionally, you can provide routed elements or query string parameters. If string, it can be given the name of any valid url string.</p></li>
<li><p>If true, the full base URL will be prepended to the result. Default is false.</p></li>
</ul>
<h2>Example</h2>
<p>Make Changes in the <b>config/routes.php</b> file as shown in the following program.</p>
<p><b>config/routes.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   use Cake\Core\Plugin;
   use Cake\Routing\RouteBuilder;
   use Cake\Routing\Router;

   Router::defaultRouteClass('DashedRoute');
   Router::scope('/', function (RouteBuilder $routes){
      $routes-&gt;connect('/generate',['controller'=&gt;'Generates','action'=&gt;'index']);
   });

   Plugin::routes();
</pre>
<p>Create a <b>GeneratesController.php</b> file at <b>src/Controller/GeneratesController.php</b>. Copy the following code in the controller file.</p>
<p><b>src/Controller/GeneratesController.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   namespace App\Controller;
   use App\Controller\AppController;
   use Cake\ORM\TableRegistry;
   use Cake\Datasource\ConnectionManager;

   class GeneratesController extends AppController{
      public function index(){
      }
   }
?&gt;
</pre>
<p>Create a folder <b>Generates at src/Template</b> and under that folder create a <b>View</b> file called <b>index.ctp</b>. Copy the following code in that file.</p>
<p><b>src/Template/Generates/index.ctp</b></p>
<pre class="result notranslate">
This is CakePHP tutorial and this is an example of Generating URLs.
</pre>
<p>Execute the above example by visiting the following URL &minus;</p>
<p><b>http://localhost:85/CakePHP/generate</b></p>
<p>The above URL will produce the following output &minus;</p>
<img src="images/generating_urls.jpg" alt="generating URLs" />
<h1>CakePHP - Redirect Routing</h1>
<p>Redirect routing is useful when we want to inform client applications that this URL has been moved. The URL can be redirected using the following function.</p>
<pre class="result notranslate">
static Cake\Routing\Router::redirect($route, $url, $options =[])
</pre>
<p>There are three arguments to the above function &minus;</p>
<ul class="list">
<li><p>A string describing the template of the route.</p></li>
<li><p>A URL to redirect to.</p></li>
<li><p>An array matching the named elements in the route to regular expressions which that element should match.</p></li>
</ul>
<h2>Example</h2>
<p>Make Changes in the <b>config/routes.php</b> file as shown below. Here, we have used controllers that were created previously.</p>
<p><b>config/routes.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   use Cake\Core\Plugin;
   use Cake\Routing\RouteBuilder;
   use Cake\Routing\Router;

   Router::defaultRouteClass('DashedRoute');
   Router::scope('/', function (RouteBuilder $routes) {
      $routes-&gt;connect('/generate2', ['controller' =&gt; 'Tests', 'action' =&gt; 'index']);
      $routes-&gt;redirect('/generate1','http://tutorialspoint.com/');
      $routes-&gt;connect('/generate_url',['controller'=&gt;'Generates','action'=&gt;'index']);
      $routes-&gt;fallbacks('DashedRoute');
   });
   Plugin::routes();
</pre>
<p>Execute the above example by visiting the following URLs.</p>
<ul class="list">
<li><p>URL 1 — http://localhost:85/CakePHP/generate_url</p></li>
<li><p>URL 2 — http://localhost:85/CakePHP/generate1</p></li>
<li><p>URL 3 — http://localhost:85/CakePHP/generate2</p></li>
</ul>
<h3>Output for URL 1</h3>
<img src="images/generates_routing.jpg" alt="Generates Routing" />
<h3>Output for URL 2</h3>
<p>You will be redirected to <a target="_blank" href="../index.html">http://tutorialspoint.com</a></p>
<h3>Output for URL 3</h3>
<img src="images/generates_routing1.jpg" alt="Generates Routing" />
<h1>CakePHP - Controllers</h1>
<p>The controller as the name indicates controls the application. It acts like a bridge between models and views. Controllers handle request data, makes sure that correct models are called and right response or view is rendered. Methods in the controllers’ class are called <b>actions</b>. Each controller follows naming conventions. The Controller class names are in plural form, Camel Cased, and end in Controller &minus; <b>PostsController</b>.</p>
<h2>AppController</h2>
<p>The <b>AppConttroller</b> class is the parent class of all applications’ controllers. This class extends the <b>Controller</b> class of CakePHP. AppController is defined at <b>src/Controller/AppController.php</b>. The file contains the following code.</p>
<pre class="prettyprint notranslate">
&lt;?php
   namespace App\Controller;
   use Cake\Controller\Controller;
   use Cake\Event\Event;

   class AppController extends Controller{
      public function initialize(){
         parent::initialize();
         $this-&gt;loadComponent('RequestHandler');
         $this-&gt;loadComponent('Flash');
      }
      public function beforeRender(Event $event){
         if (!array_key_exists('_serialize', $this-&gt;viewVars) &amp;&amp;
            in_array($this-&gt;response-&gt;type(), ['application/json', application/xml'])) {
            $this-&gt;set('_serialize', true);
         }
      }
   }
</pre>
<p><b>AppController</b> can be used to load components that will be used in every controller of your application. The attributes and methods created in AppController will be available in all controllers that extend it. The <b>initialize()</b> method will be invoked at the end of controller’s constructor to load components.</p>
<h2>Controller Actions</h2>
<p>The methods in the controller class are called Actions. Actions are responsible for sending appropriate response for browser/user making the request. View is rendered by the name of action, i.e., the name of method in controller.</p>
<h3>Example</h3>
<pre class="prettyprint notranslate">
class RecipesController extends AppController{
   public function view($id){
      // Action logic goes here.
   }
   public function share($customerId, $recipeId){
      // Action logic goes here.
   }
   public function search($query){
      // Action logic goes here.
   }
}
</pre>
<p>As you can see in the above example, the <b>RecipesController</b> has 3 actions &minus; <b>View, Share,</b> and <b>Search</b>.</p>
<h2>Redirecting</h2>
<p>For redirecting a user to another action of the same controller, we can use the setAction() method. The following is the syntax for the setAction() method &minus;</p>
<h3>Syntax</h3>
<pre class="result notranslate">
Cake\Controller\Controller::setAction($action, $args...)
</pre>
<p>The following code will redirect the user to index action of the same controller.</p>
<pre class="result notranslate">
$this-&gt;setAction('index');
</pre>
<p>The following example shows the usage of the above method.</p>
<h3>Example</h3>
<p>Make changes in the <b>config/routes.php</b> file as shown in the following program.</p>
<p><b>config/routes.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   use Cake\Core\Plugin;
   use Cake\Routing\RouteBuilder;
   use Cake\Routing\Router;

   Router::defaultRouteClass('DashedRoute');
   Router::scope('/', function (RouteBuilder $routes) {
      $routes-&gt;connect('/redirectcontroller',['
         controller'=&gt;'Redirects','action'=&gt;'action1']);
      
      $routes-&gt;connect('/redirectcontroller2',['
         controller'=&gt;'Redirects','action'=&gt;'action2']);
      
      $routes-&gt;fallbacks('DashedRoute');
   });
   Plugin::routes();
</pre>
<p>Create a <b>RedirectsController.php</b> file at src/Controller/RedirectsController.php. Copy the following code in the controller file.</p>
<p><b>src/Controller/RedirectsController.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   namespace App\Controller;
   use App\Controller\AppController;
   use Cake\ORM\TableRegistry;
   use Cake\Datasource\ConnectionManager;

   class RedirectsController extends AppController{
      public function action1(){
      }
      public function action2(){
         echo "redirecting from action2";
         $this-&gt;setAction('action1');
      }
   }
?&gt;
</pre>
<p>Create a directory <b>Redirects</b> at <b>src/Template</b> and under that directory create a <b>View</b>file called <b>action1.ctp</b>. Copy the following code in that file.</p>
<p><b>src/Template/Redirects/action1.ctp</b></p>
<pre class="result notranslate">
This is an example of how to redirect within controller.
</pre>
<p>Execute the above example by visiting the following URL.</p>
<p><b>http://localhost:85/CakePHP/redirect-controller</b></p>
<h3>Output</h3>
<p>Upon execution, you will receive the following output.</p>
<img src="images/redirects.jpg" alt="Redirects" />
<p>Now, visit the following URL &minus; <b>http://localhost:85/CakePHP/redirect-controller2</b></p>
<p>The above URL will give you the following output.</p>
<img src="images/redirecting_action2.jpg" alt="Redirecting Action2" />
<h2>Loading Models</h2>
<p>In CakePHP, a model can be loaded using the <b>loadModel()</b> method. The following is the syntax for the loadModel() method.</p>
<h3>Syntax</h3>
<pre class="result notranslate">
Cake\Controller\Controller::loadModel(string $modelClass, string $type)
</pre>
<p>There are two arguments to the above function &minus;</p>
<ul class="list">
<li><p>The first argument is the name of model class.</p></li>
<li><p>The second argument is the type of repository to load.</p></li>
</ul>
<h3>Example</h3>
<p>If you want to load Articles model in a controller, then it can be loaded by writing the following line in controller’s action.</p>
<pre class="result notranslate">
$this-&gt;loadModel('Articles');
</pre>
<h1>CakePHP - Views</h1>
<p>The letter “V” in the MVC is for Views. Views are responsible for sending output to user based on request. <b>View Classes</b> is a powerful way to speed up the development process.</p>
<h2>View Templates</h2>
<p>The View Templates file of CakePHP has default extension .<b>ctp</b> (CakePHP Template). These templates get data from controller and then render the output so that it can be displayed properly to the user. We can use variables, various control structures in template.</p>
<p>Template files are stored in <b>src/Template/</b>, in a directory named after the controller that uses the files, and named after the action it corresponds to. For example, the <b>View</b> file for the Products controller’s <b>“view()”</b> action, would normally be found in src/Template/Products/view.ctp.</p>
<p>In short, the name of the controller (ProductsController) is same as the name of the folder (Products) but without the word Controller and name of action/method (view()) of the controller (ProductsController) is same as the name of the View file(view.ctp).</p>
<h2>View Variables</h2>
<p>View variables are variables which get the value from controller. We can use as many variables in view templates as we want. We can use the <b>set()</b> method to pass values to variables in views. These set variables will be available in both the view and the layout your action renders. The following is the syntax of the <b>set()</b> method.</p>
<h3>Syntax</h3>
<pre class="result notranslate">
Cake\View\View::set(string $var, mixed $value)
</pre>
<p>This method takes two arguments &minus; <b>the name of the variable</b> and <b>its value</b>.</p>
<h3>Example</h3>
<p>Make Changes in the <b>config/routes.php</b> file as shown in the following program.</p>
<p><b>config/routes.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   use Cake\Core\Plugin;
   use Cake\Routing\RouteBuilder;
   use Cake\Routing\Router;

   Router::defaultRouteClass('DashedRoute');
   Router::scope('/', function (RouteBuilder $routes) {
      $routes-&gt;connect('template',['controller'=&gt;'Products','action'=&gt;'view']);
      $routes-&gt;fallbacks('DashedRoute');
   });
   Plugin::routes();
</pre>
<p>Create a <b>ProductsController.php</b> file at <b>src/Controller/ProductsController.php</b>. Copy the following code in the controller file.</p>
<p><b>src/Controller/ProductsController.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   namespace App\Controller;
   use App\Controller\AppController;
   
   class ProductsController extends AppController{
      public function view(){
         $this-&gt;set('Product_Name','XYZ');
      }
   }
?&gt;
</pre>
<p>Create a directory Products at <b>src/Template</b> and under that folder create a <b>View</b> file called <b>view.ctp.</b> Copy the following code in that file.</p>
<p><b>src/Template/Products/view.ctp</b></p>
<pre class="result notranslate">
Value of variable is: &lt;?php echo $Product_Name; ?&gt;
</pre>
<p>Execute the above example by visiting the following URL.</p>
<p><b>http://localhost:85/CakePHP/template</b></p>
<h3>Output</h3>
<p>The above URL will produce the following output.</p>
<img src="images/products.jpg" alt="products" />
<h1>CakePHP - Extending Views</h1>
<p>Many times, while making web pages, we want to repeat certain part of pages in other pages. CakePHP has such facility by which one can extend view in another view and for this, we need not repeat the code again. The <b>extend()</b> method is used to extend views in <b>View</b> file. This method takes one argument, i.e., the name of the view file with path. Don’t use extension .ctp while providing the name of the View file.</p>
<h2>Example</h2>
<p>Make changes in the <b>config/routes.php</b> file as shown in the following program.</p>
<p><b>config/routes.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   use Cake\Core\Plugin;
   use Cake\Routing\RouteBuilder;
   use Cake\Routing\Router;

   Router::defaultRouteClass('DashedRoute');
   Router::scope('/', function (RouteBuilder $routes) {
      $routes-&gt;connect('extend',['controller'=&gt;'Extends','action'=&gt;'index']);
      $routes-&gt;fallbacks('DashedRoute');
   });
   Plugin::routes();
</pre>
<p>Create a <b>ExtendsController.php</b> file at <b>src/Controller/ExtendsController.php</b>. Copy the following code in the controller file.</p>
<p><b>src/Controller/ExtendsController.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   namespace App\Controller;
   use App\Controller\AppController;

   class ExtendsController extends AppController{
      public function index(){
      }
   }
?&gt;
</pre>
<p>Create a directory <b>Extends</b> at <b>src/Template</b> and under that folder create a <b>View</b> file called <b>header.ctp</b>. Copy the following code in that file.</p>
<p><b>src/Template/Extends/header.ctp</b></p>
<pre class="prettyprint notranslate">
&lt;div align = "center"&gt;&lt;h1&gt;Common Header&lt;/h1&gt;&lt;/div&gt;

&lt;?= $this-&gt;fetch('content') ?&gt;
</pre>
<p>Create another <b>View</b> under Extends directory called <b>index.ctp</b>. Copy the following code in that file. Here we are extending the above view <b>header.ctp</b>.</p>
<p><b>src/Template/Extends/index.ctp</b></p>
<pre class="result notranslate">
&lt;?php $this-&gt;extend('header'); ?&gt;
This is an example of extending view.
</pre>
<p>Execute the above example by visiting the following URL.</p>
<p><b>http://localhost:85/CakePHP/extend</b></p>
<h3>Output</h3>
<p>Upon execution, you will receive the following output.</p>
<img src="images/common_header.jpg" alt="Common header" />
<h1>CakePHP - View Elements</h1>
<p>Certain parts of the web pages are repeated on multiple web pages but at different locations. CakePHP can help us reuse these repeated parts. These reusable parts are called <b>Elements &minus; help box, extra menu</b> etc. An element is basically a <b>mini-view</b>. We can also pass variables in elements.</p>
<pre class="result notranslate">
Cake\View\View::element(string $elementPath, array $data, array $options =[])
</pre>
<p>There are three arguments to the above function &minus;</p>
<ul class="list">
<li><p>The first argument is the name of the template file in the <b>/src/Template/Element/</b> folder.</p></li>
<li><p>The second argument is the array of data to be made available to the rendered view.</p></li>
<li><p>The third argument is for the array of options. e.g. cache.</p></li>
</ul>
<p>Out of the 3 arguments, the first one is compulsory while, the rest are optional.</p>
<h2>Example</h2>
<p>Create an element file at <b>src/Template/Element</b> directory called <b>helloworld.ctp</b>. Copy the following code in that file.</p>
<p><b>src/Template/Element/helloworld.ctp</b></p>
<pre class="result notranslate">
&lt;p&gt;Hello World&lt;/p&gt;
</pre>
<p>Create a folder <b>Elems</b> at <b>src/Template</b> and under that directory create a <b>View</b> file called <b>index.ctp</b>. Copy the following code in that file.</p>
<p><b>src/Template/Elems/index.ctp</b></p>
<pre class="result notranslate">
Element Example: &lt;?php echo $this&#8594;element('helloworld'); ?&gt;
</pre>
<p>Make Changes in the <b>config/routes.php</b> file as shown in the following program.</p>
<p><b>config/routes.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   use Cake\Core\Plugin;
   use Cake\Routing\RouteBuilder;
   use Cake\Routing\Router;

   Router::defaultRouteClass('DashedRoute');
   Router::scope('/', function (RouteBuilder $routes) {
      $routes-&gt;connect('/elementexample',['controller'=>'Elems','action'=>'index']);
      $routes-&gt;fallbacks('DashedRoute');
   });
   Plugin::routes();
</pre>
<p>Create an <b>ElemsController.php</b> file at <b>src/Controller/ElemsController.php</b>. Copy the following code in the controller file.</p>
<p><b>src/Controller/ElemsController.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   namespace App\Controller;
   use App\Controller\AppController; 
   use Cake\ORM\TableRegistry;
   use Cake\Datasource\ConnectionManager;

   class ElemsController extends AppController{
      public function index(){
      }
   }
?&gt;
</pre>
<p>Execute the above example by visiting the following URL.</p>
<p><b>http://localhost:85/CakePHP/element-example</b></p>
<h3>Output</h3>
<p>Upon execution, the above URL will give you the following output.</p>
<img src="images/view_elements.jpg" alt="View Elements" />
<h1>CakePHP - View Events</h1>
<p>There are several callbacks/events that we can use with View Events. These events are helpful to perform several tasks before something happens or after something happens. The following is a list of callbacks that can be used with CakePHP.</p>
<table class="table table-bordered">
<tr>
<th>S.No</th>
<th style="text-align:center;">Event Function &amp; Description</th>
</tr>
<tr>
<td>1</td>
<td>
<p><b>Helper::beforeRender(Event $event, $viewFile)</b></p>
<p>The <b>beforeRender</b> method is called after the controller’s beforeRender method but before the controller renders <b>view</b> and <b>layout</b>. This receives the file being rendered as an argument.</p></td>
</tr>
<tr>
<td>2</td>
<td>
<p><b>Helper::beforeRenderFile(Event $event, $viewFile)</b></p>
<p>This method is called before each view file is rendered. This includes <b>elements, views, parent views</b> and <b>layouts</b>.</p></td>
</tr>
<tr>
<td>3</td>
<td>
<p><b>Helper::afterRenderFile(Event $event, $viewFile, $content)</b></p>
<p>This method is called after each View file is rendered. This includes <b>elements, views</b>,<b>parent views</b> and <b>layouts</b>. A callback can modify and return <b>$content</b> to change how the rendered content will be displayed in the browser.</p></td>
</tr>
<tr>
<td>4</td>
<td>
<p><b>Helper::afterRender(Event $event, $viewFile)</b></p>
<p>This method is called after the view has been rendered but before the layout rendering has started.</p></td>
</tr>
<tr>
<td>5</td>
<td>
<p><b>Helper::beforeLayout(Event $event, $layoutFile)</b></p>
<p>This method is called before the layout rendering starts. This receives the layout filename as an argument.</p></td>
</tr>
<tr>
<td>6</td>
<td>
<p><b>Helper::afterLayout(Event $event, $layoutFile)</b></p>
<p>This method is called after the layout rendering is complete. This receives the layout filename as an argument.</p></td>
</tr>
</table>
<h1>CakePHP - Working with Database</h1>
<p>Working with database in CakePHP is very easy. We will understand the CRUD (Create, Read, Update, Delete) operations in this chapter. Before we proceed, we need to create the following users’ table in the database.</p>
<pre class="result notranslate">
CREATE TABLE `users` (
   `id` int(11) NOT NULL AUTO_INCREMENT,
   `username` varchar(50) NOT NULL,
   `password` varchar(255) NOT NULL,
   PRIMARY KEY (`id`)
) 
ENGINE = InnoDB AUTO_INCREMENT = 7 DEFAULT CHARSET = latin1
</pre>
<p>Further, we also need to configure our database in <b>config/app.php</b> file.</p>
<h2>Insert a Record</h2>
<p>To insert a record in database, we first need to get hold of a table using <b>TableRegistry</b> class. We can fetch the instance out of registry using <b>get()</b> method. The <b>get()</b> method will take the name of the database table as an argument.</p>
<p>This new instance is used to create new entity. Set necessary values with the instance of new entity. We now have to call the <b>save()</b> method with <b>TableRegistry</b> class’s instance which will insert new record in database.</p>
<h3>Example</h3>
<p>Make changes in the <b>config/routes.php</b> file as shown in the following program.</p>
<p><b>config/routes.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   use Cake\Core\Plugin;
   use Cake\Routing\RouteBuilder;
   use Cake\Routing\Router;

   Router::defaultRouteClass('DashedRoute');
   Router::scope('/', function (RouteBuilder $routes) {
      $routes-&gt;connect('/users/add', ['controller' =&gt; 'Users', 'action' =&gt; 'add']);
      $routes-&gt;fallbacks('DashedRoute');
   });
   Plugin::routes();
</pre>
<p>Create a <b>UsersController.php</b> file at <b>src/Controller/UsersController.php</b>. Copy the following code in the controller file.</p>
<p><b>src/controller/UsersController.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   namespace App\Controller;
   use App\Controller\AppController;
   use Cake\ORM\TableRegistry;
   use Cake\Datasource\ConnectionManager;
   use Cake\Auth\DefaultPasswordHasher;

   class UsersController extends AppController{
      public function add(){
         if($this-&gt;request-&gt;is('post')){
            $username = $this-&gt;request-&gt;data('username');
            $hashPswdObj = new DefaultPasswordHasher;
            $password = $hashPswdObj-&gt;hash($this-&gt;request-&gt;data('password'));
            $users_table = TableRegistry::get('users');
            $users = $users_table-&gt;newEntity();
            $users-&gt;username = $username;
            $users-&gt;password = $password;
         
            if($users_table->save($users))
            echo "User is added.";
         }
      }
   }
?&gt;
</pre>
<p>Create a directory <b>Users at src/Template</b> and under that directory create a View file called <b>add.ctp</b>. Copy the following code in that file.</p>
<p><b>src/Template/Users/add.ctp</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   echo $this-&gt;Form-&gt;create("Users",array('url'=&gt;'/users/add'));
   echo $this-&gt;Form-&gt;input('username');
   echo $this-&gt;Form-&gt;input('password');
   echo $this-&gt;Form-&gt;button('Submit');
   echo $this-&gt;Form-&gt;end();
?&gt;
</pre>
<p>Execute the above example by visiting the following URL.</p>
<p><b>http://localhost:85/CakePHP/users/add</b></p>
<h3>Output</h3>
<p>Upon execution, you will receive the following output.</p>
<img src="images/user_added.jpg" alt="User Added" />
<h1>CakePHP - View a Record</h1>
<p>To view records of database, we first need to get hold of a table using the <b>TableRegistry</b> class. We can fetch the instance out of registry using <b>get()</b> method. The <b>get()</b> method will take the name of the database table as argument. Now, this new instance is used to find records from database using <b>find()</b> method. This method will return all records from the requested table.</p>
<h2>Example</h2>
<p>Make changes in the <b>config/routes.php</b> file as shown in the following code.</p>
<p><b>config/routes.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   use Cake\Core\Plugin;
   use Cake\Routing\RouteBuilder;
   use Cake\Routing\Router;

   Router::defaultRouteClass('DashedRoute');
   Router::scope('/', function (RouteBuilder $routes) {
      $routes-&gt;connect('/users', ['controller' =&gt; 'Users', 'action' =&gt; 'index']);
      $routes-&gt;fallbacks('DashedRoute');
   });
   Plugin::routes();
</pre>
<p>Create a <b>UsersController.php</b> file at <b>src/Controller/UsersController.php</b>. Copy the following code in the controller file.</p>
<p><b>src/controller/UsersController.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   namespace App\Controller;
   use App\Controller\AppController;
   use Cake\ORM\TableRegistry;
   use Cake\Datasource\ConnectionManager;

   class UsersController extends AppController{
      public function index(){
         $users = TableRegistry::get('users');
         $query = $users-&gt;find();
         $this-&gt;set('results',$query);
      }
   }
?&gt;
</pre>
<p>Create a directory <b>Users</b> at <b>src/Template</b>, ignore if already created, and under that directory create a <b>View</b> file called <b>index.ctp</b>. Copy the following code in that file.</p>
<p><b>src/Template/Users/index.ctp</b></p>
<pre class="prettyprint notranslate">
&lt;a href = "add"&gt;Add User&lt;/a&gt;
&lt;table&gt;
   &lt;tr&gt;
      &lt;td&gt;ID&lt;/td&gt;
      &lt;td&gt;Username&lt;/td&gt;
      &lt;td&gt;Password&lt;/td&gt;
      &lt;td&gt;Edit&lt;/td&gt;
      &lt;td&gt;Delete&lt;/td&gt;
   &lt;/tr&gt;

   &lt;?php
      foreach ($results as $row):
         echo "&lt;tr&gt;&lt;td&gt;".$row-&gt;id."&lt;/td&gt;";
         echo "&lt;td&gt;".$row-&gt;username."&lt;/td&gt;";
         echo "&lt;td&gt;".$row-&gt;password."&lt;/td&gt;";
         echo "&lt;td&gt;&lt;a href = '".$this-&gt;Url-&gt;build
         (["controller" =&gt; "Users","action"=&gt;"edit",$row-&gt;id])."'&gt;Edit&lt;/a&gt;&lt;/td&gt;";
         
         echo "&lt;td&gt;&lt;a href = '".$this-&gt;Url-&gt;build
         (["controller" =&gt; "Users","action"=&gt; "delete",$row-&gt;id])."'&gt;Delete&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;";
      endforeach;
   ?&gt;
&lt;/table&gt;
</pre>
<p>Execute the above example by visiting the following URL.</p>
<p><b>http://localhost:85/CakePHP/users</b></p>
<h3>Output</h3>
<p>Upon execution, the above URL will give you the following output.</p>
<img src="images/view_a_record.jpg" alt="View a Record" />
<h1>CakePHP - Update a Record</h1>
<p>To update a record in database we first need to get hold of a table using <b>TableRegistry</b> class. We can fetch the instance out of registry using the <b>get()</b> method. The <b>get()</b> method will take the name of the database table as an argument. Now, this new instance is used to get particular record that we want to update.</p>
<p>Call the <b>get()</b> method with this new instance and pass the primary key to find a record which will be saved in another instance. Use this instance to set new values that you want to update and then finally call the <b>save()</b> method with the <b>TableRegistry</b> class’s instance to update record.</p>
<h2>Example</h2>
<p>Make changes in the config/routes.php file as shown in the following code.</p>
<p><b>config/routes.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   use Cake\Core\Plugin;
   use Cake\Routing\RouteBuilder;
   use Cake\Routing\Router;
   
   Router::defaultRouteClass('DashedRoute');
   Router::scope('/', function (RouteBuilder $routes) {
      $routes-&gt;connect('/users/edit', ['controller' =&gt; 'Users', 'action' =&gt; 'edit']);
      $routes-&gt;fallbacks('DashedRoute');
   });
   Plugin::routes();
</pre>
<p>Create a <b>UsersController.php</b> file at <b>src/Controller/UsersController.php</b>. Copy the following code in the controller file.</p>
<p><b>src/controller/UsersController.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   namespace App\Controller;
   use App\Controller\AppController;
   use Cake\ORM\TableRegistry;
   use Cake\Datasource\ConnectionManager;

   class UsersController extends AppController{
      public function index(){
         $users = TableRegistry::get('users');
         $query = $users-&gt;find();
         $this-&gt;set('results',$query);
      }
      public function edit($id){
         if($this-&gt;request-&gt;is('post')){
            $username = $this-&gt;request-&gt;data('username');
            $password = $this-&gt;request-&gt;data('password');
            $users_table = TableRegistry::get('users');
            $users = $users_table-&gt;get($id);
            $users-&gt;username = $username;
            $users-&gt;password = $password;
         
            if($users_table-&gt;save($users))
            echo "User is udpated";
            $this-&gt;setAction('index');
         } else {
            $users_table = TableRegistry::get('users')-&gt;find();
            $users = $users_table-&gt;where(['id'=&gt;$id])-&gt;first();
            $this-&gt;set('username',$users-&gt;username);
            $this-&gt;set('password',$users-&gt;password);
            $this-&gt;set('id',$id);
         }
      }
   }
?&gt;
</pre>
<p>Create a directory <b>Users</b> at <b>src/Template</b>, ignore if already created, and under that directory create a view called <b>index.ctp</b>. Copy the following code in that file.</p>
<p><b>src/Template/Users/index.ctp</b></p>
<pre class="prettyprint notranslate">
&lt;a href = "add"&gt;Add User&lt;/a&gt;
&lt;table&gt;
   &lt;tr&gt;
      &lt;td&gt;ID&lt;/td&gt;
      &lt;td&gt;Username&lt;/td&gt;
      &lt;td&gt;Password&lt;/td&gt;
      &lt;td&gt;Edit&lt;/td&gt;
      &lt;td&gt;Delete&lt;/td&gt;
   &lt;/tr&gt;
   
   &lt;?php
      foreach ($results as $row):
         echo "&lt;tr&gt;&lt;td&gt;".$row-&gt;id."&lt;/td&gt;";
         echo "&lt;td&gt;".$row-&gt;username."&lt;/td&gt;";
         echo "&lt;td&gt;".$row-&gt;password."&lt;/td&gt;";
         echo "&lt;td&gt;&lt;a href = '".$this-&gt;Url-&gt;build
            (["controller" =&gt; "Users","action" =&gt; "edit",$row-&gt;id]).
            "'&gt;Edit&lt;/a&gt;&lt;/td&gt;";
         echo "&lt;td&gt;&lt;a href = '".$this-&gt;Url-&gt;build
            (["controller" =&gt; "Users","action" =&gt; "delete",$row-&gt;id]).
            "'&gt;Delete&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;";
      endforeach;
   ?&gt;
&lt;/table&gt;
</pre>
<p>Create another <b>View</b> file under the <b>Users</b> directory called <b>edit.ctp</b> and copy the following code in it.</p>
<p><b>src/Template/Users/edit.ctp</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   echo $this-&gt;Form-&gt;create("Users",array('url'=&gt;'/users/edit/'.$id));
   echo $this-&gt;Form-&gt;input('username',['value'=&gt;$username]);
   echo $this-&gt;Form-&gt;input('password',['value'=&gt;$password]);
   echo $this-&gt;Form-&gt;button('Submit');
   echo $this-&gt;Form-&gt;end();
?&gt;
</pre>
<p>Execute the above example by visiting the following URL and click on <b>Edit link</b> to edit record.</p>
<p><b>http://localhost:85/CakePHP/users</b></p>
<h3>Output</h3>
<p>After visiting the above URL and clicking on the <b>Edit link</b>, you will receive the following output where you can edit record.</p>
<img src="images/update_a_record.jpg" alt="Update a Record" />
<h1>CakePHP - Delete a Record</h1>
<p>To delete a record in database, we first need to get hold of a table using the <b>TableRegistry</b> class. We can fetch the instance out of registry using the <b>get()</b> method. The <b>get()</b> method will take the name of the database table as an argument. Now, this new instance is used to get particular record that we want to delete.</p>
<p>Call the <b>get()</b> method with this new instance and pass the primary key to find a record which will be saved in another instance. Use the TableRegistry class’s instance to call the <b>delete</b> method to delete record from database.</p>
<h2>Example</h2>
<p>Make changes in the <b>config/routes.php</b> file as shown in the following code.</p>
<p><b>config/routes.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   use Cake\Core\Plugin;
   use Cake\Routing\RouteBuilder;
   use Cake\Routing\Router;

   Router::defaultRouteClass('DashedRoute');
   Router::scope('/', function (RouteBuilder $routes) {
      $routes-&gt;connect('/users/delete', ['controller' =&gt; 'Users', 'action' =&gt; 'delete']);
      $routes-&gt;fallbacks('DashedRoute');
   });
   Plugin::routes();
</pre>
<p>Create a <b>UsersController.php</b> file at <b>src/Controller/UsersController.php</b>. Copy the following code in the controller file.</p>
<p><b>src/controller/UsersController.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   namespace App\Controller;
   use App\Controller\AppController;
   use Cake\ORM\TableRegistry;
   use Cake\Datasource\ConnectionManager;
   
   class UsersController extends AppController{
      public function index(){
         $users = TableRegistry::get('users');
         $query = $users-&gt;find();
         $this-&gt;set('results',$query);
      }
      public function delete($id){
         $users_table = TableRegistry::get('users');
         $users = $users_table-&gt;get($id);
         $users_table-&gt;delete($users);
         echo "User deleted successfully.";
         $this-&gt;setAction('index');
      }
   }
?&gt;
</pre>
<p>Just create an empty <b>View</b> file under <b>Users</b> directory called <b>delete.ctp</b>.</p>
<p><b>src/Template/Users/delete.ctp</b></p>
<p>Create a directory <b>Users</b> at <b>src/Template</b>, ignore if already created, and under that directory create a <b>View</b> file called <b>index.ctp</b>. Copy the following code in that file.</p>
<p><b>src/Template/Users/index.ctp</b></p>
<pre class="prettyprint notranslate">
&lt;a href = "add"&gt;Add User&lt;/a&gt;
&lt;table&gt;
   &lt;tr&gt;
      &lt;td&gt;ID&lt;/td&gt;
      &lt;td&gt;Username&lt;/td&gt;
      &lt;td&gt;Password&lt;/td&gt;
      &lt;td&gt;Edit&lt;/td&gt;
      &lt;td&gt;Delete&lt;/td&gt;
   &lt;/tr&gt;

   &lt;?php
      foreach ($results as $row):
         echo "&lt;tr&gt;&lt;td&gt;".$row-&gt;id."&lt;/td&gt;";
         echo "&lt;td&gt;".$row-&gt;username."&lt;/td&gt;";
         echo "&lt;td&gt;".$row-&gt;password."&lt;/td&gt;";
         echo "&lt;td&gt;&lt;a href='".$this-&gt;Url-&gt;build
         (["controller" => "Users","action" => "edit",$row->id])."'&gt;Edit&lt;/a&gt;&lt;/td&gt;";
         
         echo "&lt;td&gt;&lt;a href='".$this-&gt;Url-&gt;build
         (["controller" =&gt; "Users","action" -&gt; "delete",$row-&gt;id])."'&gt;Delete&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;";
      endforeach;
   ?&gt;
&lt;/table&gt;
</pre>
<p>Execute the above example by visiting the following URL and click on Delete link to delete record.</p>
<p><b>http://localhost:85/CakePHP/users</b></p>
<h3>Output</h3>
<p>After visiting the above URL and clicking on the Delete link, you will receive the following output where you can delete record.</p>
<img src="images/delete_a_record.jpg" alt="Delete a Record" />
<h1>CakePHP - Services</h1>
<h2>Authentication</h2>
<p>Authentication is the process of identifying the correct user. CakePHP supports three types of authentication.</p>
<ul class="list">
<li><p><b>FormAuthenticate</b> &minus; It allows you to authenticate users based on form POST data. Usually this is a login form that users enter information into. This is default authentication method.</p></li>
<li><p><b>BasicAuthenticate</b> &minus; It allows you to authenticate users using Basic HTTP authentication.</p></li>
<li><p><b>DigestAuthenticate</b> &minus; It allows you to authenticate users using Digest HTTP authentication.</p></li>
</ul>
<h3>Example for FormAuthentication</h3>
<p>Make changes in the config/routes.php file as shown in the following code.</p>
<p><b>config/routes.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   use Cake\Core\Plugin;
   use Cake\Routing\RouteBuilder;
   use Cake\Routing\Router;

   Router::defaultRouteClass('DashedRoute');
   Router::scope('/', function (RouteBuilder $routes) {
      $routes-&gt;connect('/auth',['controller'=&gt;'Authexs','action'=&gt;'index']);
      $routes-&gt;connect('/login',['controller'=&gt;'Authexs','action'=&gt;'login']);
      $routes-&gt;connect('/logout',['controller'=&gt;'Authexs','action'=&gt;'logout']);
      $routes-&gt;fallbacks('DashedRoute');
   });
   Plugin::routes();
</pre>
<p>Change the code of AppController.php file as shown in the following program.</p>
<p><b>src/Controller/AppController.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   namespace App\Controller;
   use Cake\Controller\Controller;
   use Cake\Event\Event;
   use Cake\Controller\Component\AuthComponent;

   class AppController extends Controller{
      public function initialize(){
         parent::initialize();
         
         $this-&gt;loadComponent('RequestHandler');
         $this-&gt;loadComponent('Flash');
         $this-&gt;loadComponent('Auth', [
            'authenticate' =&gt; [
               'Form' =&gt; [
                  'fields' =&gt; ['username' =&gt; 'username', 'password' =&gt; 'password']
               ]
            ],
            'loginAction' =&gt; ['controller' =&gt; 'Authexs', 'action' =&gt; 'login'],
            'loginRedirect' =&gt; ['controller' =&gt; 'Authexs', 'action' =&gt; 'index'],
            'logoutRedirect' =&gt; ['controller' =&gt; 'Authexs', 'action' =&gt; 'login']
         ]);
      
         $this-&gt;Auth-&gt;config('authenticate', [
            AuthComponent::ALL => ['userModel' => 'users'], 'Form']);
      }
   
      public function beforeRender(Event $event){
         if (!array_key_exists('_serialize', $this=&gt;viewVars) &amp;&amp;
         in_array($this-&gt;response=&gt;type(), ['application/json', 'application/xml'])) {
            $this->set('_serialize', true);
         }
      }
   }
</pre>
<p>Create <b>AuthexsController.php</b> file at <b>src/Controller/AuthexsController.php</b>. Copy the following code in the controller file.</p>
<p><b>src/Controller/AuthexsController.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   namespace App\Controller;
   use App\Controller\AppController;
   use Cake\ORM\TableRegistry;
   use Cake\Datasource\ConnectionManager;
   use Cake\Event\Event;
   use Cake\Auth\DefaultPasswordHasher;

   class AuthexsController extends AppController{
      var $components = array('Auth');
      public function index(){
      }
      public function login(){
         if($this-&gt;request-&gt;is('post')){
            $user = $this-&gt;Auth-&gt;identify();
            
            if($user){
               $this-&gt;Auth-&gt;setUser($user);
               return $this-&gt;redirect($this-&gt;Auth-&gt;redirectUrl());
            } else
            $this-&gt;Flash-&gt;error('Your username or password is incorrect.');
         }
      }
      public function logout(){
         return $this-&gt;redirect($this-&gt;Auth-&gt;logout());
      }
   }
?&gt;
</pre>
<p>Create a directory <b>Authexs</b> at <b>src/Template</b> and under that directory create a <b>View</b> file called <b>login.ctp</b>. Copy the following code in that file.</p>
<p><b>src/Template/Authexs/login.ctp</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   echo $this-&gt;Form-&gt;create();
   echo $this-&gt;Form-&gt;input('username');
   echo $this-&gt;Form-&gt;input('password');
   echo $this-&gt;Form-&gt;button('Submit');
   echo $this-&gt;Form-&gt;end();
?&gt;
</pre>
<p>Create another <b>View</b> file called <b>logout.ctp</b>. Copy the following code in that file.</p>
<p><b>src/Template/Authexs/logout.ctp</b></p>
<pre class="result notranslate">
You are successfully loggedout.
</pre>
<p>Create another <b>View</b> file called <b>index.ctp</b>. Copy the following code in that file.</p>
<p><b>src/Template/Authexs/index.ctp</b></p>
<pre class="prettyprint notranslate">
You are successfully logged in. 
&lt;?php echo 
   $this-&gt;Html-&gt;link('logout',["controller" =&gt; "Authexs","action" =&gt; "logout"]); 
?&gt;
</pre>
<p>Execute the above example by visiting the following URL.</p>
<p><b>http://localhost:85/CakePHP/auth</b></p>
<h3>Output</h3>
<p>As the authentication has been implemented so once you try to visit the above URL, you will be redirected to the login page as shown below.</p>
<img src="images/services_authexes.jpg" alt="Services Authexes" />
<p>After providing the correct credentials, you will be logged in and redirected to the screen as shown below.</p>
<img src="images/services_auth.jpg" alt="Services Auth" />
<p>After clicking on the <b>logout</b> link, you will be redirected to the login screen again.</p>
<h1>CakePHP - Errors and Exception Handling</h1>
<p>Failure of system needs to be handled effectively for smooth running of the system. CakePHP comes with default error trapping that prints and logs error as they occur. This same error handler is used to catch <b>Exceptions</b>. Error handler displays errors when debug is true and logs error when debug is false. CakePHP has number of exception classes and the built in exception handling will capture any uncaught exception and render a useful page.</p>
<h2>Errors and Exception Configuration</h2>
<p>Errors and Exception can be configured in file <b>config\app.php</b>. Error handling accepts a few options that allow you to tailor error handling for your application &minus;</p>
<table class="table table-bordered">
<tr>
<th>Option</th>
<th style="width:16%;">Data Type</th>
<th>Description</th>
</tr>
<tr>
<td>errorLevel</td>
<td>int</td>
<td>The level of errors you are interested in capturing. Use the built-in php error constants, and bitmasks to select the level of error you are interested in.</td>
</tr>
<tr>
<td>trace</td>
<td>bool</td>
<td>Include stack traces for errors in log files. Stack traces will be included in the log after each error. This is helpful for finding where/when errors are being raised.</td>
</tr>
<tr>
<td>exceptionRenderer</td>
<td>string</td>
<td>The class responsible for rendering uncaught exceptions. If you choose a <b>custom</b> class, you should place the file for that class in <b>src/Error</b>. This class needs to implement a <b>render()</b> method.</td>
</tr>
<tr>
<td>log</td>
<td>bool</td>
<td>When true, exceptions + their stack traces will be logged to<b> Cake\Log\Log</b>.</td>
</tr>
<tr>
<td>skipLog</td>
<td>array</td>
<td>An array of exception classnames that should not be logged. This is useful to remove <b>NotFoundExceptions</b> or other common, but uninteresting logs messages.</td>
</tr>
<tr>
<td>extraFatalErrorMemory</td>
<td>int</td>
<td>Set to the number of megabytes to increase the memory limit by when a fatal error is encountered. This allows breathing room to complete logging or error handling.</td>
</tr>
</table>
<h2>Example</h2>
<p>Make changes in the <b>config/routes.php</b> file as shown in the following code.</p>
<p><b>config/routes.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   use Cake\Core\Plugin;
   use Cake\Routing\RouteBuilder;
   use Cake\Routing\Router;

   Router::defaultRouteClass('DashedRoute');
   Router::scope('/', function (RouteBuilder $routes) {
      $routes-&gt;connect('/exception/:arg1/:arg2',[
         'controller'=&gt;'Exps','action'=&gt;'index'],['pass' =&gt; ['arg1', 'arg2']]);
      $routes-&gt;fallbacks('DashedRoute');
   });
   Plugin::routes();
</pre>
<p>Create <b>ExpsController.php</b> file at <b>src/Controller/ExpsController.php</b>. Copy the following code in the controller file.</p>
<p><b>src/Controller/ExpsController.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   namespace App\Controller;
   use App\Controller\AppController;
   use Cake\Core\Exception\Exception;

   class ExpsController extends AppController{
      public function index($arg1,$arg2){
         try{
            $this-&gt;set('argument1',$arg1);
            $this-&gt;set('argument2',$arg2);
            
            if(($arg1 &lt; 1 || $arg1 &gt; 10) || ($arg2 &lt; 1 || $arg2 &gt; 10))
            throw new Exception("One of the number is out of range[1-10].");
         }catch(\Exception $ex){
            echo $ex-&gt;getMessage();
         }
      }
   }
?&gt;
</pre>
<p>Create a directory <b>Exps</b> at <b>src/Template</b> and under that directory create a <b>View</b> file called <b>index.ctp</b>. Copy the following code in that file.</p>
<p><b>src/Template/Exps/index.ctp</b></p>
<pre class="result notranslate">
This is CakePHP tutorial and this is an example of Passed arguments.
Argument-1: &lt;?=$argument1?&gt;
Argument-2: &lt;?=$argument2?&gt;
</pre>
<p>Execute the above example by visiting the following URL.</p>
<p><b>http://localhost:85/CakePHP/exception/5/0</b></p>
<h3>Output</h3>
<p>Upon execution, you will receive the following output.</p>
<img src="images/exceptions.jpg" alt="Exceptions" />
<h1>CakePHP - Logging</h1>
<p>Logging in CakePHP is a very easy task. You just have to use one function. You can log <b>errors, exceptions, user activities, action taken by users</b>, for any background process like <b>cronjob</b>. Logging data in CakePHP is easy &minus; the <b>log()</b> function is provided by the <b>LogTrait</b>, which is the common ancestor for almost all CakePHP classes.</p>
<h2>Logging Configuration</h2>
<p>We can configure the log in file <b>config/app.php</b>. There is a log section in the file where you can configure logging options as shown in the following screenshot.</p>
<img src="images/logging_configuration.jpg" alt="Logging Configuration" />
<p>By default, you will see two log levels &minus; <b>error</b> and <b>debug</b> already configured for you. Each will handle different level of messages.</p>
<p>CakePHP supports various logging levels as shown below &minus;</p>
<ul class="list">
<li><p><b>Emergency</b> &minus; System is unusable</p></li>
<li><p><b>Alert</b> &minus; Action must be taken immediately</p></li>
<li><p><b>Critical</b> &minus; Critical conditions</p></li>
<li><p><b>Error</b> &minus; Error conditions</p></li>
<li><p><b>Warning</b> &minus; Warning conditions</p></li>
<li><p><b>Notice</b> &minus; Normal but significant condition</p></li>
<li><p><b>Info</b> &minus; Informational messages</p></li>
<li><p><b>Debug</b> &minus; Debug-level messages</p></li>
</ul>
<h2>Writing to Log file</h2>
<p>There are two ways by which we can write in a Log file.</p>
<p>The first is to use the static <b>write()</b> method. The following is the syntax of the static <b>write()</b> method .</p>
<table class="table table-bordered">
<tr>
<th style="vertical-align:middle">Syntax</th>
<td>write( integer|string <i>$level</i> , mixed <i>$message</i> , string|array <i>$context</i>[] )</td>
</tr>
<tr>
<th style="vertical-align:middle">Parameters</th>
<td>
<p>The severity level of the message being written. The value must be an integer or string matching a known level.</p>
<p>Message content to log.</p>
<p>Additional data to be used for logging the message. The special <code>scope</code> key can be passed to be used for further filtering of the log engines to be used. If a string or a numerically index array is passed, it will be treated as the <code>scope</code> key. See Cake\Log\Log::config() for more information on logging scopes.</p></td>
</tr>
<tr>
<th>Returns</th>
<td>boolean</td>
</tr>
<tr>
<th style="text-align:center; vertical-align:middle">Description</th>
<td>Writes the given message and type to all of the configured log adapters. Configured adapters are passed both the $level and $message variables. $level is one of the following strings/values.</td>
</tr>
</table>
<p>The second is to use the <b>log() shortcut</b> function available on any using the <b>LogTrait Calling log()</b> will internally call <b>Log::write()</b>&minus;</p>
<h3>Example</h3>
<p>Make changes in the <b>config/routes.php</b> file as shown in the following program.</p>
<p><b>config/routes.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   use Cake\Core\Plugin;
   use Cake\Routing\RouteBuilder;
   use Cake\Routing\Router;

   Router::defaultRouteClass('DashedRoute');
   Router::scope('/', function (RouteBuilder $routes) {
      $routes-&gt;connect('logex',['controller'=&gt;'Logexs','action'=&gt;'index']);
      $routes-&gt;fallbacks('DashedRoute');
   });
   Plugin::routes();
</pre>
<p>Create a <b>LogexController.php</b> file at <b>src/Controller/LogexController.php</b>. Copy the following code in the controller file.</p>
<p><b>src/Controller/LogexController.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   namespace App\Controller;
   use App\Controller\AppController;
   use Cake\Log\Log;

   class LogexsController extends AppController{
      public function index(){
         /*The first way to write to log file.*/
         Log::write('debug',"Something didn't work.");
         
         /*The second way to write to log file.*/
         $this-&gt;log("Something didn't work.",'debug');
      }
   }
?&gt;
</pre>
<p>Create a directory <b>Logexs at src/Template</b> and under that directory create a <b>View</b> file called <b>index.ctp</b>. Copy the following code in that file.</p>
<p><b>src/Template/Logexs/index.ctp</b></p>
<pre class="result notranslate">
Something is written in log file. Check log file logs\debug.log
</pre>
<p>Execute the above example by visiting the following URL.</p>
<p><b>http://localhost:85/CakePHP/logex</b></p>
<h3>Output</h3>
<p>Upon execution, you will receive the following output.</p>
<img src="images/logexs.jpg" alt="Logexs" />
<h1>CakePHP - Form Handling</h1>
<p>CakePHP provides various in built tags to handle HTML forms easily and securely. Like many other PHP frameworks, major elements of HTML are also generated using CakePHP. Following are the various functions used to generate HTML elements.</p>
<p>The following functions are used to generate select options.</p>
<table class="table table-bordered">
<tr>
<td style="vertical-align:middle;">Syntax</td>
<td>_selectOptions( array <i>$elements</i> array(), array <i>$parents</i> array(), boolean <i>$showParents</i> null, array <i>$attributes</i> array() )</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>Elements to format</p></li>
<li><p>Parents for OPTGROUP</p></li>
<li><p>Whether to show parents</p></li>
<li><p>HTML attributes</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>array</td>
</tr>
<tr>
<td>Description</td>
<td>Returns an array of formatted OPTION/OPTGROUP elements</td>
</tr>
</table>
<p>The following functions are used <b>to generate HTML select element</b>.</p>
<table class="table table-bordered">
<tr>
<td style="vertical-align:middle;">Syntax</td>
<td>select( string $fieldName, array $options array(), array $attributes array() )</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td><p>Name attribute of the SELECT</p>
<p>Array of the OPTION elements (as 'value'=&gt;'Text' pairs) to be used in the SELECT element</p>
<p>The HTML attributes of the select element.</p>
</td>
</tr>
<tr>
<td>Returns</td>
<td>Formatted SELECT element</td>
</tr>
<tr>
<td>Description</td>
<td>Returns a formatted SELECT element</td>
</tr>
</table>
<p>The following functions are used <b>to generate button</b> on HTML page.</p>
<table class="table table-bordered">
<tr>
<td style="vertical-align:middle;">Syntax</td>
<td>Button (string <i>$title</i>, array <i>$options</i> array() )</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>The button's caption. Not automatically HTML encoded.</p></li>
<li><p>Array of options and HTML attributes.</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>HTML button tag.</td>
</tr>
<tr>
<td>Description</td>
<td>Creates a <b>&lt;button&gt;</b> tag. The type attribute defaults to <b>type="submit</b>". You can change it to a different value by using <b>$options['type']</b>.</td>
</tr>
</table>
<p>The following functions are used <b>to generate checkbox</b> on HTML page.</p>
<table class="table table-bordered">
<tr>
<td style="vertical-align:middle;">Syntax</td>
<td>Checkbox (string $fieldName, array $options array() )</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>Name of a field, like this "Modelname.fieldname"</p></li>
<li><p>Array of HTML attributes. Possible options are value, checked, hiddenField, disabled, default.</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>An HTML text input element.</td>
</tr>
<tr>
<td>Description</td>
<td>Creates a checkbox input widget.</td>
</tr>
</table>
<p>The following functions are used <b>to create form</b> on HTML page.</p>
<table class="table table-bordered">
<tr>
<td style="vertical-align:middle;">Syntax</td>
<td>create( mixed <i>$model</i> null, array <i>$options</i> array() )</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>The model name for which the form is being defined. Should include the plugin name for plugin models. e.g. ContactManager.Contact. If an array is passed and $options argument is empty, the array will be used as options. If false no model is used.</p></li>
<li><p>An array of html attributes and options. Possible options are type, action, url, default, onsubmit, inputDefaults, encoding</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>A formatted opening FORM tag.</td>
</tr>
<tr>
<td>Description</td>
<td>Returns an HTML FORM element.</td>
</tr>
</table>
<p>The following functions are used to <b>provide file uploading functionality</b> on HTML page.</p>
<table class="table table-bordered">
<tr>
<td style="vertical-align:middle;">Syntax</td>
<td>file(string <i>$fieldName</i>, array <i>$options</i> array() )</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>Name of a field, in the form "Modelname.fieldname"</p></li>
<li><p>Array of HTML attributes.</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>A generated file input.</td>
</tr>
<tr>
<td>Description</td>
<td>Creates file input widget.</td>
</tr>
</table>
<p>The following functions are used to create <b>hidden element</b> on HTML page.</p>
<table class="table table-bordered">
<tr>
<td style="vertical-align:middle;">Syntax</td>
<td>hidden( string $fieldName, array $options array() )</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>Name of a field, in the form of "Modelname.fieldname"</p></li>
<li><p>Array of HTML attributes.</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>A generated hidden input</td>
</tr>
<tr>
<td>Description</td>
<td>Creates a hidden input field</td>
</tr>
</table>
<p>The following functions are used to generate <b>input element</b> on HTML page.</p>
<table class="table table-bordered">
<tr>
<td style="vertical-align:middle;">Syntax</td>
<td>Input (string $fieldName, array $options array() )</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>This should be "Modelname.fieldname"</p></li>
<li><p>Each type of input takes different options</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>Completed form widget</td>
</tr>
<tr>
<td>Description</td>
<td>Generates a form input element complete with label and wrapper div</td>
</tr>
</table>
<p>The following functions are used to generate <b>radio button</b> on HTML page.</p>
<table class="table table-bordered">
<tr>
<td style="vertical-align:middle;">Syntax</td>
<td>Radio (string <i>$fieldName</i>, array <i>$options</i> array(), array <i>$attributes</i>array() )</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>Name of a field, like this "Modelname.fieldname"</p></li>
<li><p>Radio button options array.</p></li>
<li><p>Array of HTML attributes, and special attributes above.</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>Completed radio widget set</td>
</tr>
<tr>
<td>Description</td>
<td>Creates a set of radio widgets. Will create a legend and fieldset by default. Use $options to control this.</td>
</tr>
</table>
<p>The following functions are used to generate <b>submit</b> button on HTML page.</p>
<table class="table table-bordered">
<tr>
<td style="vertical-align:middle;">Syntax</td>
<td>Submit (string $caption null, array $options array() )</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>The label appearing on the button OR if string contains :// or the extension .jpg, .jpe, .jpeg, .gif, .png use an image if the extension exists, AND the first character is /, image is relative to webroot, OR if the first character is not /, image is relative to webroot/img.</p></li>
<li><p>Array of options. Possible options are div, before, after, type etc.</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>An HTML submit button</td>
</tr>
<tr>
<td>Description</td>
<td>Creates a submit button element. This method will generate &lt;input/&gt; elements that can be used to submit, and reset forms by using $options. Image submits can be created by supplying an image path for $caption.</td>
</tr>
</table>
<p>The following functions are used <b>to generate textarea element</b> on HTML page.</p>
<table class="table table-bordered">
<tr>
<td style="vertical-align:middle;">Syntax</td>
<td>Textarea (string $fieldName, array $options array() )</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>Name of a field, in the form "Modelname.fieldname"</p></li>
<li><p>Array of HTML attributes, special option like escape</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>A generated HTML text input element</td>
</tr>
<tr>
<td>Description</td>
<td>Creates a textarea widget</td>
</tr>
</table>
<h2>Example</h2>
<p>Make changes in the <b>config/routes.php</b> file as shown in the following code.</p>
<p><b>config/routes.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   use Cake\Core\Plugin;
   use Cake\Routing\RouteBuilder;
   use Cake\Routing\Router;

   Router::defaultRouteClass('DashedRoute');
   Router::scope('/', function (RouteBuilder $routes) {
      $routes-&gt;connect('register',['controller'=&gt;'Registrations','action'=&gt;'index']);
      $routes-&gt;fallbacks('DashedRoute');
   });
   Plugin::routes();
</pre>
<p>Create a <b>RegistrationController.php</b> file at <b>src/Controller/RegistrationController.php</b>. Copy the following code in the controller file.</p>
<p><b>src/Controller/RegistrationController.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   namespace App\Controller;
   use App\Controller\AppController;

   class RegistrationsController extends AppController{
      public function index(){
         $country = array('India','United State of America','United Kingdom');
         $this-&gt;set('country',$country);
         $gender = array('Male','Female');
         $this-&gt;set('gender',$gender);
      }
   }
?&gt;
</pre>
<p>Create a directory <b>Registrations</b> at <b>src/Template</b> and under that directory create a View file called <b>index.ctp</b>. Copy the following code in that file.</p>
<p><b>src/Template/Registrations/index.ctp</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   echo $this-&gt;Form-&gt;create("Registrations",array('url'=&gt;'/register'));
   echo $this-&gt;Form-&gt;input('username');
   echo $this-&gt;Form-&gt;input('password');
   echo $this-&gt;Form-&gt;input('password');
   echo '&lt;label for="country"&gt;Country&lt;/label&gt;';
   echo $this-&gt;Form-&gt;select('country',$country);
   echo '&lt;label for="gender"&gt;Gender&lt;/label&gt;';
   echo $this-&gt;Form-&gt;radio('gender',$gender);
   echo '&lt;label for="address"&gt;Address&lt;/label&gt;';
   echo $this-&gt;Form-&gt;textarea('address');
   echo $this-&gt;Form-&gt;file('profilepic');
   echo '&lt;div&gt;'.$this-&gt;Form-&gt;checkbox('terms').
      '&lt;label for="country"&gt;Terms &amp;Conditions&lt;/label&gt;&lt;/div&gt;';
   echo $this-&gt;Form-&gt;button('Submit');
   echo $this-&gt;Form-&gt;end();
?&gt;
</pre>
<p>Execute the above example by visiting the following URL &minus; <b>http://localhost:85/CakePHP/register</b></p>
<h3>Output</h3>
<p>Upon execution, you will receive the following output.</p>
<img src="images/form_handling.jpg" alt="Form Handling" />
<h1>CakePHP - Internationalization</h1>
<p>Like many other frameworks, CakePHP also supports Internationalization. We need to follow these steps to go from single language to multiple language.</p>
<p><b>Step 1</b> &minus; Create a separate Locale directory <b>src\Locale</b>.</p>
<p><b>Step 2</b> &minus; Create subdirectory for each language under the directory src\Locale. The name of the subdirectory can be two letter ISO code of the language or full locale name like en_US, fr_FR etc.</p>
<p><b>Step 3</b> &minus; Create separate <b>default.po</b> file under each language subdirectory. This file contains entry in the form of <b>msgid</b> and <b>msgstr</b> as shown in the following program.</p>
<pre class="result notranslate">
msgid "msg"
msgstr "CakePHP Internationalization example."
</pre>
<p>Here, the <b>msgid</b> is the key which will be used in the View template file and <b>msgstr</b> is the value which stores the translation.</p>
<p><b>Step 4</b> &minus; In the View template file, we can use the above <b>msgid</b> as shown below which will be translated based on the set value of locale.</p>
<pre class="result notranslate">
&lt;?php echo __('msg'); ?&gt;
</pre>
<p>The default locale can be set in the <b>config/bootstrap.php</b> file by the following line.</p>
<pre class="result notranslate">
'defaultLocale' =&gt; env('APP_DEFAULT_LOCALE', 'en_US')
</pre>
<p>To change the local at runtime we can use the following lines.</p>
<pre class="result notranslate">
use Cake\I18n\I18n;
I18n::locale('de_DE');
</pre>
<h2>Example</h2>
<p>Make changes in the config/routes.php file as shown in the following program.</p>
<p><b>config/routes.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   use Cake\Core\Plugin;
   use Cake\Routing\RouteBuilder;
   use Cake\Routing\Router;

   Router::defaultRouteClass('DashedRoute');
   Router::scope('/', function (RouteBuilder $routes) {
      $routes-&gt;connect('locale',['controller'=&gt;'Localizations','action'=&gt;'index']);
      $routes-&gt;fallbacks('DashedRoute');
   });
   Plugin::routes();
</pre>
<p>Create a <b>LocalizationsController.php</b> file at <b>src/Controller/LocalizationsController.php</b>. Copy the following code in the controller file.</p>
<p><b>src/Controller/LocalizationsController.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   namespace App\Controller;
   use App\Controller\AppController;
   use Cake\I18n\I18n;

   class LocalizationsController extends AppController{
      public function index(){
         if($this-&gt;request-&gt;is('post')){
            $locale = $this-&gt;request-&gt;data('locale');
            I18n::locale($locale);
         }
      }
   }
?&gt;
</pre>
<p>Create a <b>Locale</b> directory at <b>src\Locale</b>. Create 3 directories called <b>en_US, fr_FR, de_DE</b> under the Locale directory. Create a file under each directory called <b>default.po</b>. Copy the following code in the respective file.</p>
<p><b>src/Locale/en_US/default.po</b></p>
<pre class="result notranslate">
msgid "msg"
msgstr "CakePHP Internationalization example."
</pre>
<p><b>src/Locale/fr_FR/default.po</b></p>
<pre class="result notranslate">
msgid "msg"
msgstr "Exemple CakePHP internationalisation."
</pre>
<p><b>src/Locale/de_DE/default.po</b></p>
<pre class="result notranslate">
msgid "msg"
msgstr "CakePHP Internationalisierung Beispiel."
</pre>
<p>Create a directory <b>Localizations</b> at <b>src/Template</b> and under that directory create a View file called <b>index.ctp</b>. Copy the following code in that file.</p>
<p><b>src/Template/Localizations/index.ctp</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   echo $this-&gt;Form-&gt;create("Localizations",array('url'=&gt;'/locale'));
   echo $this-&gt;Form-&gt;radio("locale",[
      ['value'=&gt;'en_US','text'=&gt;'English'],
      ['value'=&gt;'de_DE','text'=&gt;'German'],
      ['value'=&gt;'fr_FR','text'=&gt;'French'],
   ]);
   echo $this-&gt;Form-&gt;button('Change Language');
   echo $this-&gt;Form-&gt;end();
?&gt;
&lt;?php echo __('msg'); ?&gt;
</pre>
<p>Execute the above example by visiting the following URL.</p>
<p><b>http://localhost:85/CakePHP/locale</b></p>
<h3>Output</h3>
<p>Upon execution, you will receive the following output.</p>
<img src="images/localizations.jpg" alt="Localizations" />
<h2>Email</h2>
<p>CakePHP provides Email class to manage email related functionalities. To use email functionality in any controller, we first need to load the Email class by writing the following line.</p>
<pre class="result notranslate">
use Cake\Mailer\Email;
</pre>
<p>The Email class provides various useful methods which are described below.</p>
<table class="table table-bordered">
<tr>
<td style="width:20%;">Syntax</td>
<td>From (string|array|null <i>$email</i> null, string|null <i>$name</i> null )</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>String with email</p></li>
<li><p>Name</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>array|$this</td>
</tr>
<tr>
<td>Description</td>
<td>It specifies from which email address; the email will be sent</td>
</tr>
</table>
<table class="table table-bordered">
<tr>
<td style="width:20%;">Syntax</td>
<td>To (string|array|null <i>$email</i> null, string|null <i>$name</i> null)</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>String with email</p></li>
<li><p>Name</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>array|$this</td>
</tr>
<tr>
<td>Description</td>
<td>It specifies to whom the email will be sent</td>
</tr>
</table>
<table class="table table-bordered">
<tr>
<td style="width:20%;">Syntax</td>
<td>Send (string|array|null <i>$content</i> null)</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>String with message or array with messages.</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>array</td>
</tr>
<tr>
<td>Description</td>
<td>Send an email using the specified content, template and layout</td>
</tr>
</table>
<table class="table table-bordered">
<tr>
<td style="width:20%;">Syntax</td>
<td>Subject (string|null <i>$subject</i> null)</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>Subject string</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>array|$this</td>
</tr>
<tr>
<td>Description</td>
<td>Get/Set Subject.</td>
</tr>
</table>
<table class="table table-bordered">
<tr>
<td style="width:20%;">Syntax</td>
<td>Attachments (string|array|null <i>$attachments</i> null)</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>String with the filename or array with filenames</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>array|$this</td>
</tr>
<tr>
<td>Description</td>
<td>Add attachments to the email message</td>
</tr>
</table>
<table class="table table-bordered">
<tr>
<td style="width:20%;">Syntax</td>
<td>Bcc (string|array|null <i>$email</i> null, string|null <i>$name</i> null)</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>String with email</p></li>
<li><p>Name</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>array|$this</td>
</tr>
<tr>
<td>Description</td>
<td>Bcc</td>
</tr>
</table>
<table class="table table-bordered">
<tr>
<td style="width:20%;">Syntax</td>
<td>cc( string|array|null <i>$email</i> null, string|null <i>$name</i> null )</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>String with email</p></li>
<li><p>Name</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>array|$this</td>
</tr>
<tr>
<td>Description</td>
<td>Cc</td>
</tr>
</table>
<h2>Example</h2>
<p>Make changes in the config/routes.php file as shown in the following program.</p>
<p><b>config/routes.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   use Cake\Core\Plugin;
   use Cake\Routing\RouteBuilder;
   use Cake\Routing\Router;

   Router::defaultRouteClass('DashedRoute');
   Router::scope('/', function (RouteBuilder $routes) {
      $routes-&gt;connect('/email',['controller'=&gt;'Emails','action'=&gt;'index']);
      $routes-&gt;fallbacks('DashedRoute');
   });
   Plugin::routes();
</pre>
<p>Create an <b>EmailsController.php</b> file at <b>src/Controller/EmailsController.php</b>. Copy the following code in the controller file.</p>
<p><b>src/Controller/EmailsController.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   namespace App\Controller;
   use App\Controller\AppController;
   use Cake\Mailer\Email;

   class EmailsController extends AppController{
      public function index(){
         $email = new Email('default');
         $email-&gt;to('abc@gmail.com')-&gt;subject('About')-&gt;send('My message');
      }
   }
?&gt;
</pre>
<p>Create a directory Emails at <b>src/Template</b> and under that directory create a View file called <b>index.ctp.</b> Copy the following code in that file.</p>
<p><b>src/Template/Emails/index.ctp</b></p>
<pre class="result notranslate">
Email Sent.
</pre>
<p>Before we send any email, we need to configure it. In the below screenshot, you can see that there are two transports, default and Gmail. We have used Gmail transport. You need to replace the “GMAIL USERNAME” with your Gmail username and “APP PASSWORD” with your applications password. You need to turn on 2-step verification in Gmail and create a new APP password to send email.</p>
<p><b>config/app.php</b></p>
<img src="images/gmail_username.jpg" alt="Gmail Username" />
<p>Execute the above example by visiting the following URL:<b>http://localhost:85/CakePHP/email</b></p>
<h3>Output</h3>
<p>Upon execution, you will receive the following output.</p>
<img src="images/emails.jpg" alt="Emails" />
<h1>CakePHP - Session Management</h1>
<p>Session allows us to manage unique users across requests and stores data for specific users. Session data can be accessible anywhere anyplace where you have access to request object, i.e., sessions are accessible from controllers, views, helpers, cells, and components.</p>
<h2>Accessing Session Object</h2>
<p>Session object can be created by executing the following code.</p>
<pre class="result notranslate">
$session = $this-&gt;request-&gt;session();
</pre>
<h2>Writing Session Data</h2>
<p>To write something in session, we can use the <b>write() session</b> method.</p>
<pre class="result notranslate">
Session::write($key, $value)
</pre>
<p>The above method will take two arguments, the <b>value</b> and the <b>key</b> under which the value will be stored.</p>
<h3>Example</h3>
<pre class="result notranslate">
$session-&gt;write('name', 'Virat Gandhi');
</pre>
<h2>Reading Session Data</h2>
<p>To retrieve stored data from session, we can use the <b>read() session</b> method.</p>
<pre class="result notranslate">
Session::read($key)
</pre>
<p>The above function will take only one argument that is <b>the key of the value</b> which was used at the time of writing session data. Once the correct key was provided then the function will return its value.</p>
<h3>Example</h3>
<pre class="result notranslate">
$session-&gt;read('name');
</pre>
<p>When you want to check whether particular data exists in the session or not, then you can use the <b>check() session</b> method.</p>
<pre class="result notranslate">
Session::check($key)
</pre>
<p>The above function will take only key as the argument.</p>
<h3>Example</h3>
<pre class="result notranslate">
if ($session-&gt;check('name')) {
   // name exists and is not null.
}
</pre>
<h2>Delete Session Data</h2>
<p>To delete data from session, we can use the <b>delete() session</b> method to delete the data.</p>
<pre class="result notranslate">
Session::delete($key)
</pre>
<p>The above function will take only key of the value to be deleted from session.</p>
<h3>Example</h3>
<pre class="result notranslate">
$session-&gt;delete('name');
</pre>
<p>When you want to read and then delete data from session then, we can use the <b>consume() session</b> method.</p>
<pre class="result notranslate">
static Session::consume($key)
</pre>
<p>The above function will take only key as argument.</p>
<h3>Example</h3>
<pre class="result notranslate">
$session-&gt;consume('name'); 
</pre>
<h2>Destroying a Session</h2>
<p>We need to destroy a user session when the user logs out from the site and to destroy the session the <b>destroy()</b> method is used.</p>
<pre class="result notranslate">
Session::destroy()
</pre>
<h3>Example</h3>
<pre class="result notranslate">
$session-&gt;destroy();
</pre>
<p>Destroying session will remove all session data from server but will not remove session cookie.</p>
<h2>Renew a Session</h2>
<p>In a situation where you want to renew user session then we can use the <b>renew() session</b> method.</p>
<pre class="result notranslate">
Session::renew()
</pre>
<h3>Example</h3>
<pre class="result notranslate">
$session-&gt;renew();
</pre>
<h2>Complete Session</h2>
<pre class="result notranslate">
Make changes in the <b>config/routes.php</b> file as shown in the following program.
</pre>
<p><b>config/routes.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   use Cake\Core\Plugin;
   use Cake\Routing\RouteBuilder;
   use Cake\Routing\Router;

   Router::defaultRouteClass('DashedRoute');
   Router::scope('/', function (RouteBuilder $routes) {
      $routes-&gt;connect('/sessionobject',
         ['controller'=&gt;'Sessions','action'=&gt;'index']);
      $routes-&gt;connect('/sessionread',
         ['controller'=&gt;'Sessions','action'=&gt;'retrieve_session_data']);
      $routes-&gt;connect('/sessionwrite',
         ['controller'=&gt;'Sessions','action'=&gt;'write_session_data']);
      $routes-&gt;connect('/sessioncheck',
         ['controller'=&gt;'Sessions','action'=&gt;'check_session_data']);
      $routes-&gt;connect('/sessiondelete',
         ['controller'=&gt;'Sessions','action'=&gt;'delete_session_data']);
      $routes-&gt;connect('/sessiondestroy',
         ['controller'=&gt;'Sessions','action'=&gt;'destroy_session_data']);
      $routes-&gt;fallbacks('DashedRoute');
   });
   Plugin::routes();
</pre>
<p>Create a <b>SessionsController.php</b> file at <b>src/Controller/SessionsController.php</b>. Copy the following code in the controller file.</p>
<p><b>src/Controller/SessionsController.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   namespace App\Controller;
   use App\Controller\AppController;

   class SessionsController extends AppController{
      public function retrieveSessionData(){
         //create session object
         $session = $this-&gt;request-&gt;session();
      
         //read data from session
         $name = $session-&gt;read('name');
         $this-&gt;set('name',$name);
      }
      public function writeSessionData(){
         //create session object
         $session = $this-&gt;request-&gt;session();
         
         //write data in session
         $session-&gt;write('name','Virat Gandhi');
      }
      public function checkSessionData(){
         //create session object
         $session = $this-&gt;request-&gt;session();
      
         //check session data
         $name = $session-&gt;check('name');
         $address = $session-&gt;check('address');
         $this-&gt;set('name',$name);
         $this-&gt;set('address',$address);
      }
      public function deleteSessionData(){
         //create session object
         $session = $this-&gt;request-&gt;session();
         
         //delete session data
         $session-&gt;delete('name');
      }
      public function destroySessionData(){
         //create session object
         $session = $this-&gt;request-&gt;session();
         
         //destroy session
         $session-&gt;destroy();
      }
   }
?&gt;
</pre>
<p>Create a directory <b>Sessions</b> at <b>src/Template</b> and under that directory create a <b>View</b> file called <b>write_session_data.ctp</b>. Copy the following code in that file.</p>
<p><b>src/Template/Sessions/write_session_data.ctp</b></p>
<pre class="result notranslate">
The data has been written in session.
</pre>
<p>Create another <b>View</b> file called <b>retrieve_session_data.ctp</b> under the same <b>Sessions</b> directory and copy the following code in that file.</p>
<p><b>src/Template/Sessions/retrieve_session_data.ctp</b></p>
<pre class="result notranslate">
Here is the data from session.
Name: &lt;?=$name;?&gt;
</pre>
<p>Create another <b>View</b> file called <b>check_session_data.ctp</b> under the same Sessions directory and copy the following code in that file.</p>
<p><b>src/Template/Sessions/check_session_data.ctp</b></p>
<pre class="prettyprint notranslate">
&lt;?php if($name): ?&gt;
name exists in the session.

&lt;?php else: ?&gt;
name doesn't exist in the database

&lt;?php endif;?&gt;
&lt;?php if($address): ?&gt;
address exists in the session.

&lt;?php else: ?&gt;
address doesn't exist in the database

&lt;?php endif;?&gt;
</pre>
<p>Create another  filbe <b>View</b> called <b>delete_session_data.ctp</b> under the same Sessions directory and copy the following code in that file.</p>
<p><b>src/Template/Sessions/delete_session_data.ctp</b></p>
<pre class="result notranslate">
Data deleted from session.
</pre>
<p>Create another <b>View</b> file called <b>destroy_session_data.ctp</b> under the same Sessions directory and copy the following code in that file.</p>
<p><b>src/Template/Sessions/destroy_session_data.ctp</b></p>
<pre class="result notranslate">
Session Destroyed.
</pre>
<h3>Output</h3>
<p>Execute the above example by visiting the following URL. This URL will help you write data in session.</p>
<p><b>http://localhost:85/CakePHP/session-write</b></p>
<img src="images/sessions.jpg" alt="Session" />
<p>Visit the following URL <b>to read session data</b> &minus; <b>http://localhost:85/CakePHP/session-read</b></p>
<img src="images/cakephp_sessions.jpg" alt="CakePHP Sessions" />
<p>Visit the following URL <b>to check session data</b> &minus; <b>http://localhost:85/CakePHP/sessioncheck</b></p>
<img src="images/sessions1.jpg" alt="Sessions" />
<p>Visit the following URL <b>to delete session data</b> &minus; <b>http://localhost:85/CakePHP/sessiondelete</b></p>
<img src="images/delete_sessions.jpg" alt="Delete Session" />
<p>Visit the following URL <b>to destroy session data</b> &minus; <b>http://localhost:85/CakePHP/sessiondestroy</b></p>
<img src="images/session_destroyed.jpg" alt="Session Destroyed" />
<h1>CakePHP - Cookie Management</h1>
<p>Handling Cookie with CakePHP is easy and secure. There is a CookieComponent class which is used for managing Cookie. The class provides several methods for working with Cookies.</p>
<h2>Write Cookie</h2>
<p>The <b>write()</b> method is used to write cookie. Following is the syntax of the write() method.</p>
<pre class="result notranslate">
Cake\Controller\Component\CookieComponent::write(mixed $key, mixed $value = null)
</pre>
<p>The write() method will take two arguments, <b>the name of cookie variable ($key)</b>, and <b>the value of cookie variable ($value)</b>.</p>
<h3>Example</h3>
<pre class="result notranslate">
$this-&gt;Cookie-&gt;write('name', 'Virat');
</pre>
<p>We can pass array of name, values pair to write multiple cookies.</p>
<h2>Read Cookie</h2>
<p>The <b>read()</b> method is used to read cookie. Following is the syntax of the read() method.</p>
<pre class="result notranslate">
Cake\Controller\Component\CookieComponent::read(mixed $key = null)
</pre>
<p>The read() method will take one argument, the name of cookie variable ($key).</p>
<h3>Example</h3>
<pre class="result notranslate">
echo $this-&gt;Cookie-&gt;read('name');
</pre>
<h2>Check Cookie</h2>
<p>The <b>check()</b> method is used to check whether a key/path exists and has a non-null value. Following is the syntax of the <b>check()</b> method.</p>
<pre class="result notranslate">
Cake\Controller\Component\CookieComponent::check($key)
</pre>
<h3>Example</h3>
<pre class="result notranslate">
echo $this-&gt;Cookie-&gt;check(‘name’);
</pre>
<h2>Delete Cookie</h2>
<p>The <b>delete()</b> method is used to delete cookie. Following is the syntax of the delete() method.</p>
<pre class="result notranslate">
Cake\Controller\Component\CookieComponent::delete(mixed $key)
</pre>
<p>The delete() method will take one argument, the name of cookie variable ($key) to delete.</p>
<h3>Example 1</h3>
<pre class="result notranslate">
$this-&gt;Cookie-&gt;delete('name');
</pre>
<h3>Example 2</h3>
<p>Make changes in the config/routes.php file as shown in the following program.</p>
<p><b>config/routes.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   use Cake\Core\Plugin;
   use Cake\Routing\RouteBuilder;
   use Cake\Routing\Router;

   Router::defaultRouteClass('DashedRoute');
   Router::scope('/', function (RouteBuilder $routes) {
      $routes-&gt;connect('cookie/write',['controller'=&gt;'Cookies','action'=&gt;'write_cookie']);
      $routes-&gt;connect('cookie/read',['controller'=&gt;'Cookies','action'=&gt;'read_cookie']);
      $routes-&gt;connect('cookie/check',['controller'=&gt;'Cookies','action'=&gt;'check_cookie']);
      $routes-&gt;connect('cookie/delete',['controller'=&gt;'Cookies','action'=&gt;'delete_cookie']);
      $routes-&gt;fallbacks('DashedRoute');
   });
   Plugin::routes();
</pre>
<p>Create a <b>CookiesController.php</b> file at <b>src/Controller/CookiesController.php</b>. Copy the following code in the controller file.</p>
<p><b>src/Controller/Cookies/CookiesController.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   namespace App\Controller;
   use App\Controller\AppController;
   use Cake\Controller\Component\CookieComponent;

   class CookiesController extends AppController{
      public $components = array('Cookie');
   
      public function writeCookie(){
         $this-&gt;Cookie-&gt;write('name', 'Virat');
      }
      public function readCookie(){
         $cookie_val = $this-&gt;Cookie-&gt;read('name');
         $this-&gt;set('cookie_val',$cookie_val);
      }
      public function checkCookie(){
         $isPresent = $this-&gt;Cookie-&gt;check('name');
         $this-&gt;set('isPresent',$isPresent);
      } 
      public function deleteCookie(){
         $this-&gt;Cookie-&gt;delete('name');
      }
   }
?&gt;
</pre>
<p>Create a directory <b>Cookies</b> at <b>src/Template</b> and under that directory create a <b>View</b> file called <b>write_cookie.ctp</b>. Copy the following code in that file.</p>
<p><b>src/Template/Cookie/write_cookie.ctp</b></p>
<pre class="result notranslate">
The cookie has been written.
</pre>
<p>Create another View file called <b>read_cookie.ctp</b> under the same Cookies directory and copy the following code in that file.</p>
<p><b>src/Template/Cookie/read_cookie.ctp</b></p>
<pre class="result notranslate">
The value of the cookie is: &lt;?php echo $cookie_val; ?&gt; 
</pre>
<p>Create another View file called <b>check_cookie.ctp</b> under the same Cookies directory and copy the following code in that file.</p>
<p><b>src/Template/Cookie/check_cookie.ctp</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   if($isPresent):
?&gt;
The cookie is present.

&lt;?php
   else:
?&gt;
The cookie isn't present.

&lt;?php
   endif;
?&gt;
</pre>
<p>Create another View file called <b>delete_cookie.ctp</b> under the same Cookies directory and copy the following code in that file.</p>
<p><b>src/Template/Cookie/delete_cookie.ctp</b></p>
<pre class="result notranslate">
The cookie has been deleted.
</pre>
<h3>Output</h3>
<p>Execute the above example by visiting the following URL &minus; <b>http://localhost:85/CakePHP/cookie/write</b></p>
<p>This will help you <b>write data in cookie.</b></p>
<img src="images/cookies.jpg" alt="Cookies" />
<p>Visit the following URL t<b>o read cookie data</b> &minus; <b>http://localhost:85/CakePHP/cookie/read</b></p>
<img src="images/cakephp_cookies.jpg" alt="CakePHP Cookies" />
<p>Visit the following URL <b>to check cookie data</b> &minus; <b>http://localhost:85/CakePHP/cookie/check</b></p>
<img src="images/cakephp_cookies1.jpg" alt="CakePHP Cookies" />
<p>Visit the following URL <b>to delete cookie data</b> &minus; <b>http://localhost:85/CakePHP/cookie/delete</b></p>
<img src="images/cookies_deleted.jpg" alt="Cookies Deleted" />
<h1>CakePHP - Security</h1>
<p>Security is another important feature while building web applications. It assures the users of the website that their data is secured. CakePHP provides some tools to secure your application.</p>
<h2>Encryption and Decryption</h2>
<p>Security library in CakePHP provides methods by which we can encrypt and decrypt data. Following are the two methods which are used for the same purpose.</p>
<pre class="result notranslate">
static Cake\Utility\Security::encrypt($text, $key, $hmacSalt = null)
static Cake\Utility\Security::decrypt($cipher, $key, $hmacSalt = null)
</pre>
<p>The encrypt method will take text and key as the argument to encrypt data and the return value will be the encrypted value with HMAC checksum.</p>
<p>To hash a data hash() method is used. Following is the syntax of the hash() method.</p>
<h3>Syntax</h3>
<pre class="result notranslate">
static Cake\Utility\Security::hash($string, $type = NULL, $salt = false)
</pre>
<h2>CSRF</h2>
<p>CSRF stands for <b>Cross Site Request Forgery</b>. By enabling the CSRF Component, you get protection against attacks. CSRF is a common vulnerability in web applications. It allows an attacker to capture and replay a previous request, and sometimes submit data requests using image tags or resources on other domains. The CSRF can be enabled by simply adding the <b>CsrfComponent</b> to your components array as shown below.</p>
<pre class="prettyprint notranslate">
public function initialize(){
   parent::initialize();
   $this-&gt;loadComponent('Csrf');
}
</pre>
<p>The CsrfComponent integrates seamlessly with <b>FormHelper</b>. Each time you create a form with FormHelper, it will insert a hidden field containing the CSRF token.</p>
<p>While this is not recommended, you may want to disable the CsrfComponent on certain requests. You can do so by using the controller’s event dispatcher, during the <b>beforeFilter() method</b>.</p>
<pre class="prettyprint notranslate">
public function beforeFilter(Event $event){
   $this-&gt;eventManager()-&gt;off($this-&gt;Csrf);
}
</pre>
<h2>Security Component</h2>
<p>Security Component applies tighter security to your application. It provides methods for various tasks like &minus;</p>
<ul class="list">
<li><p><b>Restricting which HTTP methods your application accepts</b> &minus; You should always verify the HTTP method being used before executing side-effects. You should check the HTTP method or use <b>Cake\Network\Request::allowMethod()</b> to ensure the correct HTTP method is used.</p></li>
<li><p><b>Form tampering protection</b> &minus; By default, the SecurityComponent prevents users from tampering with forms in specific ways. The SecurityComponent will prevent the following things &minus;</p>
<ul class="list">
<li><p>Unknown fields cannot be added to the form.</p></li>
<li><p>Fields cannot be removed from the form.</p></li>
<li><p>Values in hidden inputs cannot be modified.</p></li>
</ul>
</li>
<li><p><b>Requiring that SSL be used</b> &minus; all actions to require a SSL-secured.</p></li>
<li><p><b>Limiting cross controller communication</b> &minus; We can restrict which controller can send request to this controller. We can also restrict which actions can send request to this controller’s action.</p></li>
</ul>
<h3>Example</h3>
<p>Make changes in the <b>config/routes.php</b> file as shown in the following program.</p>
<p><b>config/routes.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   use Cake\Core\Plugin;
   use Cake\Routing\RouteBuilder;
   use Cake\Routing\Router;

   Router::defaultRouteClass('DashedRoute');
   Router::scope('/', function (RouteBuilder $routes) {
      $routes-&gt;connect('login',['controller'=&gt;'Logins','action'=&gt;'index']);
      $routes-&gt;fallbacks('DashedRoute'); 
   });
   Plugin::routes();
</pre>
<p>Create a <b>LoginsController.php</b> file at <b>src/Controller/LoginsController.php</b>. Copy the following code in the controller file.</p>
<p><b>src/Controller/LoginsController.php</b></p>
<pre class="result notranslate">
&lt;?php
   namespace App\Controller;
   use App\Controller\AppController;

   class LoginsController extends AppController{
      public function initialize(){
         parent::initialize();
         $this-&gt;loadComponent('Security');
      }
      public function index(){
      }
   }
?&gt;
</pre>
<p>Create a directory Logins at <b>src/Template</b> and under that directory create a <b>View</b> file called <b>index.ctp</b>. Copy the following code in that file.</p>
<p><b>src/Template/Logins/index.ctp</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   echo $this-&gt;Form-&gt;create("Logins",array('url'=&gt;'/login'));
   echo $this-&gt;Form-&gt;input('username');
   echo $this-&gt;Form-&gt;input('password');
   echo $this-&gt;Form-&gt;button('Submit');
   echo $this-&gt;Form-&gt;end();
?&gt;
</pre>
<p>Execute the above example by visiting the following URL &minus;<b>http://localhost:85/CakePHP/login</b></p>
<h3>Output</h3>
<p>Upon execution, you will receive the following output.</p>
<img src="images/log_ins.jpg" alt="Loggins" />
<h1>CakePHP - Validation</h1>
<p>Often while making websites we need to validate certain things before processing data further. CakePHP provides validation package to build validators that can validate data with ease.</p>
<h2>Validation Methods</h2>
<p>CakePHP provides various validation methods in the Validation Class. Some of the most popular of them are listed below.</p>
<table class="table table-bordered">
<tr>
<td>Syntax</td>
<td>Add (string $field, array|string $name, array|Cake\Validation\ValidationRule $rule [] )</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>The name of the field from which the rule will be added.</p></li>
<li><p>The alias for a single rule or multiple rules array.</p></li>
<li><p>The rule to add</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>$this</td>
</tr>
<tr>
<td>Description</td>
<td>Adds a new rule to a field's rule set. If second argument is an array, then rules list for the field will be replaced with second argument and third argument will be ignored.</td>
</tr>
</table>
<table class="table table-bordered">
<tr>
<td>Syntax</td>
<td>allowEmpty (string <i>$field</i>, boolean|string|callable <i>$when</i> true, string|null <i>$message</i> null)</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>The name of the field.</p></li>
<li><p>Indicates when the field is allowed to be empty. Valid values are <b>true (always), 'create', 'update'</b>. If a callable is passed, then the field will be left empty only when the callback returns true.</p></li>
<li><p>The message to show if the field is not.</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>$this</td>
</tr>
<tr>
<td>Description</td>
<td>Allows a field to be empty.</td>
</tr>
</table>
<table class="table table-bordered">
<tr>
<td>Syntax</td>
<td>alphanumeric (string <i>$field</i>, string|null <i>$message</i> null, string|callable|null <i>$when</i> null)</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>The field you want to apply the rule to.</p></li>
<li><p>The error message when the rule fails.</p></li>
<li><p>Either 'create' or 'update' or a callable that returns true when the validation rule should be applied.</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>$this</td>
</tr>
<tr>
<td>Description</td>
<td>Add an alphanumeric rule to a field.</td>
</tr>
</table>
<table class="table table-bordered">
<tr>
<td>Syntax</td>
<td>creditCard (string <i>$field</i>, string <i>$type</i> 'all', string|null <i>$message</i> null, string|callable|null <i>$when</i> null)</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>The field you want to apply the rule to.</p></li>
<li><p>The type of cards you want to allow. Defaults to 'all'. You can also supply an array of accepted card types, for example, ['mastercard', 'visa', 'amex'].</p></li>
<li><p>The error message when the rule fails.</p></li>
<li><p>Either 'create' or 'update' or a callable that returns true when the validation rule should be applied.</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>$this</td>
</tr>
<tr>
<td>Description</td>
<td>Add a credit card rule to a field.</td>
</tr>
</table>
<table class="table table-bordered">
<tr>
<td>Syntax</td>
<td>Email (string <i>$field</i>, boolean <i>$checkMX</i> false, string|null <i>$message</i> null, string|callable|null <i>$when</i> null)</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>The field you want to apply the rule to.</p></li>
<li><p>Whether or not to check the MX records.</p></li>
<li><p>The error message when the rule fails.</p></li>
<li><p>Either 'create' or 'update' or a callable that returns true when the validation rule should be applied.</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>$this</td>
</tr>
<tr>
<td>Description</td>
<td>Add an email validation rule to a field.</td>
</tr>
</table>
<table class="table table-bordered">
<tr>
<td>Syntax</td>
<td>maxLength (string <i>$field</i>, integer <i>$max</i>, string|null <i>$message</i> null, string|callable|null <i>$when</i> null)</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>The field you want to apply the rule to.</p></li>
<li><p>The maximum length allowed.</p></li>
<li><p>The error message when the rule fails.</p></li>
<li><p>Either <b>'create'</b> or <b>'update'</b> or a <b>callable</b> that returns true when the validation rule should be applied.</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>$this</td>
</tr>
<tr>
<td>Description</td>
<td>Add a string length validation rule to a field.</td>
</tr>
</table>
<table class="table table-bordered">
<tr>
<td>Syntax</td>
<td>minLength (string <i>$field</i>, integer <i>$min</i>, string|null <i>$message</i> null, string|callable|null <i>$when</i> null)</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>The field you want to apply the rule to.</p></li>
<li><p>The maximum length allowed.</p></li>
<li><p>The error message when the rule fails.</p></li>
<li><p>Either <b>'create'</b> or <b>'update'</b> or a <b>callable</b> that returns true when the validation rule should be applied.</p></li>
</ul>
</td>
</tr>
<tr>
<td>Returns</td>
<td>$this</td>
</tr>
<tr>
<td>Description</td>
<td>Add a string length validation rule to a field.</td>
</tr>
</table>
<table class="table table-bordered">
<tr>
<td>Syntax</td>
<td>notBlank (string <i>$field</i>, string|null <i>$message</i> null, string|callable|null <i>$when</i> null)</td>
</tr>
<tr>
<td style="vertical-align:middle;">Parameters</td>
<td>
<ul class="list">
<li><p>The field you want to apply the rule to.</p></li>
<li><p>The error message when the rule fails.</p></li>
<li><p>Either <b>'create'</b> or <b>'update'</b> or a <b>callable</b> that returns true when the validation rule should be applied.</p></li>
</ul></td>
</tr>
<tr>
<td>Returns</td>
<td>$this</td>
</tr>
<tr>
<td>Description</td>
<td>Add a notBlank rule to a field.</td>
</tr>
</table>
<h1>CakePHP - Creating Validators</h1>
<p>Validator can be created by adding the following two lines in the controller.</p>
<pre class="result notranslate">
use Cake\Validation\Validator;
$validator = new Validator();
</pre>
<h2>Validating Data</h2>
<p>Once we have created validator, we can use the validator object to validate data. The following code explains how we can validate data for login webpage.</p>
<pre class="result notranslate">
$validator-&gt;notEmpty('username', 'We need username.')-&gt;add('username',
   'validFormat', ['rule' =&gt; 'email','message' =&gt; 'E-mail must be valid']);

$validator-&gt;notEmpty('password', 'We need password.');
$errors = $validator-&gt;errors($this-&gt;request-&gt;data());
</pre>
<p>Using the $validator object we have first called the <b>notEmpty()</b> method which will ensure that the username must not be empty. After that we have chained the <b>add()</b> method to add one more validation for proper email format.</p>
<p>After that we have added validation for password field with notEmpty() method which will confirms that password field must not be empty.</p>
<h3>Example</h3>
<p>Make Changes in the config/routes.php file as shown in the following program.</p>
<p><b>config/routes.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   use Cake\Core\Plugin;
   use Cake\Routing\RouteBuilder;
   use Cake\Routing\Router;

   Router::defaultRouteClass('DashedRoute');
   Router::scope('/', function (RouteBuilder $routes) {
      $routes-&gt;connect('validation',['controller'=&gt;'Valids','action'=&gt;'index']);
      $routes-&gt;fallbacks('DashedRoute');
   });
   Plugin::routes();
</pre>
<p>Create a <b>ValidsController.php</b> file at <b>src/Controller/ValidsController.php</b>. Copy the following code in the controller file.</p>
<p><b>src/Controller/ValidsController.php</b></p>
<pre class="result notranslate">
&lt;?php
   namespace App\Controller;
   use App\Controller\AppController;
   use Cake\Validation\Validator;

   class ValidsController extends AppController{
      public function index(){
         $validator = new Validator();
         $validator-&gt;notEmpty('username', 'We need username.')
            -&gt;add('username', 'validFormat', ['rule' =&gt; 'email','message' 
            =&gt; 'E-mail must be valid']);
         
         $validator-&gt;notEmpty('password', 'We need password.');
         $errors = $validator-&gt;errors($this-&gt;request-&gt;data());
         $this-&gt;set('errors',$errors);
      }
   }
?&gt;
</pre>
<p>Create a directory <b>Valids</b> at <b>src/Template</b> and under that directory create a <b>View</b> file called <b>index.ctp</b>. Copy the following code in that file.</p>
<p><b>src/Template/Valids/index.ctp</b></p>
<pre class="prettyprint notranslate">
&lt;?php
   if($errors){
      foreach($errors as $error)
      foreach($error as $msg)
      
      echo '&lt;font color = "red"&gt;'.$msg.'&lt;/font&gtl';
   } else {
      echo "No errors.";
   }

   echo $this-&gt;Form-&gt;create("Logins",array('url'=&gt;'/validation'));
   echo $this-&gt;Form-&gt;input('username');
   echo $this-&gt;Form-&gt;input('password');
   echo $this-&gt;Form-&gt;button('Submit');
   echo $this-&gt;Form-&gt;end();
?&gt;
</pre>
<p>Execute the above example by visiting the following URL &minus;<b>http://localhost:85/CakePHP/validation</b></p>
<h3>Output</h3>
<p>Click on the submit button without entering anything. You will receive the following output.</p>
<img src="images/validation.jpg" alt="Validation" />
<hr />
<div class="pre-btn">
<a href="cakephp_creating_validators.html"><i class="icon icon-arrow-circle-o-left big-font"></i> Previous Page</a>
</div>
<div class="print-btn center">
<a href="../cgi-bin/printpage.html" target="_blank"><i class="icon icon-print big-font"></i> Print</a>
</div>
<div class="nxt-btn">
<a href="cakephp_useful_resources.html">Next Page <i class="icon icon-arrow-circle-o-right big-font"></i>&nbsp;</a>
</div>
<hr />
<!-- PRINTING ENDS HERE -->
<div class="bottomgooglead">
<div class="bottomadtag">Advertisements</div>
<script type="text/javascript"><!--
var width = 580;
var height = 400;
var format = "580x400_as";
if( window.innerWidth < 468 ){
   width = 300;
   height = 250;
   format = "300x250_as";
}
google_ad_client = "pub-7133395778201029";
google_ad_width = width;
google_ad_height = height;
google_ad_format = format;
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
</div>
</div>
<div class="row">
<div class="col-md-3" id="rightbar">
<div class="simple-ad">
<a href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.facebook.com/sharer.php?u=' + 'http://www.tutorialspoint.com/cakephp/cakephp_quick_guide.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/facebookIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://twitter.com/share?url=' + 'http://www.tutorialspoint.com/cakephp/cakephp_quick_guide.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/twitterIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.linkedin.com/cws/share?url=' + 'http://www.tutorialspoint.com/cakephp/cakephp_quick_guide.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/linkedinIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://plus.google.com/share?url=http://www.tutorialspoint.com/cakephp/cakephp_quick_guide.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/googlePlusIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.stumbleupon.com/submit?url=http://www.tutorialspoint.com/cakephp/cakephp_quick_guide.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/StumbleUponIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://reddit.com/submit?url=http://www.tutorialspoint.com/cakephp/cakephp_quick_guide.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=656,top='+sTop+',left='+sLeft);return false;">
<img src="../images/reddit.jpg" alt="img" />
</a>
</div>
<div class="rightgooglead">
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 300;
google_ad_height = 250;
google_ad_format = "300x250_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
<div class="rightgooglead">
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 300;
google_ad_height = 600;
google_ad_format = "300x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
<div class="rightgooglead">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-2537027957187252";
/* Right Side Ad */
google_ad_slot = "right_side_ad";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
</div>
</div>
</div>
</div>
</div>

<div class="footer-copyright">
<div class="container">
<div class="row">
<div class="col-md-1">
<a href="../index-2.html" class="logo"> <img alt="Tutorials Point" class="img-responsive" src="../scripts/img/logo-footer.png"> </a>
</div>
<div class="col-md-4 col-sm-12 col-xs-12">
   <nav id="sub-menu">
      <ul>
         <li><a href="../about/tutorials_writing.html">Write for us</a></li>
         <li><a href="../about/faq.html">FAQ's</a></li>
         <li><a href="../about/about_helping.html">Helping</a></li>
         <li><a href="../about/contact_us.html">Contact</a></li>
      </ul>
   </nav>
</div>
<div class="col-md-3 col-sm-12 col-xs-12">
<p>&copy; Copyright 2017. All Rights Reserved.</p>
</div>
<div class="col-md-4 col-sm-12 col-xs-12">
   <div class="news-group">
      <input type="text" class="form-control-foot search" name="textemail" id="textemail" autocomplete="off" placeholder="Enter email for newsletter" onfocus="if (this.value == 'Enter email for newsletter...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Enter email for newsletter...';}">
      <span class="input-group-btn"> <button class="btn btn-default btn-footer" id="btnemail" type="submit" onclick="javascript:void(0);">go</button> </span>
      <div id="newsresponse"></div>
   </div>
</div>
</div>
</div>
</div>
</div>
<!-- Libs -->
<script type="text/javascript" src="../theme/js/custom-min7b30.js?v=4"></script>
<script src="../../www.google-analytics.com/urchin.js">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
$('.pg-icon').click(function(){
   $('.wrapLoader').show();
});
</script>
</div>
</body>

<!-- Mirrored from www.tutorialspoint.com/cakephp/cakephp_quick_guide.htm by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Aug 2017 17:51:38 GMT -->
</html>
