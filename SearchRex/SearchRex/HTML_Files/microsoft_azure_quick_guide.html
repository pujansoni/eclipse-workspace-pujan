<!DOCTYPE html>
<!--[if IE 8]><html class="ie ie8"> <![endif]-->
<!--[if IE 9]><html class="ie ie9"> <![endif]-->
<!--[if gt IE 9]><!-->	<html> <!--<![endif]-->

<!-- Mirrored from www.tutorialspoint.com/microsoft_azure/microsoft_azure_quick_guide.htm by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Aug 2017 16:58:22 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<!-- Basic -->
<meta charset="utf-8">
<title>Microsoft Azure Quick Guide</title>
<meta name="description" content="Microsoft Azure Quick Guide - Learn Microsoft Azure in simple and easy steps starting from Cloud Computing Overview, Windows Azure, Components, Compute Module, Fabric Controller, Storage, Blobs, Queues, Tables, CDN, Applications, Security, Datacenters, Scenarios, Management Portal, Create Virtual Network, Deploying Virtual Machines, Endpoint Configuration, Point-to-Site, Site-to-Site Connectivity, Traffic Manager, PowerShell, Monitoring Virtual Machines, Setting Up Alert Rules, Application Deployment, Backup and Recovery, Self-Service Capabilities, Multi-Factor Authentication, Forefront Identity Manager, Data Import and Export Job, Websites, Scalability, Disk Configuration, Disk Caching, Personalize Azure Access, Personalize Company Branding, Self-Service Password Reset, Group Management, Create a Group, Security Reports and Alerts, Orchestrated Recovery, Health Monitoring, Upgrades." /> 
<meta name="keywords" content="Microsoft Azure, Tutorial, Learning, Beginners, Cloud Computing Overview, Windows Azure, Components, Compute Module, Fabric Controller, Storage, Blobs, Queues, Tables, CDN, Applications, Security, Datacenters, Scenarios, Management Portal, Create Virtual Network, Deploying Virtual Machines, Endpoint Configuration, Point-to-Site, Site-to-Site Connectivity, Traffic Manager, PowerShell, Monitoring Virtual Machines, Setting Up Alert Rules, Application Deployment, Backup and Recovery, Self-Service Capabilities, Multi-Factor Authentication, Forefront Identity Manager, Data Import and Export Job, Websites, Scalability, Disk Configuration, Disk Caching, Personalize Azure Access, Personalize Company Branding, Self-Service Password Reset, Group Management, Create a Group, Security Reports and Alerts, Orchestrated Recovery, Health Monitoring, Upgrades." />
<base  />
<link rel="shortcut icon" href="../favicon.ico" type="image/x-icon" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes">
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="website" />
<meta property="fb:app_id" content="471319149685276" />
<meta property="og:site_name" content="www.tutorialspoint.com" />
<meta name="robots" content="index, follow"/>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="author" content="tutorialspoint.com">
<script type="text/javascript" src="../theme/js/script-min-v4.js"></script>
<link rel="stylesheet" href="../theme/css/style-min5e1f.css?v=2">
<!-- Head Libs -->
<!--[if IE 8]>
<link rel="stylesheet" type="text/css" href="/theme/css/ie8.css">
<![endif]-->
<style>
select{ border:0 !important; outline: 1px inset black !important; outline-offset: -1px !important; }
ul.nav-list.primary>li a.videolink{    background: none; margin: 0px; padding: 0px; border: 1px solid #d6d6d6;}
div.feature-box div.feature-box-icon, .col-md-3 .course-box, li.heading, div.footer-copyright { background: #036db0 url(../images/pattern.png) repeat center center !important;}
.sub-main-menu .sub-menuu div:hover, .sub-main-menu .viewall, header nav ul.nav-main li a:hover, button.btn-responsive-nav, header div.search button.btn-default { background: #036db0 !important;}
.submenu-item{ border-bottom: 2px solid #036db0 !important; border-top: 2px solid #036db0 !important }
.ace_scroller{overflow: auto!important;}
</style>
<script>
$(document).ready(function() {
  $('input[name="q"]').keydown(function(event){
    if(event.keyCode == 13) {
      event.preventDefault();
      return false;
    }
  });
});
</script>
</head>
<body onload="prettyPrint()">
<div class="wrapLoader">
   <div class="imgLoader">
      <img  src="../images/loading-cg.gif" alt="" width="70" height="70" />
   </div>
</div>
<header>
   <div class="container">			
      <h1 class="logo">
      <a href="../index-2.html" title="tutorialspoint">
      <img alt="tutorialspoint" src="images/logo.png">
      </a>
      </h1>			
      <nav>
         <ul class="nav nav-pills nav-top">
            <li><a href="../about/about_careers.html" style="background: #fffb09; font-weight: bold;"><i class="icon icon-suitcase"></i> Jobs</a></li>
            <li> <a href="http://www.sendfiles.net/"><i class="fa fa-send"></i> &nbsp;SENDFiles</a> </li>
            <li> <a href="../whiteboard.html"><img src="../theme/css/icons/image-editor.png" alt="Whiteboard" title="Whiteboard"> &nbsp;Whiteboard</a> </li>
            <li> <a href="../netmeeting.html"><i class="fa-camera"></i> &nbsp;Net Meeting</a> </li>
            <li> <a href="../online_dev_tools.html"> <i class="dev-tools-menu" style="opacity:.5"></i> Tools </a> </li>
            <li> <a href="../articles/index.html"><i class="icon icon-file-text-o"></i> &nbsp;Articles</a> </li>            
            <li class="top-icons">
              <ul class="social-icons">
              <li class="facebook"><a href="https://www.facebook.com/tutorialspointindia" target="_blank" data-placement="bottom" title="tutorialspoint @ Facebook">Facebook</a></li>
              <li class="googleplus"><a href="https://plus.google.com/u/0/116678774017490391259/posts" target="_blank" data-placement="bottom" title="tutorialspoint @ Google+">Google+</a></li>
              <li class="twitter"><a href="https://www.twitter.com/tutorialspoint" target="_blank" data-placement="bottom" title="tutorialspoint @ Twitter">Twitter</a></li>
              <li class="linkedin"><a href="https://www.linkedin.com/company/tutorialspoint" target="_blank" data-placement="bottom" title="tutorialspoint @ Linkedin">Linkedin</a></li>
              <li class="youtube"><a href="https://www.youtube.com/channel/UCVLbzhxVTiTLiVKeGV7WEBg" target="_blank" data-placement="bottom" title="tutorialspoint YouTube">YouTube</a></li>
              </ul>
           </li>
         </ul>
      </nav>
         <!-- search code here  --> 
      <button class="btn btn-responsive-nav btn-inverse" data-toggle="collapse" data-target=".nav-main-collapse" id="pull" style="top: 24px!important"> <i class="icon icon-bars"></i> </button>
   </div>
  
   <div class="navbar nav-main">
      <div class="container">
         <nav class="nav-main mega-menu">
            <ul class="nav nav-pills nav-main" id="mainMenu">
               <li class="dropdown no-sub-menu"> <a class="dropdown" href="../index-2.html"><i class="icon icon-home"></i> Home</a> </li>   
               <li class="dropdown" id="liTL"><a class="dropdown" href="javascript:void(0);"><span class="tut-lib"> Tutorials Library <i class="fa-caret-down"></i></span></a></li>
               <li class="dropdown no-sub-menu"><a class="dropdown" href="../codingground.html"><i class="fa-code"></i> Coding Ground </a> </li>
               <li class="dropdown no-sub-menu"><a class="dropdown" href="../tutor_connect/index.html"><i class="fa-user"> </i> Tutor Connect</a></li>
               <li class="dropdown no-sub-menu"><a class="dropdown" href="../videotutorials/index.html"><i class="fa-toggle-right"></i> Videos </a></li>
               <li class="dropdown no-sub-menu">
                  <div class="searchform-popup">
                     <input class="header-search-box" type="text" id="search-string" name="q" placeholder="Search your favorite tutorials..." onfocus="if (this.value == 'Search your favorite tutorials...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search your favorite tutorials...';}" autocomplete="off">
                     <div class="magnifying-glass"><i class="icon-search"></i> Search </div>
                 </div>
               </li>
            </ul>
         </nav>
         <div class="submenu-item sub-main-menu" id="top-sub-menu"></div>
         
      </div>
   </div>	
</header>
<div style="clear:both;"></div>
<div role="main" class="main">
<div class="container">
<div class="row">
<div class="col-md-2">
<aside class="sidebar">
<div class="mini-logo">
<img src="images/microsoft-azure-mini-logo.jpg" alt="Microsoft Azure Tutorial" />
</div>
<ul class="nav nav-list primary left-menu" >
<li class="heading">Microsoft Azure Tutorial</li>
<li><a href="index.html">Microsoft Azure - Home</a></li>
<li><a href="cloud_computing_overview.html">Cloud Computing - Overview</a></li>
<li><a href="microsoft_azure_windows.html">Microsoft Azure - Windows</a></li>
<li><a href="microsoft_azure_components.html">Microsoft Azure - Components</a></li>
<li><a href="microsoft_azure_compute_module.html">Microsoft Azure - Compute Module</a></li>
<li><a href="microsoft_azure_fabric_controller.html">Microsoft Azure - Fabric Controller</a></li>
<li><a href="microsoft_azure_storage.html">Microsoft Azure - Storage</a></li>
<li><a href="microsoft_azure_blobs.html">Microsoft Azure - Blobs</a></li>
<li><a href="microsoft_azure_queues.html">Microsoft Azure - Queues</a></li>
<li><a href="microsoft_azure_tables.html">Microsoft Azure - Tables</a></li>
<li><a href="microsoft_azure_cdn.html">Microsoft Azure - CDN</a></li>
<li><a href="microsoft_azure_applications.html">Microsoft Azure - Applications</a></li>
<li><a href="microsoft_azure_security.html">Microsoft Azure - Security</a></li>
<li><a href="microsoft_azure_datacenters.html">Microsoft Azure - Datacenters</a></li>
<li><a href="microsoft_azure_scenarios.html">Microsoft Azure - Scenarios</a></li>
</ul>
<ul class="nav nav-list primary left-menu" >
<li class="heading">Microsoft Azure Advanced</li>
<li><a href="microsoft_azure_management_portal.html">Microsoft Azure - Management Portal</a></li>
<li><a href="microsoft_azure_create_virtual_network.html">Azure - Create Virtual Network</a></li>
<li><a href="microsoft_azure_deploying_virtual_machines.html">Azure - Deploying Virtual Machines</a></li>
<li><a href="microsoft_azure_endpoint_configuration.html">Azure - Endpoint Configuration</a></li>
<li><a href="microsoft_azure_point_to_site_connectivity.html">Azure - Point-to-Site Connectivity</a></li>
<li><a href="microsoft_azure_site_to_site_connectivity.html">Azure - Site-to-Site Connectivity</a></li>
<li><a href="microsoft_azure_traffic_manager.html">Microsoft Azure - Traffic Manager</a></li>
<li><a href="microsoft_azure_powershell.html">Microsoft Azure - PowerShell</a></li>
<li><a href="microsoft_azure_monitoring_virtual_machines.html">Azure - Monitoring Virtual Machines</a></li>
<li><a href="microsoft_azure_setting_up_alert_rules.html">Azure - Setting Up Alert Rules</a></li>
<li><a href="microsoft_azure_application_deployment.html">Azure - Application Deployment</a></li>
<li><a href="microsoft_azure_backup_recovery.html">Microsoft Azure - Backup &amp; Recovery</a></li>
<li><a href="microsoft_azure_self_service_capabilities.html">Azure - Self-Service Capabilities</a></li>
<li><a href="microsoft_azure_multi_factor_authentication.html">Azure - Multi-Factor Authentication</a></li>
<li><a href="microsoft_azure_forefront_identity_manager.html">Azure - Forefront Identity Manager</a></li>
<li><a href="microsoft_azure_data_import_export_job.html">Azure - Data Import &amp; Export Job</a></li>
<li><a href="microsoft_azure_websites.html">Microsoft Azure - Websites</a></li>
<li><a href="microsoft_azure_scalability.html">Microsoft Azure - Scalability</a></li>
<li><a href="microsoft_azure_disk_configuration.html">Microsoft Azure - Disk Configuration</a></li>
<li><a href="microsoft_azure_disk_caching.html">Microsoft Azure - Disk Caching</a></li>
<li><a href="microsoft_azure_personalize_access.html">Microsoft Azure - Personalize Access</a></li>
<li><a href="microsoft_azure_personalize_company_branding.html">Azure - Personalize Company Brand</a></li>
<li><a href="microsoft_azure_self_service_password_reset.html">Azure - Self-Service Password Reset</a></li>
<li><a href="microsoft_azure_self_service_group_management.html">Microsoft Azure - Self-Service Group</a></li>
<li><a href="microsoft_azure_create_group.html">Microsoft Azure - Create a Group</a></li>
<li><a href="microsoft_azure_security_reports_alerts.html">Azure - Security Reports &amp; Alerts</a></li>
<li><a href="microsoft_azure_orchestrated_recovery.html">Azure - Orchestrated Recovery</a></li>
<li><a href="microsoft_azure_health_monitoring.html">Microsoft Azure - Health Monitoring</a></li>
<li><a href="microsoft_azure_upgrades.html">Microsoft Azure - Upgrades</a></li>
</ul>
<ul class="nav nav-list primary left-menu" >
<li class="heading">Microsoft Azure Useful Resources</li>
<li><a href="microsoft_azure_quick_guide.html">Microsoft Azure - Quick Guide</a></li>
<li><a href="microsoft_azure_useful_resources.html">Microsoft Azure - Useful Resources</a></li>
<li><a href="microsoft_azure_discussion.html">Microsoft Azure - Discussion</a></li>
</ul>
<ul class="nav nav-list primary push-bottom left-menu special">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="../developers_best_practices/index.html">Developer's Best Practices</a></li>
<li><a target="_top" href="../questions_and_answers.html">Questions and Answers</a></li>
<li><a target="_top" href="../effective_resume_writing.html">Effective Resume Writing</a></li>
<li><a target="_top" href="../hr_interview_questions/index.html">HR Interview Questions</a></li>
<li><a target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</aside>
</div>
<!-- PRINTING STARTS HERE -->
<div class="row">
<div class="content">
<div class="col-md-7 middle-col">
<h1>Microsoft Azure - Quick Guide</h1>
<div class="topgooglead">
<hr />
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt"> 
</script>
</div>
<hr />
<div class="pre-btn">
<a href="microsoft_azure_upgrades.html"><i class="icon icon-arrow-circle-o-left big-font"></i> Previous Page</a>
</div>
<div class="nxt-btn">
<a href="microsoft_azure_useful_resources.html">Next Page <i class="icon icon-arrow-circle-o-right big-font"></i>&nbsp;</a>
</div>
<div class="clearer"></div>
<hr />
<h1>Cloud Computing - Overview</h1>
<p>The popular trend in today's technology driven world is ‘Cloud Computing’. Cloud computing can be referred to as the storing and accessing of data over the internet rather than your computer's hard drive. This means you don't access the data from either your computer's hard drive or over a dedicated computer network (home or office network). Cloud computing means data is stored at a remote place and is synchronized with other web information.</p>  
<p>One prominent example of cloud computing is Office 365 which allows users to store, access, edit their MS Office documents online (in browser) without installing the actual program on their device.</p>
<img src="images/cloud_computing.jpg" alt="Cloud Computing" />
<h2>Architecture of Cloud Computing</h2>
<p>The architecture of cloud computing comprises of the following components &minus;</p>
<ul class="list">
<li>Front-end device</li>
<li>Back-end platform</li>
<li>Cloud-based delivery</li>
<li>Network</li>
</ul>
<p><b>Front-end Devices</b> &minus; These are basically the devices that are used by clients to access the data or program using the browser or special applications.</p> 
<p><b>Back-end Platform</b> &minus; There are various computers, servers, virtual machines, etc. that combine to become a back-end platform.</p>
<h2>Types of Cloud</h2>
<p>The storage options on cloud is in 3 forms &minus;</p>
<ul class="list">
<li>Public</li>
<li>Private</li>
<li>Hybrid</li>
</ul>
<img src="images/cloud_type.jpg" alt="Types of Cloud" />
<p><b>Public Cloud</b> &minus; A service provider makes the clouds available to the general public which is termed as a public cloud. These clouds are accessed through internet by users. These are open to public and their infrastructure is owned and operated by service providers as in case of Google and Microsoft.</p>  
<p><b>Private Cloud</b> &minus; These clouds are dedicated to a particular organization. That particular organization can use the cloud for storing the company's data, hosting business application, etc. The data stored on private cloud can't be shared with other organizations. The cloud is managed either by the organization itself or by the third party.</p>
<p><b>Hybrid Cloud</b> &minus; When two or more clouds are bound together to offer the advantage of both public and private clouds, they are termed as Hybrid Cloud. Organizations can use private clouds for sensitive application, while public clouds for non-sensitive applications. The hybrid clouds provide flexible, scalable and cost-effective solutions to the organizations.</p> 
<h2>Benefits of Cloud</h2>
<p>There are many benefits of clouds. Some of them are listed below.</p>
<ul class="list">
<li><p>Cloud service offers scalability. Allocation and de-allocation of resources is dynamically as per demand.</p></li>
<li><p>It saves on cost by reducing capital infrastructure.</p></li> 
<li><p>It allows the user to access the application independent of their location and hardware configuration.</p></li>  
<li><p>It simplifies the network and lets the client access the application without buying license for individual machine.</p></li>  
<li><p>Storing data on clouds is more reliable as it is not lost easily.</p></li>
</ul>
<h2>SPI</h2>
<p>Next comes how cloud services are categorized. S stand for Software, P stands for Platform and I for Infrastructure in SPI. SaaS is Software as a service; PaaS is Platform as a service and IaaS is Infrastructure as a Service.</p>
<img src="images/spi.jpg" alt="SPI" />
<p>Following are the live examples of these models.</p>
<ul class="list">
<li><p><b>SAAS Model</b> &minus; E-mail (Gmail, Yahoo, etc.)</p></li>
<li><p><b>PASS Model</b> &minus; Microsoft Azure</p></li>
<li><p><b>IAAS Model</b> &minus; Amazon S3</li>
</ul>
<h1>Microsoft Azure - Windows</h1>
<p>There are many cloud computing platforms offered by different organizations. Windows Azure is one of them, which is provided by Microsoft. Azure can be described as the managed data centers that are used to build, deploy, manage the applications and provide services through a global network. The services provided by Microsoft Azure are PaaS and IaaS. Many programming languages and frameworks are supported by it.</p>  
<h2>Azure as PaaS (Platform as a Service)</h2>
<p>As the name suggests, a platform is provided to clients to develop and deploy software. The clients can focus on the application development rather than having to worry about hardware and infrastructure. It also takes care of most of the operating systems, servers and networking issues.</p>
<h3>Pros</h3>
<ul class="list">
<li><p>The overall cost is low as the resources are allocated on demand and servers are automatically updated.</p></li>
<li><p>It is less vulnerable as servers are automatically updated and being checked for all known security issues. The whole process is not visible to developer and thus does not pose a risk of data breach.</p></li>
<li><p>Since new versions of development tools are tested by the Azure team, it becomes easy for developers to move on to new tools. This also helps the developers to meet the customer’s demand by quickly adapting to new versions.</p></li>
</ul>
<h3>Cons</h3>
<ul class="list">
<li><p>There are portability issues with using PaaS. There can be a different environment at Azure, thus the application might have to be adapted accordingly.</p></li>
</ul>
<h2>Azure as IaaS (Infrastructure as a Service)</h2>
<p>It is a managed compute service that gives complete control of the operating systems and the application platform stack to the application developers. It lets the user to access, manage and monitor the data centers by themselves.</p>  
<h3>Pros</h3>
<ul class="list">
<li><p>This is ideal for the application where complete control is required. The virtual machine can be completely adapted to the requirements of the organization or business.</p></li>
<li><p>IaaS facilitates very efficient design time portability. This means application can be migrated to Windows Azure without rework. All the application dependencies such as database can also be migrated to Azure.</p></li>
<li><p>IaaS allows quick transition of services to clouds, which helps the vendors to offer services to their clients easily. This also helps the vendors to expand their business by selling the existing software or services in new markets.</p></li>
</ul>
<h3>Cons</h3>
<ul class="list">
<li><p>Since users are given complete control they are tempted to stick to a particular version for the dependencies of applications. It might become difficult for them to migrate the application to future versions.</p></li>
<li><p>There are many factors which increases the cost of its operation. For example, higher server maintenance for patching and upgrading software.</p></li>
<li><p>There are lots of security risks from unpatched servers. Some companies have welldefined processes for testing and updating on-premise servers for security vulnerabilities. These processes need to be extended to the cloud-hosted IaaS VMs to mitigate hacking risks.</p></li>
<li><p>The unpatched servers pose a great security risk. Unlike PaaS, there is no provision of automatic server patching in IaaS. An unpatched server with sensitive information can be very vulnerable affecting the entire business of an organization.</p></li>
<li><p>It is difficult to maintain legacy apps in Iaas.  It can be stuck with the older version of the operating systems and application stacks. Thus, resulting in applications that are difficult to maintain and add new functionality over the period of time.</p></li>
</ul>
<p>It becomes necessary to understand the pros and cons of both services in order to choose the right one according your requirements. In conclusion it can be said that, PaaS has definite economic advantages for operations over IaaS for commodity applications. In PaaS, the cost of operations breaks the business model. Whereas, IaaS gives complete control of the OS and application platform stack.</p> 
<h2>Azure Management Portal</h2>
<p>Azure Management Portal is an interface to manage the services and infrastructure launched in 2012. All the services and applications are displayed in it and it lets the user manage them.</p>
<h3>Getting started</h3>
<p>A free trial account can be created on Azure management portal by visiting the following link - manage.windowsazure.com</p>
<p>The screen that pops up is as shown in the following image. The account can be created using our existing Gmail, Hotmail or Yahoo account.</p>
<img src="images/signin_azure.jpg" alt="Sign In To Azure" />
<p>Once logged in, you will be redirected to the following screen, where there is a list of services and applications on the left panel.</p>
<img src="images/azure_management_portal.jpg" alt="Azure Management Portal" />
<p>When you click on a category, its details are displayed on the screen. You can see the number of applications, virtual machine, mobile services and so on by clicking on the menu item.</p>
<p>The next chapter contains a detailed explanation of how to use this portal to manage Azure services.</p>
<h1>Microsoft Azure - Components</h1>
<p>Categorizing the services would help you understand Azure better. These categories are termed as ‘Components’ in this tutorial. The Individual components are explained with detailed pictures in subsequent chapters.</p> 
<h2>Compute / Execution Models</h2>
<p>This is the interface for executing the application, which is one of the basic functions of Azure.</p>
<img src="images/compute_execution_models.jpg" alt="Compute Execution Models" />
<p>As seen in the above image, there are different models such as Web App, Virtual Machine,  Mobile Service, Cloud Service, and Batch Service. These models can be used either separately or in combination as per the requirement.</p>
<h2>Data Management</h2>
<p>Data management can be done by using SQL server Database component or the simple data storage module offered by Windows Azure. SQL server database can be used for relational database. The storage module can store unrelated tables (without foreign key or any relation) and blobs. Blobs include binary data in the form of images, audio, video, and text files.</p>
<img src="images/compute_data_management.jpg" alt="Compute Data Management" />
<h2>Networking</h2> 
<p>Azure traffic manager routes the requests of a user intelligently to an available datacenter. The process involves finding the nearest datacenter to the user who makes the request for web application, and if the nearest datacenter is not available due to various reasons, the traffic manager deviates the request to another datacenter. However, rules are set by the owner of the application as to how a traffic manager should behave.</p>  
<p>The virtual network is another feature that is part of networking in services offered by Windows Azure. The virtual network allows a network between local machines at your premise and virtual machine in Azure Datacenter. IPs to virtual machines can be assigned in a way that makes them appear to be residing in your own premise. The virtual network is set up using a Virtual Private Network (VPN) device.</p>
<p>The following image shows how these two features actually look in Azure portal.</p>
<img src="images/azure_portal.jpg" alt="Azure Portal" />
<h2>Big Data and Big Compute</h2>
<p>The large amount of data can be stored and managed using Windows Azure. Azure offers HDInsight which is Hadoop-based service. Organizations often need to manage large amount of data which is necessarily not relational database management. Hadoop is a prominent technology used these days. Thus, Azure offers Hadoop service on their platform for clients.</p>
<p>The term ‘Big Compute’ refers to high performing computations. This is achieved by executing code on many machines at the same time.</p>
<h2>Messaging</h2>
<p>Windows Azure offers two options for handling the interactions between two apps. One falls under storage component of the service and is called <b>'Message Queues'</b>. The other one comes under the app service and is called <b>'Service Bus'</b>. The messages can be sent to initiate communication among different components of an application or among different applications using these two options.</p>
<img src="images/components_messaging.jpg" alt="Components Messaging" />
<h2>Caching</h2>
<p>Microsoft Azure offers two kinds of caching which are in-memory Caching and Content Delivery Network (CDN) for caching frequently accessed data and improves the application performance. CDN is used to cache the blob data that will be accessed faster by users around the world.</p>
<h2>Identity and Access</h2>
<p>This component is about management of users, authentication and authorization. Active directory stores the information of users accessing the application and also the organization’s information. It can synchronize with the related information on local machines residing on premises. Multifactor Access (MFA) service is built to address the security concerns such as only the right user can access the application.</p>
<img src="images/components_identity_access.jpg" alt="Components Identity and Access" />
<h2>Mobile Service</h2>
<p>Windows Azure offers a very easy platform to develop mobile application. You can simply start using mobile development tools after logging into your account. You don’t have to write big custom codes for the mobile application if you use this service. The push notifications can be sent, data can be stored and users can be authenticated in very less time.</p>
<img src="images/components_mobile_service.jpg" alt="Components Mobile Service" />
<h2>Backup</h2>
<p>The site recovery service replicates the data at secondary location as well as automates the process of recovery of data in case of data outage. Similarly Azure backup can be used to backing up the on premise data in clouds. Data is stored in encrypted mode in both the cases. Windows Azure offers a very effective and reliable backup service to clients and ensures they don’t face inconvenience in case of hardware failures.</p>
<img src="images/components_backup.jpg" alt="Components Backup" />
<h2>Media</h2>
<p>This service addresses multiple concerns related to uploading media and making it available to end users easily. Users can manage tasks related to the media like encoding, ad insertion, streaming, etc. easily.</p>
<h2>Commerce</h2>
<p>Windows Azure offers the opportunity to users to buy or sell applications and data through their platform. The applications are put in the marketplace or Azure store from where they can be accessed and bought by other users.</p>  
<h2>Software Development Kit (SDK)</h2>
<p>Azure applications can be produced by the developers in various programming languages. Microsoft currently provides language-specific SDKs for Java, .NET, PHP, Node.js, Ruby, and Python. There is also a general Windows Azure SDK that supports language, such as C++.</p>
<h1>Microsoft Azure - Compute Module</h1>
<p>In the last chapter, we explained how to create an Azure account. In this chapter, you will find step by step explanation of each component &minus;</p> 
<p><b>Step 1</b> &minus; First, login in to your Azure account.</p>
<p><b>Step 2</b> &minus; Click ‘New’ at the left bottom corner and drag your cursor to ‘Compute‘.</p>
<p>Now you will see a list of models under Compute Model as shown in the following image.</p>
<img src="images/compute_model.jpg" alt="Compute Model" />
<h2>Create a Web App</h2> 
<p><b>Step 1</b> &minus; Click Web App.</p>  
<p><b>Step 2</b> &minus; Click Quick Create and enter the URL and choose a service plan from the dropdown list as shown in the following image.</p>
<img src="images/compute_model_create_webapp.jpg" alt="Create a Web App" />
<p>When you go back to the main screen, it will show the website just created. And when you click the website URL, it will take you to the website.</p>
<img src="images/compute_model_create_webapp1.jpg" alt="Create a Web App" />
<p>The following image shows how your website will look when you click the URL.</p>
<img src="images/compute_model_create_webapp2.jpg" alt="Create a Web App" />
<p>Similarly, you can choose ‘From Gallery’ when creating a web app instead of ‘Quick Create’. This will let you choose the development framework in which you want to create your app.</p>
<img src="images/compute_model_create_webapp3.jpg" alt="Create a Web App" />
<p>Windows Azure supports .Net, Java, PHP, Python, Node.js and Ruby. There are several ways of publishing the code to Azure server. It can be published using FTP, FTPs, Microsoft Web Deploy technology. Various source control tools such as GitHub, Dropbox and Codeplex can also be used to publish the code. It provides a very interactive interface to keep track of changes that have been published already and also unpublished changes.</p> 
<h2>Create a Virtual Machine</h2>
<p><b>Step 1</b> &minus; Click on ‘Virtual Machine’ from the list.</p>
<p><b>Step 2</b> &minus; Then click ‘From Gallery’.</p>
<img src="images/compute_create_virtual_machine.jpg" alt="Create a Virtual Machine" />
<p><b>Step 3</b> &minus; Choose the Operating System or Program you want to run.</p>
<img src="images/compute_create_virtual_machine1.jpg" alt="Create a Virtual Machine" />
<p><b>Step 4</b> &minus; Choose the configuration and fill in the details.</p>
<img src="images/compute_create_virtual_machine2.jpg" alt="Create a Virtual Machine" />
<p>The Username and Password you set up here will be needed to access the virtual machine every time.</p> 
<p>On the next two screens you can leave the default values on for the first time.</p>
<p><b>Step 5</b> &minus; The virtual machine just created will be displayed when you click on ‘Virtual Machine’ on the left panel as shown in following image. It might take a few minutes to show up.</p>
<img src="images/compute_create_virtual_machine3.jpg" alt="Create a Virtual Machine" />
<p><b>Step 6</b> &minus; Once the machine is created you can connect to it by clicking on the connect icon displayed at the bottom of the screen. It will save a .rpd file on your machine as shown in the following image. Chose ‘save file’ on the screen and it will save in ‘downloads’ or the in the set location on your machine.</p>
<img src="images/compute_create_virtual_machine4.jpg" alt="Create a Virtual Machine" />
<p><b>Step 7</b> &minus; Open that .rpd file and you can connect to the VM by filling in the credentials into the following screen.</p>
<img src="images/compute_create_virtual_machine5.jpg" alt="Create a Virtual Machine" />
<p>You can also use your own image by capturing the image of an existing virtual machine or virtual hard drive. Virtual machines are beneficial in several ways.</p>
<ul class="list">
<li><p>A user can try new operating system without actually installing them.</p></li>
<li><p>A VM can be deleted when you are done with the operating system.</p></li>
<li><p>New versions of an operating system can be tried and tested before the user installs them on the machine.</p></li>
<li><p>VM provides a very economical and hassle free way of using a development framework or a tool that runs on specific version of OS.</p></li>
</ul>
<h2>Creating a Mobile Service</h2>
<p>Mobile services compute hosting model is optimized to provide a cloud backend for applications that run on mobile devices. For creating a mobile service &minus;</p>
<p><b>Step 1</b> &minus; Select Mobile services under Compute and click on create. A new window will be open as shown in the following image.</p>
<img src="images/compute_create_mobile_service.jpg" alt="Create a Mobile Service" />
<p><b>Step 2</b> &minus; Fill in the URL. Select the database, region and backend.</p>
<p><b>Step 3</b> &minus; Tick the check box if you want to configure the advance push settings. This option allows us to configure our Mobile Service to use an existing notification hub or specify the name of a new one. If you leave this checkbox unmarked, a new hub will be created in a new namespace with a default name.</p>
<h2>Creating Batch Service</h2>
<p>Batch service is needed when a large scale application is run and a parallel high performing computing is required. The developers can create batches to run a task parallel that eases the workload at no extra cost. Azure charges for only the virtual machines which are being used. They can schedule a task, put them in queues and manage the workload in cloud. Batch creation does not involve setting up a separate VM, cluster or job scheduling.</p> 
<p>To creating a batch service follow the similar steps for creating other services under Compute model. The following image shows how a batch service can be created quickly.</p>
<img src="images/compute_create_batch_service.jpg" alt="Create Batch Service" />
<p>Once you have created a batch service, you can see the details by selecting it from the left panel. The following image pops up on the screen.</p>
<img src="images/compute_create_batch_service1.jpg" alt="Create Batch Service" />
<h1>Microsoft Azure - Fabric Controller</h1>
<p>Fabric Controller is a significant part of Windows Azure architecture. When thinking of the components or services provided by Windows Azure, we wonder how all this works and what is happening in clouds. It seems very complex from our end. Let us look into the physical architecture of these services to have a better understanding of Fabric Controller.</p>
<img src="images/fabric_controller.jpg" alt="Fabric Controller" />
<p>Inside the datacenter, there are many machines or servers aggregated by a switch. We can say that fabric controller is a brain of the azure service that analyses the processes and makes decisions. <b>Fabrics</b> are group of machines in Microsoft’s datacenter which are aggregated by a switch. The group of these machines is called <b>cluster</b>. Each cluster is managed and owned by a fabric controller. They are replicated along with these machines. It manages everything inside those machines, for e.g., load balancers, switches, etc. Each machine has a fabric agent running inside it and fabric controller can communicate with each fabric agent.</p>
<p>When selecting a virtual machine offered by Windows Azure services, there are five options to choose from. The configuration is as follows &minus;</p>
<table class="table table-bordered">
<tr>
<th></th>
<th style="text-align:center;">Memory</th>
<th style="text-align:center;">CPU</th>
<th style="text-align:center;">Instance Storage</th>
</tr>
<tr style="text-align:center;">
<th style="text-align:center;">Extra Small</th>
<td>768 MB</td>
<td>Single core 1.0 GHz</td>
<td>20 GB</td>
</tr>
<tr style="text-align:center;">
<th style="text-align:center;">Small</th>
<td>1.75 GB</td>
<td>Single core 1.6 GHz</td>
<td>225 GB</td>
</tr>
<tr style="text-align:center;">
<th style="text-align:center;">Medium</th>
<td>3.5 GB</td>
<td>Dual core 1.6 GHz</td>
<td>490 GB</td>
</tr>
<tr style="text-align:center;">
<th style="text-align:center;">Large</th>
<td>7 GB</td>
<td>Four core 1.6 GHz</td>
<td>1,000 GB</td>
</tr>
<tr style="text-align:center;">
<th style="text-align:center;">Extra Large</th>
<td>14 GB</td>
<td>Eight core 1.6 GHz</td>
<td>2,040 GB</td>
</tr>
</table>
<p>When a user chooses one of the virtual machine, the operating system, patch updates and software updates are performed by fabric controller. It decides where the new application should run which is one of the most important functions of Fabric Controller. It also selects the physical server to optimize hardware utilization.</p> 
<p>When a new application is published in Azure, an application configuration file written in XML is also attached. The fabric controller reads those files in Microsoft datacenter and makes the setting accordingly.</p> 
<p>In addition to managing the allocation of resources to a specific application, it also monitors the health of compute and storage services. It also makes the failure recoveries for a system.</p>  
<p>Imagine a situation where four instances of web role are running, and one of them dies. The fabric controller will initiate a new instance to replace the dead one immediately. Similarly, in case any virtual machine fails, a new one is assigned by the fabric controller. It also resets the load balancers after assigning the new machine, so that it points to the new machine instantaneously. Thus, all the intelligent tasks are performed by the Fabric Controller in Windows Azure architecture.</p>
<h1>Microsoft Azure - Storage</h1>
<p>The Storage component of Windows Azure represents a durable store in the cloud. Windows Azure allows developers to store tables, blobs, and message queues. The storage can be accessed through HTTP. You can also create our own client; although Windows Azure SDK provides a client library for accessing the Storage.</p> 
<p>In this chapter, we will learn how to create a Windows Azure Storage account and use it for storing data.</p>
<h2>Creating Azure Storage Account</h2>
<p><b>Step 1</b> &minus; When you login into your Azure account, you can find ‘Storage’ under ‘Data Services’.</p>
<img src="images/storage_account.jpg" alt="Storage Account" />
<p><b>Step 2</b> &minus; Click on ‘Quick Create’ and it will ask for ‘Account Name’.</p>
<img src="images/storage_account2.jpg" alt="Storage Account" />
<p>You can see there are four options in the ‘Replication’ dropdown. A copy of the data is kept so that it is durable and available at high speed. It is retained even in case of hardware failure. Let’s see what these options mean &minus;</p>
<ul class="list">
<li><p><b>Locally redundant storage</b> &minus; Copy of the data is created in the same region where storage account is created. There are 3 copies of each request made against the data that resides on separate domains.</p></li>
<li><p><b>Zone-redundant storage (available for blobs only)</b> &minus; Copy of the data is created on separate facilities either in the same region or across two regions. The advantage is that even if there is failure on one facility, the data still can be retained. Three copies of data are created. One more advantage is that data can be read from a secondary location.</p></li>
<li><p><b>Geo-redundant storage</b> &minus; `Copy is created in a different region which means data is retained even if there is a failure in the complete region. The numbers of copies of data created are 6 in this case.</p></li>
<li><p><b>Read-access geo-redundant storage</b> &minus; This option allows reading of data from a secondary location when data on the primary location is not available. The number of copies created is 6. The main advantage here is that availability of data can be maximized.</p></li>
</ul>
<p>There are different price plans for each replication option and the ‘Local Redundant’ is the cheapest of them all. So, choosing the replication of data depends on the cost and individual requirements.</p>
<h2>Storage Account Endpoints</h2>
<p><b>Step 1</b> &minus; Click on the ‘Storage Account’ it will take you to the next screen.</p>
<p><b>Step 2</b> &minus; Click on ‘Dashboard’ from top horizontal menu.</p>
<img src="images/storage_account_endpoints.jpg" alt="Storage Account Endpoints" />
<p>Here you can see four items under services. You can create blobs, tables, queues and files in this storage account.</p>
<p>There will a unique URL for each object. For example, here account name is ‘tutorialspoint’ then the default URL for blob is <b>https://tutorialspoint.blob.core.windows.net</b> Similarly, replace blob with table, queue and file in the URL to get the respective URLs. To access an object in the location is appended in the URL. For example, <b> http://tutorialspoint.blob.core.windows.net/container1/blob1</b></p>
<h2>Generating an Access Key</h2>
<p>Access key is used to authenticate the access to the storage account. Two access keys are provided in order to access the account without interrupting it, in case, one key has to be regenerated.</p>
<p>To get the Access Keys, click on ‘Manage Access Keys’ in your storage account. The following screen will come up.</p>
<img src="images/generating_access_key.jpg" alt="Generating an Access Key" />
<p>Regenerating the key at regular intervals is advised for security reasons.</p>
<h2>Managing Data to Azure Storage</h2>
<p>How can you upload or download data to Azure store? There are many ways to do it, but it can’t be done within the Azure portal itself. You will have to either create your own application or use an already built tool.</p>
<p>There are many tools available for accessing the data in an explorer that can be accessed by clicking on ‘Storage Explorer’ under ‘Get the Tools’ in your Azure storage account. Alternatively, an application can also be built using Software Development Kit (SDK) available in Windows Azure Portal. Using the PowerShell commands is also an option to upload data. PowerShell is a command line application that facilitates administering and managing the Azure storage. Preset commands are used for different tasks to manage the storage.</p>
<p>You can install PowerShell by going to ‘Downloads’ on the following screen in your account. You will find it under Command-Line tools.</p>
<img src="images/managing_data_storage.jpg" alt="Managing Data to Storage" />
<p>There are specific commands for each task. You can manage you storage account, create a new account, and create a container. Additionally, blobs, tables, queues messages can also be managed using PowerShell.</p>
<h1>Microsoft Azure - Blobs</h1>
<p>Let us first understand what a Blob is. The word ‘Blob’ expands to <b>B</b>inary <b>L</b>arge <b>OB</b>ject. Blobs include images, text files, videos and audios. There are three types of blobs in the service offered by Windows Azure namely block, append and page blobs.</p>
<ul class="list">
<li><p><b>Block blobs</b> are collection of individual blocks with unique block ID. The block blobs allow the users to upload large amount of data.</p></li>
<li><p><b>Append blobs</b> are optimized blocks that helps in making the operations efficient.</p></li>
<li><p><b>Page blobs</b> are compilation of pages. They allow random read and write operations. While creating a blob, if the type is not specified they are set to block type by default.</p></li>
</ul>
<p>All the blobs must be inside a container in your storage. Here is how to create a container in Azure storage.</p> 
<h2>Create a Container</h2> 
<p><b>Step 1</b> &minus; Go to Azure portal and then in your storage account.</p>  
<p><b>Step 2</b> &minus; Create a container by clicking ‘Create new container’ as shown in following image.</p>
<img src="images/blob_create_container.jpg" alt="Blobs Create a Container" />
<p>There are three options in the Access dropdown which sets the permission of who can access the blobs. ‘Private’ option will let only the account owner to access it. ‘Public Container’ will allow anonymous access to all the contents of that container. ‘Public blob’ option will set open access to blob but won’t allow access to the container.</p>
<h2>Upload a Blob using PowerShell</h2> 
<p><b>Step 1</b> &minus; Go to ‘Windows PowerShell’ in the taskbar and right-click. Choose ‘Run ISE as Administrator’.</p>
<p><b>Step 2</b> &minus; Following command will let you access your account. You have to change the fields highlighted in all the commands.</p>
<pre class="prettyprint notranslate">
$context = New-AzureStorageContext -StorageAccountName tutorialspoint StorageAccountKey

iUZNeeJD+ChFHt9XHL6D5rkKFWjzyW4FhV0iLyvweDi+Xtzfy76juPzJ+mWtDmbqCWjsu/nr+1pqBJj rdOO2+A== 
</pre>
<p><b>Step 3</b> &minus; Run the following command. This will get you the details of you Azure account. This will make sure that your subscription is all set.</p>
<pre class="result notranslate">
Get-AzureSubscription 
</pre>
<p><b>Step 4</b> &minus; Run the following command to upload your file.</p>
<pre class="result notranslate">
Set-AzureStorageBlobContent -Blob Montiorlog.png -Container images -File 
"E:\MyPictures\MonitorLog.png" -Context $context -Force
</pre>
<p></p>
<img src="images/upload_blob_using_powershell.jpg" alt="Upload a Blob using PowerShell" />
<p><b>Step 5</b> &minus; To check if the file is uploaded, run the following command.</p>
<pre class="result notranslate">
Get-AzureStorageBlob -Container $ContainerName -Context $ctx | Select Name 
</pre>
<h2>Download a Blob</h2>
<p><b>Step 1</b> &minus; Set the directory where you want to download the file.</p>
<pre class="result notranslate">
$localTargetDirectory = "C:\Users\Sahil\Downloads"
</pre>
<p><b>Step 2</b> &minus;  Download it.</p>
<pre class="prettyprint notranslate">
$BlobName = "Montiorlog.png" Get-AzureStorageBlobContent -Blob $BlobName 
Container $ContainerName -Destination $localTargetDirectory -Context $ctx
</pre>
<p>Remember the following &minus;</p>
<ul class="list">
<li><p>All command names and file names are case sensitive.</p></li>
<li><p>Commands should be in one line or should be continued in the next line by appending ` in the preceding line (`is continuation character in PowerShell)</p></li>
</ul>
<h2>Manage Blobs using Azure Storage Explorer</h2>
<p>Managing blobs is pretty simple using ‘Azure Storage Explorer’ interface as it is just like Windows files and folder explorer. You can create a new container, upload blobs, see them in a listed format, and download them. Moreover, you can copy them to a secondary location in a very simple manner with this interface. The following image makes the process clear. As can be seen, once an account is added, we can select it from the dropdown and get going. It makes operating Azure storage very easy.</p>
<img src="images/manage_storage_explorer.jpg" alt="Manage Storage Explorer" />
<h1>Microsoft Azure - Queues</h1>
<p>In the common language used by developers, a queue is a data structure used to store data which follows First in-First out rule. A data item can be inserted from back of the queue while it is retrieved from front. Azure queues are a very similar concept that is used to store the messages in a queue. A sender sends the message and a client receives and processes them. A message has few attributes attached to it, for example expiry time.</p>
<p>A client usually processes and deletes the message. Windows Azure service lets the message to be stored for 7 days and later it gets deleted automatically, if it is not deleted by the client. There can be one sender and one client or one sender and many clients or many sender and many clients.</p>
<p>There are two services offered by Windows Azure for message queues. This chapter covers Windows Azure queue. The other service is called ‘Service Bus queue’.</p>
<p>Decoupling the components is one of the advantages of message queue services. It runs in an asynchronous environment where messages can be sent among the different components of an application. Thus, it provides an efficient solution for managing workflows and tasks. For example, a message to complete a task is sent from the frontend of the application and is received by a backend worker, who then completes the task and deletes the message.</p>  
<h2>Considerations</h2>  
<p>The messages in the storage queue are not replicated anywhere, that means there is only one copy of your message. The maximum number of messages that can be processed are 20,000. The maximum size of a message can be 40 kb.</p>
<h2>Managing Queues using PowerShell</h2>
<h3>Create a Queue</h3>
<p><b>Step 1</b> &minus; Right-click on Windows PowerShell in the taskbar. Choose ‘Run ISE as administrator’.</p>
<p><b>Step 2</b> &minus; Run the following command to access your account. Please replace the highlighted part for your account.</p>
<pre class="prettyprint notranslate">
$context = New-AzureStorageContext -StorageAccountName tutorialspoint StorageAccountKey 
iUZNeeJD+ChFHt9XHL6D5rkKFWjzyW4FhV0iLyvweDi+Xtzfy76juPzJ+mWtDmbqCWjsu/nr+1pqBJj rdOO2+A==
</pre>
<p><b>Step 3</b> &minus; Specify the storage account in which you want to create a queue.</p>
<pre class="result notranslate">
Set-AzureSubscription –SubscriptionName "BizSpark" -CurrentStorageAccount tutorialspoint 
</pre>
<p><b>Step 4</b> &minus; Create a Queue.</p>
<pre class="prettyprint notranslate">
$QueueName = "thisisaqueue" 
$Queue = New-AzureStorageQueue –Name $QueueName -Context $Ctx 
</pre>
<p></p>
<img src="images/create_queue.jpg" alt="Create a Queue" />
<h3>Retrieve a Queue</h3>
<pre class="prettyprint notranslate">
$QueueName = "thisisaqueue" 

$Queue = Get-AzureStorageQueue –Name $QueueName –Context $Ctx
</pre>
<h3>Delete a Queue</h3>
<pre class="prettyprint notranslate">
$QueueName = "thisisaqueue" 

Remove-AzureStorageQueue –Name $QueueName –Context $Ctx
</pre>
<p></p>
<img src="images/delete_queue.jpg" alt="Delete a Queue" />
<h3>Insert a Message into a Queue</h3>
<p><b>Step 1</b> &minus; Login to your account.</p>
<pre class="prettyprint notranslate">
$context = New-AzureStorageContext -StorageAccountName tutorialspoint StorageAccountKey 

iUZNeeJD+ChFHt9XHL6D5rkKFWjzyW4FhV0iLyvweDi+Xtzfy76juPzJ+mWtDmbqCWjsu/nr+1pqBJj rdOO2+A==
</pre>
<p><b>Step 2</b> &minus; Specify the storage account you want to use.</p>
<pre class="result notranslate">
Set-AzureSubscription –SubscriptionName "BizSpark" -CurrentStorageAccount tutorialspoint
</pre>
<p><b>Step 3</b> &minus; Retrieve the queue and then insert the message.</p>
<pre class="prettyprint notranslate">
$QueueName = "myqueue" 
$Queue = Get-AzureStorageQueue -Name $QueueName -Context $ctx 

if ($Queue -ne $null) {  
   $QueueMessage = New-Object -TypeName Microsoft.WindowsAzure.Storage.Queue.CloudQueueMessage
      -ArgumentList "my message is this"  
   $Queue.CloudQueue.AddMessage($QueueMessage) 
}
</pre>
<p>The ‘if’ condition in the script above checks if the queue specified exists or not.</p> 
<h3>Dequeue Next Message from Queue</h3>  
<p><b>Step 1</b> &minus; First connect to your account and specify the storage account, by running the commands as shown in the above steps.</p>
<p><b>Step 2</b> &minus; Retrieve the queue.</p>
<pre class="prettyprint notranslate">
$QueueName = "myqueue" 
$Queue = Get-AzureStorageQueue -Name $QueueName -Context $ctx 
$InvisibleTimeout = [System.TimeSpan]::FromSeconds(10)
</pre>
<p><b>Step 3</b> &minus; Dequeue the next message.</p>
<pre class="prettyprint notranslate">
$QueueMessage = $Queue.CloudQueue.GetMessage($InvisibleTimeout)
</pre>
<p><b>Step 4</b> &minus; Delete the dequeued message.</p>
<pre class="result notranslate">
$Queue.CloudQueue.DeleteMessage($QueueMessage)
</pre>
<h2>Managing Queues using Azure Storage Explorer</h2>
<p><b>Step 1</b> &minus; Select the storage account from the dropdown at the top right. Accounts will be displayed if you have added them during your previous use. If not, you can add account and it will ask for your credentials. After signing in, you will be logged into your account in Azure Storage Explorer.</p>
<p><b>Step 2</b> &minus; You can add a new queue by selecting ‘Queues’ from the left panel and clicking ‘New’ as shown in the following image.</p>
<img src="images/queue_storage_explorer.jpg" alt="Queue Storage Explorer" />
<p><b>Step 3</b> &minus; Enter the name of Queue and it is created in your storage account.</p> 
<p><b>Step 4</b> &minus; Add and delete the messages by selecting the queue in the left panel.</p>
<img src="images/queue_storage_explorer1.jpg" alt="Queue Storage Explorer" />
<h1>Microsoft Azure - Tables</h1>
<p>Storing a table does not mean relational database here. Azure Storage can store just a table without any foreign keys or any other kind of relation. These tables are highly scalable and ideal for handling large amount of data. Tables can be stored and queried for large amount of data. The relational database can be stored using SQL Data Services, which is a separate service.</p>
<p>The three main parts of service are &minus;</p>
<ul class="list">
<li>Tables</li>
<li>Entities</li>
<li>Properties</li>
</ul>
<p>For example, if ‘Book’ is an entity, its properties will be Id, Title, Publisher, Author etc. Table will be created for a collection of entities. There can be 252 custom properties and 3 system properties. An entity will always have system properties which are PartitionKey, RowKey and Timestamp. Timestamp is system generated but you will have to specify the PartitionKey and RowKey while inserting data into the table. The example below will make it clearer. Table name and Property name is case sensitive which should always be considered while creating a table.</p>
<h2>How to Manage Tables Using PowerShell</h2>
<p><b>Step 1</b> &minus; Download and install Windows PowerShell as discussed previously in the tutorial.</p>
<p><b>Step 2</b> &minus; Right-click on ‘Windows PowerShell’, choose ‘Pin to Taskbar’ to pin it on the taskbar of your computer.</p>
<p><b>Step 3</b> &minus; Choose ‘Run ISE as Administrator’.</p>
<h3>Creating a Table</h3>
<p><b>Step 1</b> &minus; Copy the following commands and paste into the screen. Replace the highlighted text with your account.</p>
<p><b>Step 2</b> &minus; Login into your account.</p>
<pre class="prettyprint notranslate">
$StorageAccountName = "mystorageaccount" 
$StorageAccountKey = "mystoragekey" 
$Ctx = New-AzureStorageContext $StorageAccountName - StorageAccountKey 
$StorageAccountKey
</pre>
<p><b>Step 3</b> &minus; Create a new table.</p>
<pre class="prettyprint notranslate">
$tabName = "Mytablename" 
New-AzureStorageTable –Name $tabName –Context $Ctx 
</pre>
<p>The following image shows a table being created by the name of ‘book’.</p>
<img src="images/create_table.jpg" alt="Create Table" />
<p>You can see that it has given the following end point as a result.</p>
<pre class="result notranslate">
https://tutorialspoint.table.core.windows.net/Book
</pre>
<p>Similarly, you can retrieve, delete and insert data into the table using preset commands in PowerShell.</p>
<h3>Retrieve Table</h3>
<pre class="prettyprint notranslate">
$tabName = "Book" 
Get-AzureStorageTable –Name $tabName –Context $Ctx
</pre>
<h3>Delete Table</h3>
<pre class="prettyprint notranslate">
$tabName = "Book"
Remove-AzureStorageTable –Name $tabName –Context $Ctx
</pre>
<h3>Insert rows into Table</h3>
<pre class="prettyprint notranslate">
function Add-Entity() { 
   [CmdletBinding()] 
	
   param( 
      $table, 
      [String]$partitionKey, 
      [String]$rowKey, 
      [String]$title, 
      [Int]$id, 
      [String]$publisher, 
      [String]$author 
   )  
   
   $entity = New-Object -TypeName Microsoft.WindowsAzure.Storage.Table.DynamicTableEntity 
      -ArgumentList $partitionKey, $rowKey 
		
   $entity.Properties.Add("Title", $title) 
   $entity.Properties.Add("ID", $id) 
   $entity.Properties.Add("Publisher", $publisher) 
   $entity.Properties.Add("Author", $author) 
   
   
   $result = $table.CloudTable.Execute(
      [Microsoft.WindowsAzure.Storage.Table.TableOperation]
      ::Insert($entity)) 
}
  
$StorageAccountName = "tutorialspoint" 
$StorageAccountKey = Get-AzureStorageKey -StorageAccountName $StorageAccountName 
$Ctx = New-AzureStorageContext $StorageAccountName - StorageAccountKey 
   $StorageAccountKey.Primary  

$TableName = "Book"
  
$table = Get-AzureStorageTable –Name $TableName -Context $Ctx -ErrorAction Ignore 
 
#Add multiple entities to a table. 
Add-Entity -Table $table -PartitionKey Partition1 -RowKey Row1 -Title .Net -Id 1
   -Publisher abc -Author abc 
Add-Entity -Table $table -PartitionKey Partition2 -RowKey Row2 -Title JAVA -Id 2 
   -Publisher abc -Author abc 
Add-Entity -Table $table -PartitionKey Partition3 -RowKey Row3 -Title PHP -Id 3
   -Publisher xyz -Author xyz 
Add-Entity -Table $table -PartitionKey Partition4 -RowKey Row4 -Title SQL -Id 4 
   -Publisher xyz -Author xyz
</pre>
<h3>Retrieve Table Data</h3>
<pre class="prettyprint notranslate">
$StorageAccountName = "tutorialspoint" 
$StorageAccountKey = Get-AzureStorageKey - StorageAccountName $StorageAccountName 
$Ctx = New-AzureStorageContext – StorageAccountName $StorageAccountName -
   StorageAccountKey $StorageAccountKey.Primary; 

$TableName = "Book"
  
#Get a reference to a table. 
$table = Get-AzureStorageTable –Name $TableName -Context $Ctx  

#Create a table query. 
$query = New-Object Microsoft.WindowsAzure.Storage.Table.TableQuery

#Define columns to select. 
$list = New-Object System.Collections.Generic.List[string] 
$list.Add("RowKey") 
$list.Add("ID") 
$list.Add("Title") 
$list.Add("Publisher") 
$list.Add("Author")
  
#Set query details. 
$query.FilterString = "ID gt 0" 
$query.SelectColumns = $list 
$query.TakeCount = 20
 
#Execute the query. 
$entities = $table.CloudTable.ExecuteQuery($query)

#Display entity properties with the table format. 

$entities  | Format-Table PartitionKey, RowKey, @{ Label = "Title"; 
Expression={$_.Properties["Title"].StringValue}}, @{ Label = "ID"; 
Expression={$_.Properties[“ID”].Int32Value}}, @{ Label = "Publisher"; 
Expression={$_.Properties[“Publisher”].StringValue}}, @{ Label = "Author"; 
Expression={$_.Properties[“Author”].StringValue}} -AutoSize 
</pre>
<p>The output will be as shown in the following image.</p>
<img src="images/retrive_table.jpg" alt="Retrive Table" />
<h3>Delete Rows from Table</h3>
<pre class="prettyprint notranslate">
$StorageAccountName = "tutorialspoint" 
 
$StorageAccountKey = Get-AzureStorageKey - StorageAccountName $StorageAccountName 
$Ctx = New-AzureStorageContext – StorageAccountName $StorageAccountName - 
   StorageAccountKey $StorageAccountKey.Primary  

#Retrieve the table. 
$TableName = "Book" 
$table = Get-AzureStorageTable -Name $TableName -Context $Ctx -ErrorAction 
Ignore 

#If the table exists, start deleting its entities. 
if ($table -ne $null) { 
   #Together the PartitionKey and RowKey uniquely identify every   
   #entity within a table.
	
   $tableResult = $table.CloudTable.Execute(
      [Microsoft.WindowsAzure.Storage.Table.TableOperation] 
      ::Retrieve(“Partition1”, "Row1")) 
		
   $entity = $tableResult.Result;
	
   if ($entity -ne $null) {
      $table.CloudTable.Execute(
         [Microsoft.WindowsAzure.Storage.Table.TableOperation] 
         ::Delete($entity)) 
   } 
}
</pre>
<p>The above script will delete the first row from the table, as you can see that we have specified Partition1 and Row1 in the script. After you are done with deleting the row, you can check the result by running the script for retrieving rows. There you will see that the first row is deleted.</p>
<p>While running these commands please ensure that you have replaced the accountname with your account name, accountkey with your account key.</p>
<h2>How to Manage Table using Azure Storage Explorer</h2>
<p><b>Step 1</b> &minus; Login in to your Azure account and go to your storage account.</p>
<p><b>Step 2</b> &minus; Click on the link ‘Storage explorer’ as shown in purple circle in the following image.</p>
<img src="images/storage_explorer.jpg" alt="Storage Explorer" />
<p><b>Step 3</b> &minus; Choose ‘Azure Storage Explorer for Windows’ from the list. It is a free tool that you can download and install on your computer.</p>
<p><b>Step 4</b> &minus; Run this program on your computer and click ‘Add Account’ button at the top.</p>
<p><b>Step 5</b> &minus; Enter ‘Storage Account Name’ and ‘Storage account Key’ and click ‘Test Access. The buttons are encircled in following image.</p>
<img src="images/storage_account_name.jpg" alt="Storage Account Name" />
<p><b>Step 6</b> &minus; If you already have any tables in storage you will see in the left panel under ‘Tables’. You can see the rows by clicking on them.</p>
<h3>Create a Table</h3>
<p><b>Step 1</b> &minus; Click on ‘New’ and enter the table name as shown in the following image.</p>
<img src="images/create_new_table.jpg" alt="Create New Table" />
<h3>Insert Row into Table</h3>
<p><b>Step 1</b> &minus; Click on ‘New’.</p>
<p><b>Step 2</b> &minus; Enter Field Name.</p>
<p><b>Step 3</b> &minus; Select data type from dropdown and enter field value.</p>
<img src="images/select_data_dropdown.jpg" alt="Select Data From Dropdown" />
<p><b>Step 4</b> &minus; To see the rows created click on the table name in the left panel.</p>
<p>Azure Storage Explorer is very basic and easy interface to manage tables. You can easily create, delete, upload, and download tables using this interface. This makes the tasks very easy for developers as compared to writing lengthy scripts in Windows PowerShell.</p>
<h1>Microsoft Azure - CDN</h1>
<p>Caching is one of the ways for performance improvement. Windows Azure uses caching to increase the speed of cloud services. Content Delivery Management (CDN) puts stuff like blobs and other static content in a cache. The process involves placing the data at strategically chosen locations and caching it. As a result, it provides maximum bandwidth for its delivery to users. Let’s assume an application’s source is far away from the end user and many tours are taken over the internet to fetch data; the CDN offers a very competent solution to improve performance in this case. Additionally, it scales the instant high load in a very efficient manner.</p>
<h2>Create a CDN</h2>
<p><b>Step 1</b> &minus; Login in to your Azure Management Portal.</p>
<p><b>Step 2</b> &minus; Click on 'New' at bottom left corner.</p>
<p><b>Step 3</b> &minus; Select ‘APP Services’ then ‘CDN’.</p>
<p><b>Step 4</b> &minus; Click on ‘Quick Create’. The following screen will come up.</p>
<img src="images/create_cdn.jpg" alt="Create a CDN" />
<p>You will see three fields in the pop up &minus;</p>
<ul class="list">
<li><p><b>Subscription</b> &minus; There will be a list of subscriptions you have subscribed to and you can choose from one of them. In this demo, only one option was there in the subscription dropdown, which was ‘BizSpark’, the current subscription.</p></li>
<li><p><b>Origin Type</b> &minus; This dropdown will ask to select an origin type. The integrated service will have an option of Web Apps, Cloud Services, Storage and Media Services.</p></li>
<li><p><b>Origin URL</b> &minus; This will show the URLs based on the chosen origin type in the dropdown.</p></li>
</ul>
<p><b>Step 5</b> &minus; Choose one of the options from each dropdown as needed and click ‘Create’. CDN endpoint is created as show in the following image.</p>
<img src="images/create_cdn_step5.jpg" alt="Create a CDN Step5" />
<h2>Create CDN for Custom Origin Links</h2>
<p>In June 2015, CDN was updated with one more feature where users can specify a custom origin. Earlier only Azure services could be linked to CDN, but now any website can be linked to it using this service.</p>
<p>When we are create a CDN service, in the ‘Origin Type’ dropdown, there is an option ‘Custom Origin’ as shown in the following image, and then you can specify the link in the URL field.</p>
<img src="images/create_cdn_for_custom.jpg" alt="Create CDN for Custom Origin Links" />
<h2>Manage CDN</h2>
<p><b>Step 1</b> &minus; Click on the Name of the CDN you want to manage in the list displayed in CDN <b>services</b>.</p>
<p><b>Step 2</b> &minus; Click on ‘manage cdn’.</p>
<img src="images/manage_cdn.jpg" alt="Manage CDN" />
<p><b>Country filtering</b> &minus; You can allow/bock your website in specified countries. This is going to protect your data for better.</p>
<p><b>Step 3</b> &minus; When you click on ‘manage cdn’ you will be taken to the following page in a new tab of your browser.</p> 
<p><b>Step 4</b> &minus; Click on ‘Country Filtering’ from menu items at the top of screen. Click on ‘Add Country Filter’ button as shown in the following image.</p>
<img src="images/manage_cdn_step4.jpg" alt="Manage CDN Step4" />
<p><b>Step 5</b> &minus; Specify the directory and select Allow/block.</p>
<img src="images/manage_cdn_step5.jpg" alt="Manage CDN Step5" />
<p><b>Step 6</b> &minus; Select the country in the next screen and you are done.</p>
<img src="images/manage_cdn_step6.jpg" alt="Manage CDN Step6" />
<p><b>Compression</b> &minus; It allows files to be compressed. You can enable/disable compression. Also you can specify the file type.</p>
<p><b>Step 7</b> &minus; Click on ‘Cache Setting’ and scroll down to the bottom of the page.</p>
<p><b>Step 8</b> &minus; Select ‘Compression Enabled’ and click ‘Update’ button. By default, compression is disabled.</p>
<img src="images/manage_cdn_step8.jpg" alt="Manage CDN Step8" />
<p><b>Analytics</b> &minus; You can see very useful figures in this section. For example, number of overall hits or in a specific geographic region. The report will also show how many times requests are served from CDN endpoints and how many of them are going back to the original server.</p>
<p><b>Step 9</b> &minus; Click on ‘Analytics’ in menu items at the top of the page. You will see a list of all the reports in the left panel as shown in the following image.</p>
<img src="images/manage_cdn_step9.jpg" alt="Manage CDN Step9" />
<p><b>Step 10</b> &minus; Additionally, you can download the report as an excel file by clicking on the excel icon at the top right corner.</p>
<h2>Map a Custom Domain Name</h2>
<p>You might want to use a custom domain name instead of CDN endpoint that is autogenerated by Azure service. Windows Azure has provided a new feature that allows you to map a custom domain name to his application’s CDN endpoint. Let’s see how it is done in Azure Portal.</p>
<p><b>Step 1</b> &minus; Click on ‘Manage Domain’ Button on the bottom horizontal menu.</p>
<img src="images/map_cdn_step1.jpg" alt="Map CDN" />
<p><b>Step 2</b> &minus; Enter the custom URL in the text box and its done.</p>
<img src="images/map_cdn_step2.jpg" alt="Map CDN" />
<h1>Microsoft Azure - Applications</h1>
<p>Windows Azure is usually misinterpreted as just a hosting solution, but there is a lot more that can be done using Windows Azure. It provides a platform to develop applications using a range of available technologies and programming languages. It offers to create and deploy applications using .net platform, which is Microsoft’s own application development technology. In addition to .net, there are many more technologies and languages supported. For example, Java, PHP, Ruby, Oracle, Linux, MySQL, Python.</p>
<p>Windows Azure applications are scaled by creating multiple instances of the application. The number of instances needed by the application is specified by the developer while hosting the applications. If traffic is increased or decreased on the website or web application it can be managed easily by logging in to Windows Azure management portal and specifying the instances. Load balancing can also be automated which would allow Azure to make the decision itself as when to assign more resources to application.</p>
<p>Web applications support .net, java, python, php and node.js. Tasks such as scaling and backups can be easily automated. A new feature called ‘webjobs’ is available, which is a kind of batch processing service. Webjobs can also be scaled and scheduled. The mobile application platforms supported are Xamarin iOS, Xamarin Android and IOS.</p>
<p>Azure platform is developed in such a way that developers need to concentrate on only the development part and need not worry about other technical stuff outside their domain. Thus most of the administrative work is done by Azure itself.</p>
<p>A marketplace is also set by Azure where its customers can buy applications and services. It is a platform where customers can search applications and deploy them in an easier way. Azure marketplace is available in 88 countries at present. An application purchased from the marketplace can be easily connected to the local development environment by the application developers. The pricing is done using 5 different models, which includes usage-based and monthly fee. Some of the applications are even free of charge.</p>
<h1>Microsoft Azure - Security</h1>
<p>Security is about managing the access of users to the organization’s applications, platforms and portals. Active directory is used to manage the database of users in a protected manner. The same kind of service is provided by Windows Azure to keep the users and their password safe. Active directory is a feature that lets you create users, manage their roles, grant access and delete them.</p>
<h2>Creating an Active Directory</h2>
<p><b>Step 1</b> &minus; Sign in to Azure Management Portal.</p>
<p><b>Step 2</b> &minus; Click ‘New’ and then click ‘App Services’.</p>
<img src="images/creating_active_directory.jpg" alt="Creating Active Directory" />
<p><b>Step 3</b> &minus; Click ‘Active Directory’ and then ‘Directory’.</p> 
<p><b>Step 4</b> &minus; Click ‘Custom Create’.</p>
<img src="images/creating_active_directory_step4.jpg" alt="Creating an Active Directory" />
<p><b>Step 5</b> &minus; Enter the details and you are done. In the following image, ‘tutpoint’ is the domain name. Enter a domain name which is a temporary DNS. Once its directory is created, you can map it to your own domain.</p>
<img src="images/creating_active_directory_step5.jpg" alt="Creating an Active Directory" />
<h2>Mapping a Custom Domain</h2>
<p>Since you have provided a temporary domain name, when creating a directory in Windows Azure, you can map it to your own domain using this functionality.</p>
<p><b>Step 1</b> &minus; Click on the directory name in the list of your directory.</p>
<p><b>Step 2</b> &minus; Click on ‘Domains’ from the top menu items.</p>
<p><b>Step 3</b> &minus; Click ‘Add a Custom Domain’.</p>
<img src="images/mapping_custom_domain.jpg" alt="Mapping a Custom Domain" />
<p><b>Step 4</b> &minus; In the screen that pops up, enter the details. You can choose for ‘single sign in option’ if needed.</p>
<img src="images/mapping_custom_domain_step4.jpg" alt="Mapping a Custom Domain" />
<h2>Creating Users</h2>
<p><b>Step 1</b> &minus; Click on ‘Add User’ button at the bottom of the screen.</p>
<img src="images/creating_users.jpg" alt="Creating Users" />
<p><b>Step 2</b> &minus; The following screen pops up. You can create a new user or link an existing Microsoft account. You can even import a user from other directory in Azure. Let’s choose ‘Create a new user’ here.</p>
<img src="images/creating_users_step2.jpg" alt="Creating Users" />
<p><b>Step 3</b> &minus; Enter the user name in the following screen.</p>
<img src="images/creating_users_step3.jpg" alt="Creating Users" />
<p><b>Step 4</b> &minus; Enter other details and choose the role for the user.</p>
<img src="images/creating_users_step4.jpg" alt="Creating Users" />
<p><b>Step 5</b> &minus; Click next arrow and it will create a user for your application and give you a temporary password which can be changed by the user.</p>
<h2>Integrating with Azure Active Directory</h2>
<p><b>Step 1</b> &minus; Locate and click ‘Application’ at top of screen.</p> 
<p><b>Step 2</b> &minus; Click on ‘Add’ displayed at the bottom of the screen. A pop up shown in the following image will be seen on the screen.</p>
<img src="images/integrating_active_directory.jpg" alt="Integrating Active Directory" />
<p><b>Step 3</b> &minus; If you click the first option, it will take you to the following screen. You can enter the name of the application and follow the wizard.</p>
<img src="images/integrating_active_directory_step3.jpg" alt="Integrating Active Directory" />
<p><b>Step 4</b> &minus; Similarly, if you choose the second option in ‘What do you want to do’ pop up, it will let you choose an application from the gallery as shown in the following screen.</p>
<img src="images/integrating_active_directory_step4.jpg" alt="Integrating Active Directory" />
<h2>Integrating On-Premise Active Directory</h2>
<p>Azure active directory lets you run an active directory in cloud and also lets you connect it to your on-premise active directory. Basically, it will replicate your user database residing on your on-premise machine in cloud. It will also automatically synchronize whenever changes are made on-premise.</p>
<p>Click on the ‘Directory Integration’ from the top menu. An on-premise directory can be connected using the three steps as shown in the following image.</p>
<img src="images/integrating_active_directory1.jpg" alt="Integrating Active Directory" />
<h2>Reports</h2>
<p>This is a very useful feature of Active Directory as it shows different reports such as number of times a user is signing in, or signing in from an unknown device can be seen here.</p>
<img src="images/security_reports.jpg" alt="Security Reports" />
<h1>Microsoft Azure - Datacenters</h1>
<p>When we think of cloud, we imagine a place with large number of machines in big rooms. There must be a place where all the data is stored. Microsoft has datacenters all over the world from where Windows Azure services are managed. Datacenters are divided in regions. The exact location of these datacenters is not revealed by Microsoft for obvious security reasons.</p>
<p>Following are the 20 listed regions as can also be seen in the image.</p>
<ul class="list">
<li>Central US</li>
<li>East US</li>
<li>East US 2</li>
<li>US Gov Iowa</li>
<li>US Gov Virginia</li>
<li>North Central US</li>
<li>South Central US</li>
<li>West US</li>
<li>North Europe</li>
<li>West Europe</li>
<li>East Asia</li>
<li>Southeast Asia</li>
<li>Japan East</li>
<li>Japan West</li>
<li>Brazil South</li>
<li>Australia East</li>
<li>Australia Southeast</li>
<li>Central India</li>
<li>South India</li>
</ul>
<img src="images/datacenters.jpg" alt="Datacenters" />
<h2>How to Choose the Right Data Center for Your Application</h2>
<p>When creating Windows Azure application, whether it is mobile application, web application or database storage it asks to specify the region. Region here specifies a regional datacenter.</p>
<p><b>Performance</b> &minus; You should select the nearest datacenter to the users of your application. The performance can be affected by the relative location of the users who want to access the application. If a user is closer to the datacenter, the performance will be better.</p>  
<p><b>Cost</b> &minus; The price of hosting the application may also increase or decrease depending upon the datacenter you choose. Price actually can vary according to the database hosting location or any other service being used by the application. You should choose the same location for all the services that are being used by your application. For example, database or any media service. If they are kept in separate datacenter there will be charges per transaction, but anything extra won’t be charged if they are kept at the same datacenter.</p> 
<p><b>Legal Aspect</b> &minus; Laws vary from country to country and restrictions could be enforced in some regions on what information can be shared and what cannot.</p>
<h1>Microsoft Azure - Scenarios</h1>
<p>Understanding the basic scenarios of Windows Azure will help us understand its use. Additionally, it will help us understand the services offered. Three basic scenarios are discussed here. In addition to the following scenarios, there can be many more ways of using Azure services based on the needs of clients, but all the basic uses are covered in this chapter.</p>
<h2>Software Development</h2>
<p>Software development is the most popular scenario of Windows Azure. The software is developed and tested on local development fabric and then deployed in cloud of Windows Azure. Azure hosts the web application and also the supporting processes, communicating with other web services.</p>
<p>Testing of application in software development phase usually becomes too long for developers, if they need to change the configurations of environment being used to host the application. In Windows Azure, this is the not a problem as resources are absolutely in their control and can be modified as needed by the application. Once a web application is hosted in cloud of Windows Azure, it is ready to be used by the end users and organizations.</p>
<p>Moreover, deploying the application is very easy in Windows Azure using the tools provided by them. These tools are MS deploy, PowerShell, integration with Team Foundation Server (TFS). The Visual Studio cloud project is also an easy option to deploy the application.</p>
<p>An application is tested in the staging environment and then it is deployed in the production environment for end users to use it.</p>
<h2>Enterprise Process Offloading</h2>
<p>There are situations for an organization where they need to reduce loads from their onpremise systems for a certain period of time or on a regular basis. This could be easily achieved by using Windows Azure services at a very low cost. Clients have to pay for only those transactions made on their application instead of paying for entire hardware and software.</p>
<p>This is an extremely cost-efficient way of using new resources for the organization. Azure in this context offers quite quick growth to businesses by extending resources on cloud when needed.</p>
<h2>Enterprise Application Integration</h2>
<p>This is commonly called as EAI scenario. Let us think of a scenario, when there is need for two different organizations to send and receive data between applications which is further processed by those applications. The cross-enterprise application integration can be done using Windows Azure. The service is called BizTalk service, which facilitates B2B messaging between on-premise or on-cloud applications of different organizations.</p>
<p>This service enables a connection between applications even if they are following different transport protocols. The process also includes validating and extracting the properties as required by the application at the receiving end. In a normal scenario, where communication is needed between applications of two organizations, the interaction will have to bypass the firewall by completing the due process. However, in the service offered by Windows Azure, the communication between applications does not need to bypass the organization’s firewall.</p>
<h1>Microsoft Azure - Management Portal</h1>
<p>As the name suggests this is a portal to manage Azure services, which was released in 2012. This is a platform provided by Microsoft for its Azure clients where they can see, manage and buy the services offered by Azure. A different portal called ‘Azure Preview Portal’ was released by Azure team in 2014, which makes it easier to access the platform on mobiles and tablets. However, features are more or less same in both the portals.</p>
<p>To access the management portal &minus;</p>
<p><b>Step 1</b> &minus; Go to <a rel="nofollow" target="_blank" href="https://manage.windowsazure.com/"> https://manage.windowsazure.com</a></p>
<p><b>Step 2</b> &minus; Sign in with your Hotmail or live ID. If you don’t have Azure accounts, sign up for one. You will get a free trial and you can explore, learn and create your own applications using Windows Azure.</p>
<img src="images/management_portal.jpg" alt="Management Portal" />
<p>The following screen will appear.</p>
<img src="images/credit_status.jpg" alt="Management Portal" />
<p>Since here we have an application already running, you can see a list of them. Your account will be empty for the first time. Left panel categorizes the application and the middle part lists all the application in the account.</p>
<h2>Create a New Application</h2>
<p><b>Step 1</b> &minus; Click on the ‘New’ left bottom corner.</p>
<img src="images/management_portal_create.jpg" alt="Management Portal Create New" />
<p><b>Step 2</b> &minus; Following screen will come up and you can choose what you want to create.</p>
<img src="images/microsoft_azure_create.jpg" alt="Management Portal Create New" />
<h2>Check Credit and Subscriptions</h2>
<p><b>Step 1</b> &minus; Click on ‘Credit’ in the green block at the top of the screen.</p>
<img src="images/management_subscriptions.jpg" alt="Management Subscriptions" />
<p><b>Step 2</b> &minus; Click on ‘View more details’. It will take you to the following screen. This screen will show you all the details of your subscription, spending, and data usage.</p>
<img src="images/subscriptions_details.jpg" alt="Subscriptions Details" />
<p>As the spending limit is set here, it says ‘Remove Spending Limit’. If the limit would not have been set, it would have said ‘Set Spending Limit’. This way you can set a spending limit for you. Your services will be stopped once you reach the spending limit.</p>
<p>If you scroll down on the page in the above image, you can see all that is available with your subscription and see the details on the right side.</p>
<img src="images/account_administrator.jpg" alt="Account Administrator" />
<p>You are absolutely in control of your spending. The green block in which ‘Credit’ button is displayed will change color if you are about to fall short of your credit. This is calculated by your average per day spending and it would tell you in how many days your credit is going to get over.</p>
<h2>Add a New Subscription</h2>
<p><b>Step 1</b> &minus; Click on your account e-mail id or on the picture at the top right corner.</p>
<p><b>Step 2</b> &minus; Click on ‘View my bill’ in the list.</p>
<img src="images/view_my_bill.jpg" alt="View My Bill" />
<p><b>Step 3</b> &minus; It will take you the following screen. Click on ‘add subscription’.</p>
<img src="images/management_add_subscriptions.jpg" alt="Management Add Subscriptions" />
<p><b>Step 4</b> &minus; Choose the subscription from the list in the following screen.</p>
<img src="images/choose_subscription.jpg" alt="Choose Subscriptions" />
<h2>Azure Preview Portal</h2>
<p><b>Step 1</b> &minus; Click on your account e-mail at the top right corner.</p>
<p><b>Step 2</b> &minus; Select ‘Switch to Azure Preview Portal’.</p>
<img src="images/preview_portal.jpg" alt="Preview Portal" />
<p><b>Step 3</b> &minus; The following screen will appear. All the functionalities are same. ‘Azure Preview Portal’ is built for mobile and tablet screen with a responsive design.</p>
<img src="images/azure_preview_portal.jpg" alt="Azure Preview Portal" />
<h1>Microsoft Azure - Create Virtual Network</h1>
<p>You can create virtual network on cloud or you can also connect to the on-premise local network to the cloud network in Windows Azure. This tutorial will first explain how to create a cloud only network.</p>
<h2>Creating a Virtual Network in Clouds Only</h2>
<p><b>Step 1</b> &minus; Login in to Azure Management Portal.</p>
<p><b>Step 2</b> &minus; Click on ‘New’ at the bottom left corner.</p>
<p><b>Step 3</b> &minus; Click on ‘Network Services’ and then ‘Virtual Network’.</p>
<p><b>Step 4</b> &minus; Click on ‘Quick Create’.</p>
<img src="images/creating_virtual_network.jpg" alt="Creating a Virtual Network" />
<p><b>Step 5</b> &minus; Enter the name and leave all other fields as they are except location. You don’t need to specify anything in this case since everything will be decided by Azure itself.</p>
<p><b>Step 6</b> &minus; Click on ‘Create a Virtual Network’ and it is done.</p>
<h2>Creating a Virtual Network in Cloud Only (Advanced Settings)</h2>
<p><b>Step 1</b> &minus; Click on ‘custom create’ instead of ‘quick create’ when creating a new virtual network and the following screen will appear.</p>
<img src="images/virtual_network_cloud.jpg" alt="Virtual Network Cloud" />
<p><b>Step 2</b> &minus; Enter the name of the ‘Network’ and choose a location. You will see that it will draw an image at the bottom.</p>
<img src="images/virtual_network_cloud2.jpg" alt="Virtual Network Cloud" />
<p>DNS Server Name is optional to enter as we are creating a cloud only network. Also, leave the options ‘Point to Site connectivity’ and ‘Site to Site connectivity’ as they are. The subsequent chapters will have a demo on configuration of these two options.</p>
<p><b>Step 3</b> &minus; Click next and leave the default values on the following screen.</p>
<img src="images/virtual_network_address.jpg" alt="Virtual Network Address" />
<p><b>Step 4</b> &minus; Click the next arrow and a virtual network is created.</p>
<img src="images/virtual_network_created.jpg" alt="Virtual Network Created" />
<p>You can add DNS servers and local network even after creating a virtual network.</p>
<h1>Microsoft Azure - Deploying Virtual Machines</h1>
<p>A quick process of creating a virtual machine was included in the chapter ‘Compute Module’. This chapter contains the detailed process including how to configure virtual machines.</p>
<h2>Quick Create</h2>
<p><b>Step 1</b> &minus; Login to Azure Management Portal.</p>
<p><b>Step 2</b> &minus; Locate and click on ‘Virtual Machines’ in the left panel and then click on ‘Create a Virtual Machine’.</p>
<img src="images/quick_create.jpg" alt="Quick Create" />
<p><b>Step 3</b> &minus; Alternatively, click ‘New’ at the bottom left corner and then click ‘Compute’ &rarr; ‘Virtual Machine’ &rarr;‘Quick Create’.</p>
<img src="images/quick_create3.jpg" alt="Quick Create" />
<p><b>Step 4</b> &minus; Enter DNS name. This has to be unique. The DNS name is used to connect to the virtual machine.</p>
<p><b>Step 5</b> &minus; Select the image and size from the dropdown list. The size affects the cost of running virtual machine.</p>
<p><b>Step 6</b> &minus; Enter username and password. You must remember to log in to the virtual machine later.</p> 
<p><b>Step 7</b> &minus; Select the relevant region.</p> 
<p><b>Step 8</b> &minus; Click on ‘Create a virtual machine’ and you are ready to use your new machine. It will take a few seconds for the machine to be created.</p>
<h2>Create Virtual Machine with Advanced Settings</h2>
<p><b>Step 1</b> &minus; Choose ‘Custom Create’ instead of ‘Quick Create’ in the options and you will be taken to the following screen.</p>
<img src="images/create_virtual_advance.jpg" alt="Create Virtual with Advanced" />
<p><b>Step 2</b> &minus; Choose an image from the list. In this screen, you find that choosing an image is easier based on their category shown on the left side. Let us create a virtual machine for SQL Server for which we have chosen SQL Server on the left side and all the software in this category are shown in the middle.</p>
<p><b>Step 3</b> &minus; Click on the Next arrow.</p>
<img src="images/virtual_machine_configuration.jpg" alt="Virtual Machine Configuration" />
<p><b>Step 4</b> &minus; Choose Version Release Date and enter the VM’s name.</p>
<p><b>Step 5</b> &minus; Select the Tier. The size dropdown would change items according to tier. In the basic version, you will get only first 5 options, while in the standard version you will get more options. It should be according to you and you image’s requirements. For example, in this case let’s choose SQL server. It requires minimum A4 machine with 8 cores and 14GB memory.</p>
<p><b>Step 6</b> &minus; Enter the username and password and click Next arrow.</p>
<img src="images/create_virtual_advance6.jpg" alt="Create Virtual with Advanced" />
<p><b>Step 7</b> &minus; Enter DNS name which should be unique as mentioned earlier and select the region.</p>
<p>Under the storage account, it will display the storage accounts that you have already created. As seen in the following screen, an account name is shown in the dropdown which is a storage account created earlier. You can choose an already created account or even use an automatically generated account.</p>
<img src="images/create_virtual_advance7.jpg" alt="Create Virtual with Advanced" />
<p><b>Step 8</b> &minus; Next is Availability set. This option lets you create a set of virtual machines that will ensure that if a single point fails, it doesn’t affect your machine and keeps the work going on. Let’s choose the option ‘none’ here.</p>
<img src="images/availability_set.jpg" alt="Availability Set" />
<p>The last option is End Points. End points are used to communicate with virtual machines by other resources you can leave. In a subsequent chapter, we will provide a detailed illustration to configure endpoints.</p>
<p><b>Step 9</b> &minus; Click on Next and the virtual machine will be created in a few seconds for you.</p>
<h2>Connecting with a Virtual Network</h2>
<p><b>Step 1</b> &minus; Create a virtual machine using the steps described earlier. If you already have a virtual network created in Azure, it will be diplayed in the highlighted dropdown list as shown in the following screen.  You can choose the network as shown in following picture.</p>
<img src="images/connect_virtual_network.jpg" alt="Connecting Virtual Network" />
<p><b>Step 2</b> &minus; When you go to your Virtual Network and management portal created earlier, click on ‘Dashboard’. The virtual machine will be displyed in the resources of that network as shown in the following picture.</p>
<img src="images/virtual_network_resources.jpg" alt="Virtual Network Resources" />
<h2>Accessing the Virtual Machine</h2>
<p>There is a step by step guide on connecting to VM in ‘Compute Module’ chapter earlier in this tutorial. Please refer to it.</p>
<h3>Considerations</h3> 
<p>While creating a virtual machine following considerations should be made &minus;</p>
<ul class="list">
<li><p>Choose the location according to the user’s location to avoid any latency issues. It is best to choose the region nearest to the physical location of end users.</p></li>
<li><p>You must go through the costs that will be incurred based on the size you choose for the virtual machine beforehand, to make sure it is in control.</p></li>
<li><p>If you use the already created storage account you will be able to manage things better.</p></li>
</ul>
<h1>Microsoft Azure - Endpoint Configuration</h1>
<p>When creating a virtual machine, we come across a part where endpoints can be configured. The two default endpoints enabled while creating a virtual machine are Remote Desktop and PowerShell. What actually is an endpoint? Virtual machine on same cloud can communicate to each other automatically. But in case we need them to communicate with our own computer, we will need an endpoint configured to make it happen. It is basically accessing the virtual machine through a port. An endpoint provides remote access to the services running on virtual machine. It has a public and private port that needs to be specified while creating an endpoint. Additionally, an endpoint can be accessed securely by activating Access Control Lists (ACL).</p>
<p>In the following section, it is demonstrated how a new endpoint can be configured for virtual machine that’s already been created. However, it can also be done in the same way as creating a new one on configuration part of wizard.</p>
<p><b>Step 1</b> &minus; Click on Virtual Machine in your Azure Management portal.</p>
<p><b>Step 2</b> &minus; Click on ‘Endpoint’ and then Click on ‘Add’.</p>
<img src="images/new_endpoint.jpg" alt="New Endpoint" />
<p><b>Step 3</b> &minus; Select ‘Add a Stand-Alone Endpoint’ as shown in the following image.</p>
<img src="images/standalone_endpoint.jpg" alt="Stand-Alone Endpoint" />
<p><b>Step 4</b> &minus; Select the name from dropdown. Alternatively, you can enter a custom name. Here let’s select Http from options. It will assign unused ports automatically. Or you can enter it manually.</p>
<img src="images/endpoint_details.jpg" alt="Endpoint Details" />
<p><b>Step 5</b> &minus; If you tick ‘Create a Load Balanced Set’, it will allow distributing the load across virtual machines. Let’s leave it unchecked here because it can be configured later, if needed.</p>
<p><b>Step 6</b> &minus; The ‘Enable Direct Server Return’ is checked when SQL server’s ‘Always On’ feature is required, so let’s leave it unchecked.</p> 
<p><b>Step 7</b> &minus; Click on Next arrow.</p>
<img src="images/new_endpoint7.jpg" alt="New Endpoint" />
<h2>Access Control of Endpoint</h2>  
<p>We can grant or deny the access of services to an individual host or network. If nothing is specified, the endpoint can be accessed from any host and network.</p>
<p><b>Step 1</b> &minus; Select ‘Manage ACL’ as shown in the following image.</p>
<img src="images/access_endpoint.jpg" alt="Access Endpoint" />
<p><b>Step 2</b> &minus; Enter access description.</p>
<p><b>Step 3</b> &minus; Enter Subnet Mask.</p>
<img src="images/acl_endpoint_details.jpg" alt="ACL Endpoint Details" />
<p><b>Step 4</b> &minus; Click on Next and it’s done.</p>
<img src="images/access_endpoint_success.jpg" alt="Access Endpoint Success" />
<h1>Microsoft Azure - Point-to-Site Connectivity</h1>
<p>In the last chapter, we saw how an endpoint can be created to access a virtual machine; this is quite a tedious task. If a virtual machine in virtual network needs to be connected with on-premise machine, the point-to-site connectivity is needed. Point-to-site connectivity makes it very productive to work with remote virtual machines.</p>
<p>Basically, a machine on-premise is connected to virtual network using point-to-site connectivity. However, we can connect up to 128 on-premise machines to virtual network in Azure. The access to the virtual network in cloud is granted through a certificate. The certificate has to be installed on each local machine that needs to be connected to the virtual network.</p>
<h2>Enabling Point-to-Site Connectivity on Existing Virtual Network</h2>
<p>If you have already created a virtual network in Azure, you can access it in management portal.</p>
<p><b>Step 1</b> &minus; Log in to Azure management portal.</p>
<p><b>Step 2</b> &minus; Click on ‘Networks’ in the left panel and select the network you want to work with.</p>
<p><b>Step 3</b> &minus; Click on ‘Configure’ as shown in the following image.</p>
<img src="images/point_site_connectivity.jpg" alt="Point-to-Site Connectivity" />
<p><b>Step 4</b> &minus; Check the ‘Configure Point-to-site connectivity’ checkbox. It will allow you to enter the starting IP and CIDR.</p>
<p><b>Step 5</b> &minus; Scroll down and click ‘add gateway subnet’.</p>
<img src="images/add_gateway_subnet.jpg" alt="Point-to-Site Connectivity" />
<p><b>Step 6</b> &minus; Enter the Gateway subnet and click ‘Save’. Message shown in the following screen will pop up.</p>  
<p><b>Step 7</b> &minus; Click Yes and a point-to-site connectivity is done.</p>
<img src="images/point_site_connectivity_created.jpg" alt="Point-to-Site Connectivity" />
<p>You will need a certificate to access your virtual network.</p>
<h2>Create a New Virtual Network with Point-to-site Connectivity</h2>
<p><b>Step 1</b> &minus; Click New &rarr; Network Services &rarr; Virtual Network &rarr; Custom Create.</p>
<img src="images/create_point_site_connectivity.jpg" alt="Create New Connectivity" />
<p><b>Step 2</b> &minus; Enter Network’s name, select location and click on Next.</p>
<img src="images/virtual_network_details.jpg" alt="Virtual Network Details" />
<p><b>Step 3</b> &minus; On the next screen, Select ‘Configure a point-to-site VPN’ and click next.</p>
<img src="images/point_site_connectivity_vpn.jpg" alt="Point-to-Site Connectivity VPN" />
<p><b>Step 4</b> &minus; You can select or enter starting IP and select CIDR.</p>
<img src="images/create_point_site_connectivity4.jpg" alt="Create New Connectivity" />
<p><b>Step 5</b> &minus; Enter Subnet and click ‘Add Gateway Subnet’ as done earlier and enter the required information.</p>
<img src="images/point_site_connectivity_address.jpg" alt="Create New Connectivity" />
<p><b>Step 6</b> &minus; Point-to-Site connectivity is done.</p>
<img src="images/point_site_connectivity_success.jpg" alt="Point-to-Site Connectivity Success" />
<p><b>Step 7</b> &minus; Click on the name of the network, as it is ‘MyNet’ in the above image.</p>
<p><b>Step 8</b> &minus; Click on ‘Dashboard’ as shown in the following screen.</p>
<img src="images/dashboard.jpg" alt="Dashboard" />
<p>You will see that the gateway is not created yet. For it to happen, you will have to generate a certificate first.</p>
<h2>Generate Certificates</h2>
<p>The point-to-site VPN supports only self-signed certificate.</p>
<h3>Create a Certificate</h3>
<p><b>Step 1</b> &minus; Go to the link <a rel="nofollow" target="_blank" href="https://msdn.microsoft.com/enus/windows/desktop/bg162891.aspx">msdn.microsoft.com</a> or google ‘windows SDK for 8.1’. Then go to msdn link or the version of Windows for which you want the tool.</p>
<p><b>Step 2</b> &minus; Download the encircled file as shown in the following image. It will be saved as .exe file named sdksetup on your machine.</p>
<img src="images/create_certificate.jpg" alt="Create a Certificate" />
<p><b>Step 3</b> &minus; Run the file. While running the installation wizard, when you reach the following screen uncheck the encircled part. By default they are checked.</p>
<img src="images/sdk_features.jpg" alt="SDK Features" />
<p><b>Step 4</b> &minus; After installation is complete, run Command Prompt as Administrator on your computer.</p> 
<p><b>Step 5</b> &minus; Enter the following commands one by one for creating root certificate</p>
<pre class="result notranslate">
cd C:\Program Files (x86)\Windows Kits\8.1\bin\x64 

makecert -sky exchange -r -n "CN=MyNet" -pe -a sha1 -len 2048 -ss My
</pre>
<p>First command will change the directory in command prompt. In the above command change the highlighted part to the name of your network.</p>
<img src="images/command_prompt.jpg" alt="Command Prompt" />
<p><b>Step 6</b> &minus; Next enter the following command for creating client certificate.</p>
<pre class="result notranslate">
makecert -n "CN=MyNetClient" -pe -sky exchange -m 96 -ss My -in "MyNet" -is my -a sha1 
</pre>
<p><b>Step 7</b> &minus; Look for ‘mmc’ on your computer and run it.</p>
<img src="images/mmc.jpg" alt="MMC" />
<p><b>Step 8</b> &minus; Click ‘File’ and ‘Add/Remove Snap-in’.</p>
<p><b>Step 9</b> &minus; In the screen that pops up, click ‘Certificate’ and then on ‘add’.</p>
<p><b>Step 10</b> &minus; Select ‘My User Account’ and click on ‘Finish’.</p>
<img src="images/create_certificate10.jpg" alt="Create a Certificate" />
<p><b>Step 11</b> &minus; Expand ‘Current User’ in the left panel, then ‘Personal’ and then ‘Certificates’.</p>
<img src="images/create_certificate11.jpg" alt="Create a Certificate" />
<p>You can see the certificates here.</p>
<p><b>Step 12</b> &minus; Right click on certificate and click ‘All Tasks’ and then ‘Export’.</p>
<img src="images/export.jpg" alt="Export" />
<p><b>Step 13</b> &minus; Follow the wizard. You will have to name the certificate and select a location to save it.</p>
<h3>Upload the Certificate </h3>
<p><b>Step 1</b> &minus; Login to Azure management portal.</p>
<p><b>Step 2</b> &minus; Go to the network and click ‘Certificate’ and then click ‘Upload Root Certificate’.</p>
<p><b>Step 3</b> &minus; Click browse and select the location of the certificate you just created.</p>
<h3>Download the Client VPN Package</h3> 
<p>Client VPN Package will connect you to the network.</p>
<p><b>Step 1</b> &minus; Go to network’s dashboard in azure management portal.</p>
<p><b>Step 2</b> &minus; Scroll down and locate the following options at the right side of the screen.</p>
<img src="images/client_vpn_package.jpg" alt="Client VPN Package" />
<p><b>Step 3</b> &minus; Select the suitable option and download it. You will see a similar file on your computer. Run and install it.</p>
<img src="images/client_vpn_package3.jpg" alt="Client VPN Package" />
<p><b>Step 4</b> &minus; When you’ll install it, Windows might try to prevent it. Choose ‘Run Anyway’ if this happens.</p>  
<p><b>Step 5</b> &minus; Go to ‘Networks’ on your machine and you will see a VPN connection available as shown in the following image.</p>
<img src="images/vpn_connections.jpg" alt="VPN Connections" />
<p><b>Step 6</b> &minus; Click on that network as in this example ‘MyNet’ and connect. You will be connected to the network.</p>
<h1>Microsoft Azure - Site-to-Site Connectivity</h1>
<p>Most organizations already have a network on their premises and would want to connect it to Windows Azure rather than putting everything on cloud. It is also called hybrid network connectivity. It is connecting virtual net in Azure to on-premises network. Setting up a site-to-site connectivity network is quite easy for someone who knows the basics of networking like IPs, subnetting and default gateways.</p>
<p>The things that are required before configuring the network in this case are &minus;</p>
<ul class="list">
<li>A VPN device that can be configured.</li>
<li>Externally facing IP address for that VPN device.</li>
</ul>
<h2>Creating a Site-to-Site Connectivity Network</h2>
<p><b>Step 1</b> &minus; Select New &rarr; Network Services &rarr; Virtual Network &rarr; Custom Create</p>
<img src="images/create_site_to_site.jpg" alt="Creating a Site-to-Site" />
<p><b>Step 2</b> &minus; Enter the name of the network and select the region.</p>
<img src="images/select_region.jpg" alt="Select Region" />
<p><b>Step 3</b> &minus; Enter the DNS name for name resolution if you want, otherwise you can leave it empty if you want it to be automatically done by Azure.</p>
<p><b>Step 4</b> &minus; Check the ‘Configure site-to-site VPN’ option.</p>
<img src="images/configure_site_to_site_vpn.jpg" alt="Configure Site-to-Site VPN" />
<p><b>Step 5</b> &minus; Enter the details of your VPN device in the address space as shown in the following image.</p>
<img src="images/site_to_site_connectivity_address.jpg" alt="Site-to-Site Connectivity Address" />
<p><b>Step 6</b> &minus; Enter the details of your virtual network in the address space.</p>
<img src="images/virtual_network_address_spaces.jpg" alt="Virtual Network Address Spaces" />
<p><b>Step 7</b> &minus; After entering the subnets, enter the gateway subnet for your virtual network.</p>
<img src="images/virtual_network_subnet.jpg" alt="Virtual Network Subnet" />
<p><b>Step 8</b> &minus; Click next and the network is created.</p>
<p><b>Step 9</b> &minus; Select the network and go to its ‘Dashboard’. You will have to create a gateway for it.</p>
<p><b>Step 10</b> &minus; Click ‘Create Gateway’ at the bottom of the screen. Once gateway is created ‘Gateway IP address’ is displayed on the following screen.</p>
<p>You can configure the VPN device now using the information.</p>
<p>Site-to-site connectivity is faster than the point-to-site connectivity. It makes transferring of data easier. You just need a shared key to access the network. Unlike point-to-site connectivity, you don’t have to install certificates on each machine you want to connect with the virtual machine. In fact, the same shared key works for each machine.</p>
<h1>Microsoft Azure - Traffic Manager</h1>
<p>Let us first understand what is the service provided by Azure traffic manager. Basically, this service balances the traffic load of services hosted in Azure. The routing policy is defined by the client and traffic to the services hosted in Azure is redirected according to set policies. Traffic manager is a DNS-based service. Thus, it will improve the availability and performance applications.</p>
<p>Let’s see how to create and configure traffic manager in Azure.</p>
<h2>Create Traffic Manager</h2>
<p><b>Step 1</b> &minus; Login to Azure management portal and click ‘New’ at the bottom left corner.</p> 
<p><b>Step 2</b> &minus; Select Network Services &rarr; Traffic Manager &rarr; Quick Create.</p>
<img src="images/create_traffic_manager.jpg" alt="Create Traffic Manager" />
<p><b>Step 3</b> &minus; Enter the DNS prefix and select the Load Balancing Method.</p>
<p>There are three options in this dropdown.</p>
<ul class="list">
<li><p><b>Performance</b> &minus; This option is ideal when you have endpoints in two different locations. When a DNS is requested, it is redirected to the region closest to the user.</p></li>
<li><p><b>Round Robin</b> &minus; This option is ideal when you want to distribute the traffic among multiple endpoints. Traffic is distributed in round robin fashion by selecting a healthy endpoint.</p></li>
<li><p><b>Failover</b> &minus; In this option, a primary access point is set up, but in case of failure alternate endpoints are made available as backup.</p></li>
</ul>
<p><b>Step 4</b> &minus; Based on your needs you can choose a load balancing method. Let’s choose performance here.</p>
<p><b>Step 5</b> &minus; Click create.</p>
<p>You will see the traffic manager created and displayed in your management portal. Its status will be inactive until it is configured.</p>
<img src="images/traffic_manager_status.jpg" alt="Traffic Manager Status" />
<h2>Create Endpoints to be Monitored via Traffic Manager</h2>
<p><b>Step 1</b> &minus; Select the ‘Traffic Manager’ from the left panel in the management portal that you want to work on.</p> 
<p><b>Step 2</b> &minus; Select ‘Endpoints’ from the top horizontal menu as shown in the following image. Then select ‘Add Endpoints’.</p>
<img src="images/endpoint_traffic_manager.jpg" alt="Endpoints Traffic Manager" />
<p><b>Step 3</b> &minus; The screen shown in the following image will appear. Choose the service type and items under that service will be listed.</p>
<p><b>Step 4</b> &minus; Select the service endpoints and proceed.</p>
<img src="images/service_endpoints.jpg" alt="Endpoints Traffic Manager" />
<p><b>Step 5</b> &minus; The service endpoints will be provisioned.</p>
<p>You can see that in this case, the service ‘tutorialsPointVM’ created in Azure will now be monitored by the traffic manager and its traffic will be redirected according to the specified policy.</p>
<h2>Configure the Policy</h2>
<p><b>Step 1</b> &minus; Click on ‘Configure’ in the top menu bar as shown in the following image.</p>  
<p><b>Step 2</b> &minus; Enter the DNS Time to Live (TIL). It is the amount of time for which a client/user will continue to use a particular endpoint. For example, if you enter 40 seconds the traffic manager will be queried after every 40 seconds for the changes in the traffic management system.</p>
<img src="images/configure_policy.jpg" alt="Configure the Policy" />
<p><b>Step 3</b> &minus; You can change the load balancing method here by choosing a desired method from the dropdown. Here, let’s choose ‘Performance’ as chosen earlier.</p>
<img src="images/load_balancing_settings.jpg" alt="Load Balancing Settings" />
<p><b>Step 4</b> &minus; If you scroll down, you will see heading ‘Monitoring Setting’. You can choose the protocol; enter port number and relative path for a service to be monitored.</p>
<h1>Microsoft Azure - PowerShell</h1>
<p>PowerShell is a framework or you can say an interface built by Azure team that lets the user to automate and manage Windows Azure services. It is a command line tool that uses the scripts or cmdlets to perform tasks such as creating and managing storage accounts or Virtual Machines that can easily be done using the preset commands.</p>
<h2>Installing Azure PowerShell</h2>
<p><b>Step 1</b> &minus; Login into Azure Management Portal.</p>
<p><b>Step 2</b> &minus; Click ‘Downloads’.</p>
<img src="images/installing_powershell.jpg" alt="Installing PowerShell" />
<p><b>Step 3</b> &minus; In the following screen, locate ‘command-line tools’ and then ‘Windows Azure PowerShell’. Click ‘Install’ listed under it to download the setup and install it.</p>
<img src="images/command_line_tools.jpg" alt="Command-Line Tools" />
<p>Alternatively, you can visit the link <a rel="nofollow" target="_blank" href="http://www.windowsazure.com/en-us/manage/downloads/"> http://www.windowsazure.com/en-us/manage/downloads/</a></p> 
<h2>Connecting to Your Subscription</h2>
<p>Once you have installed Azure PowerShell, you will have to connect it to your Azure subscription.</p>
<p><b>Step 1</b> &minus; Locate Microsoft ‘Azure PowerShell’ in your programs.</p>
<img src="images/azure_powershell.jpg" alt="Azure PowerShell" />
<p><b>Step 2</b> &minus; Pin it to the taskbar. You can run it as ISE by pinning it to the taskbar in Windows 8. Somehow, if it doesn’t show the option of ‘Run ISE as Administrator’ it is in programs. ISE lets copy paste commands easily.</p>
<p><b>Step 3</b> &minus; Right-click on ‘Microsoft Azure PowerShell’ and select ‘Run ISE as Administrator’.</p>
<img src="images/ise_administrator.jpg" alt="ISE Administrator" />
<h2>Connect to Your Azure Account</h2>
<h3>Using Active Directory</h3> 
<p>To get started with Azure tasks, you will have to first add your Azure account to PowerShell. You just have to perform this step once on your computer and every time you run Azure PowerShell, it will connect to the account automatically.</p>
<p><b>Step 1</b> &minus; Enter the following cmdlet in PowerShell.</p>
<pre class="result notranslate">
Add-AzureAccount
</pre>
<p><b>Step 2</b> &minus; The screen shown in the following image will pop up and ask for credentials of your account. Enter the credentials and sign in.</p>
<img src="images/powershell_active_dir.jpg" alt="Active Directory" />
<p><b>Step 3</b> &minus; Now you are ready to perform tasks in Azure using Azure PowerShell.</p>
<h3>Using Certificate</h3>
<p>In this method, you can download a certificate on your machine and login to our account using that certificate.</p>
<p><b>Step 1</b> &minus; Enter the following cmdlet in PowerShell. You will be prompted to save a file and the file will be downloaded on your computer with the extension. <i>publishsettings</i>.</p>
<pre class="result notranslate">
Get-AzurePublishSettingsFile 
</pre>
<p>You will see a similar file on your computer.</p>
<img src="images/powershell_certificate.jpg" alt="Certificate" />
<p><b>Step 2</b> &minus; Enter the following cmdlet. Highlighted part is the path of the file downloaded in previous step. Also replace the name of the file with yours</p>
<pre class="result notranslate">
Import-AzurePublishSettingsFile C:\Users\Sahil\Downloads\BizSpark-11-5-2015credentials.publishsettings 
</pre>
<p></p>
<img src="images/powershell_ise.jpg" alt="PowerShell ISE" />
<p><b>Step 3</b> &minus; Just to make sure that everything has gone right. Run the following cmdlet. It will display the details of your account and subscription.</p>
<pre class="result notranslate">
Get-AzureAccount 
Get-AzureSubscription
</pre>
<p>You can add many accounts to Azure PowerShell.</p> 
<h2>Remove Azure Account</h2>
<p>Run the following cmdlets. Replace the highlighted part with your account ID. It will ask for your confirmation and it is done.</p>
<pre class="result notranslate">
Remove-AzureAccount -Name myaccount@somesite.example
</pre>
<p></p>
<img src="images/remove_account.jpg" alt="Remove Azure Account" />
<h2>Get Help</h2>
<p>The following cmdlet will list all the commands available for Azure tasks.</p>
<pre class="result notranslate">
Get-Help Azure 
</pre>
<p>There are lots of tasks that can be managed using PowerShell such as creating and managing web applications, storage accounts, virtual machines, etc. In fact, many users find it quicker and better as compared to Azure Management Portal. To manage the Azure Storage using PowerShell refer to Table, Blobs and Queues chapter in this tutorial.</p>
<h1>Microsoft Azure - Monitoring Virtual Machines</h1>
<p>Monitoring virtual machines is important to keep a track of its performance and health. Windows Azure provides an interactive interface to monitor the statistics related to the performance of virtual machine. The five key statistics are &minus;</p>
<ul class="list">
<li>CPU percentage</li>
<li>Disk Read Bytes/sec</li>
<li>Disk Write Bytes/sec</li>
<li>Network in</li>
<li>Network out </li>
</ul>
<h2>Monitor VM in Azure Management Portal.</h2>
<p><b>Step 1</b> &minus; Login to Azure Management Portal.</p>
<p><b>Step 2</b> &minus; Go to Virtual Machine.</p>
<p><b>Step 3</b> &minus; Select the virtual machine you want to monitor.</p>
<p><b>Step 4</b> &minus; Select Monitor from the top menu as shown in following image.</p>
<img src="images/monitoring_virtual_machines.jpg" alt="Monitoring Virtual Machines" />
<p>You can see 5 key terms on the above screen. It seems pretty complicated at first glance but when you look carefully, you can see that each line on the graph is in a different color which matches the color of the term. For example, CPU Percentage is in purple color and the purple line on the graph represents it. The machine shown in the above image is quite new. The following sections will explain how figures are read.</p>
<h3>CPU Percentage</h3> 
<p>CPU percentage is the most common statistics to check whenever there is a performance issue in an application. It tells the processor’s utilization in percentage. In the following image, you can see that in the last dropdown at the right top corner 1 hour is selected and, highest utilization is at 3:15 which is 0.13%.</p>
<img src="images/cpu_percentage.jpg" alt="CPU Percentage" />
<h3>Disk Read Bytes/Sec</h3> 
<p>Another factor affecting performance is disk input/output operations. Disk read byte/second measures the amount of data read every second on the disk. If the read operations are done more frequently on the disk, performance issues can be resolved using a faster disk.</p>
<h3>Disk Write Bytes/sec</h3> 
<p>Similarly, disk write byte/sec measures the amount of data written every second. If the application needs writing large amount of data on the disk, a bigger disk can be chosen.</p>
<img src="images/disk_write_byte.jpg" alt="Disk Write Bytes/sec" />
<p>In the image above, you can see the highest point in disk read is 218.35 byte/sec at 3:25. You can see the last hour’s data because ‘1 Hour’ is selected in the dropdown. You can also see data for last 24 hours and 7 days.</p>   
<h3>Network In</h3> 
<p>Monitoring the network traffic can be done by looking at the ‘network in’ figures in the ‘Monitor’ section. The network-in statistics can be in bytes or TCP segments received.</p>
<h3>Network Out</h3> 
<p>Network-out statics tells about TCP segments sent per second. You can also see relative or absolute statistics by selecting an option from dropdown encircled in the following image.</p>
<img src="images/network_out.jpg" alt="Network Out" />
<p>Similarly, you can choose the duration from the dropdown highlighted in the following image.</p>
<img src="images/network_out1.jpg" alt="Network Out" />
<p>You can also choose particular metrics, by clicking on ‘Add Metrics’ at the bottom of the screen. The following screen will appear, in which you can check the desired metrics.</p>
<img src="images/network_out2.jpg" alt="Network Out" />
<h2>Enable Diagnostics</h2>
<p>Enabling diagnostics allows you to collect logs. Azure will collect logs and store in a storage account you specified. We can enable diagnostics by switching to the ‘Preview Portal’. Diagnostic figures help in troubleshooting as the logs for errors can be tracked in the storage account.</p>
<p><b>Step 1</b> &minus; Switch to the ‘preview portal’.</p>
<img src="images/enabling_diagnostics.jpg" alt="Enable Diagnostics" />
<p><b>Step 2</b> &minus; Locate the ‘Virtual Machine (classic)’ in the left panel.</p>
<p><b>Step 3</b> &minus; Select the Machine and ‘All Settings’.</p>
<p><b>Step 4</b> &minus; Scroll down and locate ‘Diagnostics’. Select ‘Diagnostic’ as shown in the following image.</p>
<img src="images/diagnostics.jpg" alt="Diagnostics" />
<p><b>Step 5</b> &minus; Select ‘On’ in the next panel displayed on the right side. By default it will be set off.</p>
<p><b>Step 6</b> &minus; Since it uses a storage account to store the logs you will have to configure the setting for the storage account by clicking on the encircled part in the following image.</p>
<img src="images/configure_settings.jpg" alt="Configure Settings" />
<p><b>Step 7</b> &minus; You can also select or deselect the type of logs you want to keep.</p>
<p>You will also see a panel at the bottom with the heading ‘Monitoring’. This section displays the same metrics that we discussed in the section above.</p>
<p>These figures help users to identify the causes of performance slide of an application. They can also generate alerts for these features; they go above the set limits.</p>
<h1>Microsoft Azure - Setting Up Alert Rules</h1>
<p>While monitoring a virtual machine we can see different metrics related to a virtual machine in Azure. Azure has also provisioned a way to alert the administrator of virtual machine when these metrics go above or below a specified limit through e-mail. Setting up an alert can be very useful in notifying the administrator about issues that require attention.</p>
<p><b>Step 1</b> &minus; Go to the ‘Monitoring’ section of your virtual machine.</p>
<p><b>Step 2</b> &minus; Select the metrics you want to set alert for.</p>
<p><b>Step 3</b> &minus; Select ‘Add Rule’ from the bottom.</p>
<img src="images/add_rule.jpg" alt="Add Rule" />
<p><b>Step 4</b> &minus; Enter the name for alert and enter other information.</p>
<img src="images/alert_details.jpg" alt="Alert Details" />
<p><b>Step 5</b> &minus; In the following screen that pops up, select condition. It can be greater than, less than or equal to.</p>
<p><b>Step 6</b> &minus; Enter the threshold value which will be in percentage. In this example, let’s enter 85 which means you will get an e-mail when utilization for processor of your virtual machine reaches the 85% average over the last 10 minutes.</p>
<img src="images/condition_for_notifications.jpg" alt="Condition for Notifications" />
<p>In addition to sending the alert e-mail to service administrator and co-administrators, you can receive alert in one more e-mail.</p>
<img src="images/setting_up_add_rule6_1.jpg" alt="Setting-Up Add Rule" />
<p>You can set maximum 10 alerts for each subscription. Alerts can be sent to the administrator’s e-mail plus one more e-mail provided at the time of setting up an alert.</p>
<p>Similarly, you can set alerts for other Azure services like web applications and mobile applications.</p>
<h1>Microsoft Azure - Application Deployment</h1>
<p>In this chapter, we will discuss different ways of deploying an application on Windows Azure. When we say application, it can be a web application or a mobile application. Earlier web apps were called websites, but now everywhere they are referred as web applications. We will be discussing how to deploy applications from Visual Studio and management portal in the chapter ‘Websites’.</p>
<h2>Deploying a Web App from PowerShell</h2>
<p>To get started with the PowerShell, refer to ‘PowerShell’ chapter in the tutorial. In order to deploy a website from PowerShell you will need the deployment package. You can get this from your website developers or you if you are into web deployment you would know about creating a deployment package. In the following sections, first you will learn how to create a deployment package in Visual Studio and then using PowerShell cmdlets, you will deploy the package on Azure.</p>
<h2>Create a Deployment Package</h2>
<p><b>Step 1</b> &minus; Go to your website in Visual Studio.</p> 
<p><b>Step 2</b> &minus; Right-click on the name of the application in the solution explorer. Select ‘Publish’.</p>
<img src="images/create_deployment_package.jpg" alt="Create Deployment Package" />
<p><b>Step 3</b> &minus; Create a new profile by selecting ‘New Profile’ from the dropdown. Enter the name of the profile. There might be different options in dropdown depending on if the websites are published before from the same computer.</p>
<img src="images/new_profile.jpg" alt="New Profile" />
<p><b>Step 4</b> &minus; On the next screen, choose ‘Web Deploy Package’ in Publish Method.</p>
<img src="images/web_deploy_package.jpg" alt="Web Deploy Package" />
<p><b>Step 5</b> &minus; Choose a path to store the deployment package. Enter the name of site and click Next.</p>
<img src="images/mywebprofile.jpg" alt="MyWebProfile" />
<p><b>Step 6</b> &minus; On the next screen, leave the defaults on and select ‘publish’.</p>
<p>After it’s done, inside the folder in your chosen location, you will find a zip file which is what you need during deployment.</p>
<h2>Create a Website in Azure using PowerShell</h2>
<p><b>Step 1</b> &minus; Enter the following cmdlets to create a website. Replace the highlighted part. This command is going to create a website in free subscription. You can change the subscription after the website is created.</p>
<pre class="result notranslate">
New-AzureWebsite -name "mydeploymentdemo" -location "East US" 
</pre>
<p></p>
<img src="images/create_website_powershell.jpg" alt="Create Website PowerShell" />
<p>If cmdlet is successful, you will see all the information as shown in the above image. You can see the URL of your website as in this example it is mydeploymentdemo.azurewebsites.net.</p>
<p><b>Step 2</b> &minus; You can visit the URL to make sure everything has gone right.</p>
<h2>Deploy Website using Deployment Package</h2>
<p>Once the website is created in Azure, you just need to copy your website’s code. Create the zip folder (deployment package) in your local computer.</p>
<p><b>Step 1</b> &minus; Enter the following cmdlets to deploy your website.</p>
<pre class="result notranslate">
Publish-AzureWebsiteProject -name "mydeploymentdemo" -package 
"C:\Users\Sahil\Desktop\deploymentDemo\MyWebsiteOnAzure.zip" 
</pre>
<p>Here in above commandlet, the name of the website just created is given and the path of the zip file on the computer.</p>
<p><b>Step 2</b> &minus; Go to your website’s URL. You can see the website as shown in the following image.</p>
<img src="images/create_website_url.jpg" alt="Create Website URL" />
<h1>Microsoft Azure - Backup &amp; Recovery</h1>
<p>Azure backup can be used to backing up on-premise data in cloud. Data is stored in an encrypted mode. The following sections provide a detailed illustration of how to do it using Azure. In this process, we will first create a backup vault where our data will be stored and then see how data can be backed up from our on-premise computer. The backup agent which is installed on the computer, first encrypts the data and then sends it over the network to the storage place in Azure. Your data is completely safe and secure.</p>
<h2>Create Backup Vault</h2>
<p><b>Step 1</b> &minus; Login into your management portal.</p>
<p><b>Step 2</b> &minus; At the bottom right corner, select New &rarr; Data Services &rarr; Recovery Services &rarr; Backup Vault &rarr; Quick Create.</p>
<img src="images/create_backup_vault.jpg" alt="Create Backup Vault" />
<p><b>Step 3</b> &minus; Enter the name of vault and select the region. It will be created and displayed in your management portal.</p>  
<p><b>Step 4</b> &minus; Select the vault and click ‘Download Vault Credentials’ as shown in the following image.</p>
<img src="images/create_backup_vault4.jpg" alt="Create Backup Vault" />
<p><b>Step 5</b> &minus; It will save a credential file on your computer.</p>  
<p><b>Step 6</b> &minus; Now scroll down the same page in Azure and you will see three options under ‘Download Agent’. Select a suitable option. Let’s choose the third option in the list in this example.</p>
<img src="images/create_backup_vault6.jpg" alt="Create Backup Vault" />
<p><b>Step 7</b> &minus; Agent’s setup will be saved on your computer. You will have to install it by following the wizard. There is nothing very specific in the installation process.</p> 
<p><b>Step 8</b> &minus; At the end of the installation, you will see a button at the bottom of pop-up window ‘Proceed to Registration’. Click that button and the following screen will appear.</p>
<p><b>Step 9</b> &minus; First step is vault identification. Browse the credentials file on your computer which was saved in the last step.</p>
<img src="images/vault_identification.jpg" alt="Vault Identification" />
<p><b>Step 10</b> &minus; Next step in the registration wizard is choosing the encryption setting. You can enter your own passphrase or let the wizard generate it by itself. Here let’s choose ‘Generate Passphrase’.</p>  
<p><b>Step 11</b> &minus; Browse for the location where you want to save the passphrase. Keeping this passphrase file safe is very important as you won’t be able to restore backups without it.</p>
<img src="images/encryption_setting.jpg" alt="Encryption Setting" />
<p><b>Step 12</b> &minus; Click on Next and the file will be saved on your selected location.</p>
<h2>Schedule a Backup</h2>
<p>After the wizard in the above section is finished, you will see the following program that was installed in the previous step, running on your computer. You will come across selecting the data folder from your computer you want to back up on Azure and the frequency of backup in this wizard.</p>
<p><b>Step 1</b> &minus; Click ‘Schedule Backup’ from the right panel.</p>
<img src="images/schedule_backup.jpg" alt="Schedule a Backup" />
<p>In this example, let’s select the data folder named ‘QServicesManagementSystem’.</p>
<img src="images/schedule_backup_ex.jpg" alt="Schedule a Backup" />
<p>Follow the steps as pop up on the screen and are quite understandable. You are allowed to back up 3 times maximum and you can choose from daily and weekly frequency.</p>
<p><b>Step 2</b> &minus; In the following step, select how long you want to keep the backup in your online storage. Set it according to your need.</p>
<img src="images/schedule_backup2.jpg" alt="Schedule a Backup" />
<p><b>Step 3</b> &minus; You can choose the ‘Backup Now’ in the left panel of backup agent. It will save a copy of your data that very moment. Then you can see it in your management portal by selecting the backup vault and going to its dashboard.</p>
<img src="images/schedule_backup3.jpg" alt="Schedule a Backup" />
<p>You can see in the following image that there is one item listed under ‘Jobs’ section as data has been backed up by selecting ‘backup now’. This section will display all the activities in backup task. Details of the backup schedule is displayed under ‘Status’ section.</p>
<p><b>Step 4</b> &minus; You can recover the data by selecting ‘Recover Data’ in backup agent and following the wizard.</p>
<img src="images/recover_data.jpg" alt="Recover Data" />
<h1>Microsoft Azure - Self-Service Capabilities</h1>
<p>The self-service capabilities here refer to the ability to manage group, users profile and passwords. These capabilities are helpful in reducing the cost and labor of the IT departments. It enhances the user experience and removes the unnecessary hassle of asking for permissions of the administrator. Self-service capabilities enable the users to manage the mentioned services without compromising the security of the systems. Everything happens within the policies set by the organization.</p>
<h2>Group Management</h2>
<p>Let us say few people in an organization want to create one group where they can connect with each other for certain period of time. Usually, they will have to ask for the administrator to create a group for them. But in Azure active directory, one person can create a group and others can join the group without having to ask the administrator. Also, the group owner can handover the ownership of the group to someone else by himself.</p>   
<h2>Password Management</h2>
<p>Azure Active directory offers the services that lets the users (client’s employees or application users) to manage their password on their own. The end users can make a self- registration for password reset. Additionally, this service includes the resetting and changing the password by the end users.</p>
<p>Self-service capability policies are completely controlled by the administrators of Azure Active directory. They can configure the policies in accordance with their organizations policy. They can view the reports on end user password resets, change, etc. This way administrators can monitor the user’s activities for their account management, even after making them capable of self-service.</p>
<p>In order to use this service, organizations must subscribe to basic or premium version of Azure active directory. There is a detailed demonstration of self-service password reset and group management using Azure Active Directory in a separate chapter of this tutorial.</p>
<h1>Microsoft Azure - Multi-Factor Authentication</h1>
<p>All of us at some point have encountered multi-factor authentication. For example, customers of some banks receive a call or one-time password as text message on their mobile phones while signing in to their bank account online. The multi-factor authentication refers to the system in which more than one system authenticates the user to access an application. The multi-factor authentication offers better security for Azure clients. It lets the client choose if they want to use more than one system of credentials to allow the users to access the applications. Multi-factor authentication can be used to protect both on-premise and on-cloud directories.</p>
<p>In this process, the user first signs in with the username and password in a normal way. The credentials are verified and then if the automated call authentication is activated, the user receives a call and is asked to confirm the sign-in attempt.</p>
<ul class="list">
<li><p><b>Mobile App</b> &minus; Mobile apps for all platforms (Android, iOS and Windows) are available. This app pushes a notification when a sign-in attempt is made and then the user can choose to authenticate, if it is genuine attempt.</p></li>
<li><p><b>Text Message</b> &minus; This method sends a one-time password to the registered mobile phone of the user. They either reply from their phone or enter the one-time password into their sign-in page.</p></li>
<li><p><b>Automated Call</b> &minus; The automated call asks for the user to validate the sign-in attempt by pressing a key on their phone’s dial pad.</p></li>
</ul>
<h2>Create a Multi-Factor Authentication Provider</h2>
<p><b>Step 1</b> &minus; Click ‘New’ at the left bottom corner &rarr; App Services &rarr; Active Directory &rarr; Multi Factor Auth Provider &rarr; Quick Create.</p>
<img src="images/create_multi_factor.jpg" alt="Create a Multi-Factor" />
<p><b>Step 2</b> &minus; Enter the name for the provider.</p>
<p><b>Step 3</b> &minus; Select Usage model. Let’s choose ‘Per Authentication’ for this example. Please note that you won’t be able to change the usage model once multi-authentication provider is created. So please take your needs in consideration before choosing it.</p>
<img src="images/active_directory.jpg" alt="Active Directory" />
<p><b>Step 4</b> &minus; Next, there is an option, if you wish to link the existing directory or not. Here, let’s link an existing directory name ‘tutorialspoint’ that was previously created to this multi-factor provider.</p>
<p><b>Step 5</b> &minus; After you click ‘Create’, it will be listed in your services list. Select the multi-factor provider you just created and you will the following screen.</p>
<img src="images/general.jpg" alt="General" />
<p><b>Step 6</b> &minus; Select ‘Manage’ at the bottom of the screen and you will be taken to a new page as shown in the following image.</p>
<p><b>Step 7</b> &minus; Select ‘Configure’ to choose the authentication.</p>
<img src="images/configure.jpg" alt="Configure" />
<p><b>Step 8</b> &minus; You can set the number of attempts, change the phone number from where the call is made (default number is already there), two-way message timeout (default is 60 seconds), one-time password’s timeout (default is 300 seconds) under general settings. You can also provide an e-mail address where you can be notified if one-time password is bypassed.</p>
<img src="images/configures_settings.jpg" alt="Configures Settings" />
<p><b>Step 9</b> &minus; Scroll down the page and you will see fraud settings. Under Fraud Setting, you can choose to allow the users to send fraud alerts, block the user if an alert is reported and also set an e-mail address where alerts are sent.</p>
<img src="images/fraud_alert.jpg" alt="Fraud Alert" />
<p>After the multi-factor authentication is activated for the users, they will be asked to choose one of the three methods (automated message, text message or mobile app) when they sign in to their account next time. The chosen method will be used to authenticate them each time they sign in to their account.</p>
<h2>Enable the Multi-Factor Authentication for Existing Directory</h2>
<p>One way is to link the directory to multi-factor authentication provider while creating it, as we seen in the previous section. However, you can also do it in the following way for a particular user.</p>
<p><b>Step 1</b> &minus; Go to your directory by choosing it from the left panel and click ‘Manage MultiFactor Auth’ at the bottom of the screen.</p>
<img src="images/manage_multi_factor.jpg" alt="Manage Multi-Factor" />
<p><b>Step 2</b> &minus; It will take you to the following screen. Here you can select the user and enable or disable the multi-factor authentication for the user.</p>
<img src="images/multi_factor_authentication.jpg" alt="Multi-Factor Authentication" />
<h2>Enable Multi-Factor Authentication for On-premises Applications</h2>
<p>When you create a new multi-authentication provider using the management portal and select to manage it, you are taken to the page as was shown in the first section of this chapter. If you want to enable the multi-factor authentication for your on-premise application, you have to install the authentication server by clicking the highlighted link. Then you can configure the setting as desired.</p>
<p><b>Step 1</b> &minus; Click the link encircled in the following image.</p>
<img src="images/enable_multi_factor.jpg" alt="Enable Multi-Factor" />
<p><b>Step 2</b> &minus; You will be taken to the following screen, download the setup and generate activation credentials in order to login to the server.</p>
<img src="images/enable_multi_factor2.jpg" alt="Enable Multi-Factor" />
<h1>Microsoft Azure - Forefront Identity Manager</h1>
<p>Forefront Identity Manager (FIM) is an identity management software that manages the user’s profiles on premises of the organization. It is also known as Microsoft Identity Manager (MIM) or Microsoft Forefront Identity Manager (MFIM). We discussed about Azure Active Directory in this tutorial earlier. FIM is an on-premise version of Azure Active Directory. This software was in existence long before Windows Azure services were launched. As the cloud services evolved, there was a need of user’s profile management in Azure as well. Thus, Microsoft improved the software with the ability to link it with the Azure Active Directory.</p>
<p>Imagine a situation in which a company has their partial data or extended infrastructure on the cloud. This brings up the need of providing access to end user’s on both the locations (on-premise and cloud). FIM lets the users access the data on cloud securely. It also handles the synchronization. It is a very easy interface to create users, set password, and authorize users to reset their own passwords.</p>
<p>Experts find FIM less complex and easy to operate as compared to other identity management software. Also it is easy to use synchronies and use in the environment where Microsoft products are being used.</p>
<img src="images/fim_2010.jpg" alt="Forefront Identity Manager" />
<p>FIM can be connected to Azure Active Directory using the tool <a rel="nofollow" target="_blank" href="http://www.microsoft.com/en-us/download/details.aspx?id=41166&amp;WT.mc_id=rss_alldownloads_all">Forefront Identity Manager Connector for Windows Azure Active Directory</a>. This tool helps to synchronize the data on-premise in FIM to the Azure Active Directory.</p>
<img src="images/fim_active_dir.jpg" alt="FIM Active Directory" />
<p>Once you have downloaded and installed the tool, you have to simply follow the wizard, in order to connect your FIM information with on-cloud Azure Active Directory.</p>
<img src="images/fim_cloud.jpg" alt="FIM Cloud" />
<h1>Microsoft Azure - Data Import &amp; Export Job</h1>
<p>This is very useful service for the clients in case a large amount of data cannot be accessed over the network from their storage account. Azure gives an option to its clients that they can put their data on a hard drive and ship them to Azure datacenters. That data is then uploaded to their storage account. Similarly, if data is needed to be downloaded by the client that is not viable to do over the network, they can ship an empty hard drive to the datacenter and Azure team will copy the data to that drive and ship it back to the client. In both cases, the data is encrypted.</p>
<h2>Data Export Job</h2>
<p>Let’s assume you have a large amount data in your Azure storage account and you want a copy of that data.</p>
<h2>Create an Export Job</h2>
<p>In this process, you will be given a shipping address, to where the empty hard drives needs to be shipped.</p>
<p><b>Step 1</b> &minus; Login to Azure management portal and select the ‘Storage’ from the left panel.</p>
<p><b>Step 2</b> &minus; Select the storage account.</p>
<p><b>Step 3</b> &minus; Click ‘Import/Export’ from the top menu.</p>
<p><b>Step 4</b> &minus; Create ‘Export Job’.</p>
<img src="images/create_export_job.jpg" alt="Create Export Job" />
<p>The following screen will pop up.</p>
<img src="images/create_export_job_pop.jpg" alt="Create Export Job" />
<p><b>Step 5</b> &minus; On clicking the next arrow, you will see the following screen, where you will have to provide your contact and shipping details.</p>
<img src="images/contact_details.jpg" alt="Contact Details" />
<p><b>Step 6</b> &minus; In the next screen, you will have to select the Blob Data you want to export. You can specify the path or choose to export all blob data from the storage account.</p>
<img src="images/select_data.jpg" alt="Select Data" />
<p><b>Step 7</b> &minus; Enter a name for job in lower case letters. Address you can see here is the address where the hard drives is to be shipped. This address is based on the location of my storage account.</p>
<img src="images/next_steps.jpg" alt="Next Steps" />
<p><b>Step 8</b> &minus; In the next step, you will have to provide the shipping details of the hard drive for delivery to datacenter and return to your location.</p>
<img src="images/create_export_job8.jpg" alt="Create Export Job" />
<p><b>Step 9</b> &minus; Click next and you are done.</p>
<h3>Hard Drives to Be Shipped</h3>
<p>In order to determine how many hard drives you need for the Blob data, you will have to use <b>Microsoft Azure Import/Export Tool</b>. You will have to download and install this tool on your machine. Only 3.5 inch SATA hard drive I/II are up to 6TB supported.</p>
<h3>Ship the Hard Drives</h3>
<p>You need to ship the hard drives to the shipping address obtained while creating the export job. Then you need to come back to the management portal to enter the tracking number, in case you chose to provide the tracking number after shipping in the screen above.</p>
<h3>Decrypt the Data</h3> 
<p>You will have to enter the decryption key before reading the data on hard drives. You can get the decryption key from your management portal by selecting the job name.</p>
<h3>Data Import Job</h3>
<p>If you want to store the large amount of data to your storage account, you can do so by saving it on the hard drive and shipping it to the datacenter.</p>
<h3>Prepare the Hard Drives</h3>
<p>You will have to use <b>Microsoft Azure Import/Export Tool</b> to prepare the hard drives. As mentioned in earlier section, the only 3.5 inches SATA hard drives are supported for this purpose. This process will create a drive journal file that you will need while creating the import job in management portal. The journal file will be saved on your computer.</p>
<h2>Create Import job</h2>
<p><b>Step 1</b> &minus; Login into the management portal and go to the storage account.</p>
<p><b>Step 2</b> &minus; Select ‘import/export’ at the bottom of the screen.</p>
<p><b>Step 3</b> &minus; Select ‘Create Import Job’.</p>
<p><b>Step 4</b> &minus; Check the checkbox and click Next.</p>
<img src="images/create_import_job.jpg" alt="Create Import Job" />
<p><b>Step 5</b> &minus; In the next screen, provide the contact details of the return shipping address. Enter the details and click Next.</p>
<img src="images/create_import_job5.jpg" alt="Create Import Job" />
<p><b>Step 6</b> &minus; Upload the Drive Journal File that was created while preparing the hard drive.</p>
<img src="images/journal_files.jpg" alt="Journal Files" />
<p><b>Step 7</b> &minus; Enter the name for import job.</p>
<p><b>Step 8</b> &minus; Enter the shipping details for the delivery of hard drives to the datacenter and return to your location.</p>
<h3>Ship the Hard Drives to the Datacenter</h3> 
<p>Ship the hard drive to the address obtained while creating import job in the management portal. Enter the shipping tracking number for the job in the management portal in order to complete the job.</p>
<h1>Microsoft Azure - Websites</h1>
<p>There is a detailed description of how to create websites in Azure in the chapter, ‘Compute Module’. Azure websites service is named ‘Web Apps’ everywhere in the management portal so don’t get confused. This chapter will discuss few more terms associated with Azure websites. In normal hosting environment, developers usually encounter problem when they deploy their websites in production. Azure websites service ensures that developers encounter least problems while deploying their websites. Also, Azure website service comes under PaaS (Platform as a Service). This means that websites can be deployed without actually having a full-fledged infrastructure.</p> 
<h2>Create a Website in Azure Management Portal</h2>
<p>Just to reconnect with the website creation, let’s take a look at these steps of how to create a website in Azure Management portal.</p>
<p><b>Step 1</b> &minus; Login to your management portal.</p>
<p><b>Step 2</b> &minus; Click ‘New’ at the left bottom corner of the screen &rarr; Compute &rarr; Web Apps &rarr; Quick Create.</p>
<img src="images/create_website_amp.jpg" alt="Create Website AMP" />
<p><b>Step 3</b> &minus; Enter the details as shown in the picture above and click ‘Create Web App’.</p>
<p><b>Step 4</b> &minus; Go back to websites in your management portal and you will see it listed. Click the URL.</p>
<img src="images/web_apps.jpg" alt="Web Apps" />
<p>You will be taken to the website that you just created.</p>
<img src="images/web_apps_succuessfull.jpg" alt="Web Apps Successfull" />
<h2>Deploying Azure Website from Visual Studio</h2>
<p>Let’s publish our website from Visual Studio in the domain name we just created. After a website or web application is created in Visual Studio.</p>
<p><b>Step 1</b> &minus; Go to Solution Explorer and right click on the website/webapp name.</p> 
<p><b>Step 2</b> &minus; Choose ‘publish’.</p>
<img src="images/website_from_visual.jpg" alt="Website from Visual Studio" />
<p><b>Step 3</b> &minus; In this step, you need to connect to Azure subscription account in order. Click ‘Import’.</p>
<img src="images/publish_web.jpg" alt="Publish Web" />
<p><b>Step 4</b> &minus; Click ‘Add Azure Subscription’.</p>
<img src="images/add_azure_subscription.jpg" alt="Add Azure Subscription" />
<p><b>Step 5</b> &minus; For the first time, you will have to ‘Download Subscription file’.</p>
<img src="images/download_subscription_file.jpg" alt="Download Subscription File" />
<p><b>Step 6</b> &minus; The above step will download a file with extension .publishsetting on your computer (if you are not logged in, it will ask you to login before downloading).</p>
<p><b>Step 7</b> &minus; Come back to the same pop-up and now browse for the file that was just downloaded.</p>
<img src="images/website_from_visual7.jpg" alt="Website from Visual Studio" />
<p><b>Step 8</b> &minus; Now expand the dropdown and you will see the websites available in your subscription. As in the picture below you can see two websites. Let’s select ‘tutorialsPoint’.</p>
<img src="images/website_from_visual8.jpg" alt="Website from Visual Studio" />
<p><b>Step 9</b> &minus; On the following screen, leave the defaults on. There are many options for public methods. We need ‘Web Deploy’ method here. Click ‘Validate Connection’.</p>
<p><b>Step 10</b> &minus; On the next screen, again the leave the defaults on.</p>
<p><b>Step 11</b> &minus; Finally on the last screen, click publish.</p>
<img src="images/website_from_visual11.jpg" alt="Website from Visual Studio" />
<p><b>Step 12</b> &minus; Go to the URL of website and you will see your content.</p>
<img src="images/website_from_visual12.jpg" alt="Website from Visual Studio" />
<p>You can see how easy it is to deploy a website in Azure using Visual Studio. You can make changes in Visual Studio and publish it from there itself. This makes testing of applications very easy.</p>
<h2>Monitoring the Website</h2>
<p>In the management portal, if you go to the website’s dashboard you can see the figures related to the website. You can control lots of things related to your website from this section of your management portal. You can see the website metrics, create backup, configure setting, and scale the website.</p>
<p><b>Step 1</b> &minus; To see the website metric, select monitor from top menu and you will see the following screen.</p>
<img src="images/monitoring_website.jpg" alt="Monitoring the Website" />
<p><b>Step 2</b> &minus; Go to the website and select ‘Dashboard’ from the top menu.</p>
<p><b>Step 3</b> &minus; Scroll down and you will see the following information.</p>
<img src="images/monitoring_website3.jpg" alt="Monitoring the Website" />
<h2>Staged Publishing</h2>
<p>Windows Azure enables the deployment of a website in stages. You can create the deployment slots.</p>
<img src="images/staged_publishing.jpg" alt="Staged Publishing" />
<h3>Add a Deployment Slot for Testing Before Production</h3>
<p>Basically, this feature allows you to deploy your website in a separate slot for testing purpose and then switch the slot. If anything goes wrong, you can simply go back to the previous version by changing the slot. Sometimes, applications don’t behave well as they are expected to at a large scale, this feature comes handy in such situations. This makes deployment tasks very easy for developers and organizations.</p>
<h1>Microsoft Azure - Scalability</h1>
<p>Scaling is adaptability of the system to the changed amount of workload or traffic to the web application. One of the great features of Azure service is its ability to auto scale  according to the demands of the application usage.</p>
<p>Basically, increasing or decreasing the resources for application is called scaling. Instance is created each time a web app is deployed. Creating the instance means assigning a server to that application. Increasing the instance means adding up the servers assigned to that application. The scaling is done by creating more instances which is called <b>scaling out</b>. Another way of achieving the scaling is provisioning the larger role instances, also called <b>scaling up</b>.</p>
<p>Configuring scaling is easier in Azure as compared to traditional hosting. The primary server does not need to be taken down. It also eliminates the physical constraints of adding resources.</p>
<p>Scaling features depend on the app service plan you opt for in Azure. There are five App service plans in Azure &minus;</p>
<table class="table table-bordered">
<tr>
<th style="text-align:center;"></th>
<th style="text-align:center;">Maximum Instances</th>
<th style="text-align:center;">Auto-scaling Supported</th>
</tr>
<tr style="text-align:center;">
<th style="text-align:center;">Free</th>
<td>1</td>
<td>No</td>
</tr>
<tr style="text-align:center;">
<th style="text-align:center;">Shared</th>
<td>1</td>
<td>No</td>
</tr>
<tr style="text-align:center;">
<th style="text-align:center;">Basic</th>
<td>3</td>
<td>No</td>
</tr>
<tr style="text-align:center;">
<th style="text-align:center;">Standard</th>
<td>10</td>
<td>Yes</td>
</tr>
<tr style="text-align:center;">
<th style="text-align:center;">Premium</th>
<td>50</td>
<td>Yes</td>
</tr>
</table>
<p>In free and shared service plan, you cannot scale the application as only one instance is available. In basic plan, you can scale the application manually. This means you have to check the metrics manually to see if more instances are needed and then can increase or decrease them from your Azure management portal. In standard and premium plan, you can choose to auto scale based on few parameters.</p>
<p>To see the all options available in different plans &minus;</p>
<p><b>Step 1</b> &minus; Go to your web app in the management portal and select ‘scale’ from the top menu. You can see under free service plan only 1 instance is created.</p>
<img src="images/scalability.jpg" alt="Scalability" />
<p><b>Step 2</b> &minus; Under shared plan, you can create 1 instance but you don’t have the option of auto scaling.</p>
<img src="images/shared_plan.jpg" alt="Shared Plan" />
<p><b>Step 3</b> &minus; Under basic service plan, you can create up to 3 instances but do have option to auto scale. That means you can increase instances manually when you need to. Moreover, you can choose the size of the instance.</p>
<img src="images/basic_service_plan.jpg" alt="Basic Service Plan" />
<p><b>Step 4</b> &minus; Under standard service plan, you can chose auto-scaling based on &minus;</p>
<p><b>CPU percentage</b> &minus; You can choose to increase the instances depending upon the average CPU percentage over a specified period of time. In the following image, you can see we have chosen to increase the instances up to 3 if average CPU usage gets between 60% and 80%.</p>
<img src="images/scalability_cpu_per.jpg" alt="Scalabilities CPU percentage" />
<p><b>Schedule</b> &minus; You can set the number of instances that should run for a particular day of the week or for a particular time in a day. Additionally, you can specify the dates when you need to increase the instances.</p>
<img src="images/scalability_schedule.jpg" alt="Scalabilities Schedule" />
<p>Here premium option for this application is not discussed. You might see different options based on your subscription for service plans. But the concept will remain the same.</p>
<h3>Things to Consider</h3>
<ul class="list">
<li><p>You can change the service plan even after creating it.</p></li>
<li><p>All the instances are from the same service plan. You cannot have one instance from shared and another from standard for the same application. Thus, you cannot mix and match instances from different service plans for the same application.</p></li>
<li><p>Even if you have opted for auto-scaling, you should keep a check on metrics and performance of your application for the best out of Azure. This way you would be able to save money as well as optimize the performance of the applications.</p></li>
</ul>
<h1>Microsoft Azure - Disk Configuration</h1>
<p>You would have noticed that we can attach a disk to a virtual machine that we create in Azure. We will be discussing those disks in this chapter. Disk here is referred to the data disks that can be stored on Azure. All kinds of disks are virtual hard drives with .vhd extensions. Vhds are the image file that stores the contents of physical hard drive. So they are images of the files, which we usually find on our computer’s hard drive. There are two types of virtual hard disks &minus;</p>
<ul class="list">
<li>Operating system VHDs and Data Disks</li>
<li>Image VHDs</li>
</ul>
<p>On the basis of the extendibility, there are two types of VHDs &minus;</p>
<ul class="list">
<li>Fixed Size</li>
<li>Dynamically Expanding</li>
</ul>
<p>Azure supports only fixed sized VHDs. If you have to upload expandable VHD you will have to first convert it to fixed size VHDs. Maximum size supported by Azure is 1 terabyte for a disk.</p>
<h2>Virtual Machine and Disks</h2>
<p>When we create a virtual machine, it always resides in a storage account in Azure account. If there is no existing storage account in Azure, while attempting to create a virtual machine, Azure will automatically create one. If you already have a storage account, it will ask you to choose the storage account while creating a virtual machine. There is a detailed how-to on creating a virtual machine in this tutorial.</p>
<h2>Create/Attach a Disk in Virtual Machine</h2>
<p><b>Step 1</b> &minus; Go to the virtual machine.</p>
<p><b>Step 2</b> &minus; Select ‘Dashboard’ from the top menu.</p>
<p><b>Step 3</b> &minus; Click ‘Attach disk’ &rarr; Attach empty disk at the bottom of the screen.</p>
<img src="images/create_disk_in_virtual.jpg" alt="Create Disk in Virtual Machine" />
<p><b>Step 4</b> &minus; Enter the details in the following screen that pops up.</p>
<img src="images/create_disk_in_virtual4.jpg" alt="Create Disk in Virtual Machine" />
<p>It will take few seconds to attach the disk to the virtual machine.</p>
<h2>Configure the Disk in Virtual Machine</h2>
<p><b>Step 1</b> &minus; Connect to the virtual machine through .rpd file downloaded on your local machine.</p>
<p><b>Step 2</b> &minus; In the virtual machine, right-click the windows icon at the left bottom corner and select ‘Disk Management’.</p>
<img src="images/config_disk_virtual.jpg" alt="Configure Disk in Virtual Machine" />
<p><b>Step 3</b> &minus; You will see a message saying Disk is available on the screen. This is the same disk that you attached in the previous step.</p>
<img src="images/disk_management.jpg" alt="Disk Management" />
<p><b>Step 4</b> &minus; Before you can use it, you need to allocate it. You will see that it is still unallocated. Scroll down on the same screen and locate the disk as shown in the following image, it is Disk 2. Right-click on it and select ‘New Simple Volume’.</p>
<img src="images/config_disk_virtual4.jpg" alt="Configure Disk in Virtual Machine" />
<p><b>Step 5</b> &minus; Follow the wizard. It will ask very general things, like naming the drive and file system. In the last screen, make sure to keep the quick format option checked.</p>
<img src="images/new_simple_volume.jpg" alt="New Simple Volume" />
<p><b>Step 6</b> &minus; After the wizard’s job is over, you will be ready to use the disk. In this example, we have created the ‘F’ drive. You can create the folder and files or copy your data in the F drive.</p>
<img src="images/f_drive.jpg" alt="F Drive" />
<h2>Delete the Disk</h2>
<p>You will have to first locate the disk in order to delete. Locating the right disk is very important. When you create a virtual machine you select the storage account for it. Disks reside in the storage account.</p>
<p><b>Step 1</b> &minus; Go to the storage account of the virtual machine.</p> 
<p><b>Step 2</b> &minus; Click ‘Containers’ from the top menu.</p>
<p><b>Step 3</b> &minus; Click vhd.</p>
<img src="images/delete_disk.jpg" alt="Delete Disk" />
<p><b>Step 4</b> &minus; All the vhds in that storage account will be listed. This list will also contain the vhds from other virtual machines so be very careful while selecting the vhd.</p>
<p><b>Step 5</b> &minus; Select the vhd you want to delete. You must know the name of the disk in order to identify it among the several vhds in the list (when you attach the disk you are prompted to enter the name of the disk).</p>
<img src="images/vhds.jpg" alt="VHDs" />
<h2>Image Disks</h2>
<h3>Create an image from Virtual Machine</h3>
<p><b>Step 1</b> &minus; Go to the management portal.</p>
<p><b>Step 2</b> &minus; Select the virtual machine you want to create an image of.</p>
<p><b>Step 3</b> &minus; Click ‘Dashboard’ from the top menu.</p>
<p><b>Step 4</b> &minus; Click the ‘Capture’ icon at the bottom of the window.</p>
<img src="images/image_disk4.jpg" alt="Image Disk" />
<p><b>Step 5</b> &minus; Name the image and enter the description.</p>
<img src="images/image_disk5.jpg" alt="Image Disk" />
<p><b>Step 6</b> &minus; Once capturing is done, to find the image, follow the points given below &minus;</p>
<ul class="list">  
<li><p>Select Virtual Machines from the panel. All the virtual machines in your account will be listed there.</p></li>
<li><p>Click ‘Images’ from the top menu.</p></li>
</ul>
<img src="images/virtual_machines.jpg" alt="Virtual Machines" />
<h3>Create an Image from Your Computer</h3> 
<p>This is done through sysprep tool available in all modern Windows operating system.</p>
<p><b>Step 1</b> &minus; Go C drive &minus;&gt; Windows &minus;&gt; System32 &rarr; Sysprep</p>
<p><b>Step 2</b> &minus; Alternatively copy the following path in the address bar 
C:\Windows\System32\Sysprep</p>
<p><b>Step 3</b> &minus; Run ‘sysprep’ application. This will create a VHD file on your computer which is the image of your machine.</p>
<img src="images/create_image_disk.jpg" alt="Create Image Disk" />
<h3>Considerations</h3>
<p>You might get confused with the names of vhds, when you have multiple virtual machines under the same storage account. A way of knowing the name of the vhds associated with a particular machine is running ‘Get-AzureDisk’ cmdlet in Windows PowerShell. This cmdlet will get you all the details of disks in each virtual machine.</p>
<img src="images/disk_consideration.jpg" alt="Disk Considerations" />
<p><b>Step 1</b> &minus; Run the following command</p>
<pre class="result notranslate">
Get-AzureDisk  
</pre>
<p><b>Step 2</b> &minus; Locate your virtual machine name in the list. Under that virtual machine, check the diskname and medialink for your vhd name and link.</p>
<h1>Microsoft Azure - Disk Caching</h1>
<p>We saw in the previous chapter ‘Disk Configuration’, how we had to choose cache preference for the disk we attached. By default it is ‘none’. We can choose read-only or read/write as per our requirements. This chapter will discuss how this setting affects the performance of input/output operations.</p>
<img src="images/disk_caching.jpg" alt="Disk caching" />
<p>Normally, cache settings make considerable improvement when read-write operations with large amount of data are done. However, if lot of random I/O operations are done, turning the cache off is preferable as operations on cache incur charges on the basis of number of transactions. Random operations will not make any signification improvement in performance.</p>
<p>Read cache improves the performance, when data is read before, during input-output operations, and stored into cache. Also cache should be big enough to store all the data.</p>
<p>For all the OS disks, in-memory caching is done by default unless it is turned off manually by the user. If lots of random I/O operations on files are done in OS disks, it is better to move them in a data disk where by default cache is turned off. Cache settings can be manipulated using PowerShell command lets, APIs and Azure management portal. We can set the cache from the management portal while creating virtual machines and data disks.</p>
<h1>Microsoft Azure - Personalize Access</h1>
<p>We have two portals to access and manage our Azure service by logging in to our Azure account. Azure management portal has some issues with responsiveness, thus a second portal named preview portal was designed. The preview portal was launched later to improve the user experience on tablets and mobile devices.</p>
<p>Clients, who are managing their services through Azure portal, often come here and Azure team has provisioned the personalization of the look of Azure preview portal. Users can choose the color and features to be displayed on the dashboard, which makes it easy for them to navigate through the services in the portal. Let us see what can be personalized in Azure preview portal.</p>
<p>You can directly login to the preview portal by visiting <a href="https://portal.azure.com/" rel="nofollow" target="_blank"> https://portal.azure.com/</a> and using your Azure account or you can switch to it from Azure management portal. Azure team keeps making little changes but the overall concept remains the same. So when you try to customize your portal, it might look a little different but the basic features will remain the same.</p>
<p><b>Step 1</b> &minus; Login to Azure management portal.</p>
<p><b>Step 2</b> &minus; Switch to Azure preview portal by clicking on your photo and choosing ‘Switch to Azure Preview Portal’.</p>
<img src="images/preview_portal.jpg" alt="Preview Portal" />
<p><b>Step 3</b> &minus; You will see the following screen which is the dashboard of your Azure account. The tiles in the middle of the screen are some of the common tasks performed by Azure preview portal. To personalize these tiles click the ‘Settings Icon’ encircled.</p>
<img src="images/dashboard_azure_account.jpg" alt="Dashboard Azure Account" />
<p><b>Step 4</b> &minus; It will take you to the following screen. You can maximize the screen by clicking on the button encircled. You can choose from the available themes which will change the background color of the screen. On the same screen, you can choose to show/hide the command labels that display the name of the command. Similarly, you can enable/disable the animations.</p>
<img src="images/dashboard_azure_account4.jpg" alt="Dashboard Azure Account" />
<p><b>Step 5</b> &minus; If you scroll down, you will see an option to change the language.</p>
<img src="images/change_language.jpg" alt="Change Language" />
<p><b>Step 6</b> &minus; You can also change the size of the tile. You can make it bigger or smaller. For example, on the following screen if you want my resource groups bigger &minus;</p>  
<p>Right-click on the tile and choose customize.</p>
<img src="images/size_change.jpg" alt="Size Change" />
<p>Alternatively, choose ‘customize’ from the top strip of the tile. It will appear when you hoover your cursor over it.</p>
<p>Choose the size of the tile. Click ‘Done’ on the top of the screen.</p>
<img src="images/choose_customize.jpg" alt="Choose Customize" />
<p><b>Step 7</b> &minus; You can also customize your dashboard by moving the tiles as per your choice. You just have to drag and drop the tile to a different location on the screen.</p>
<p><b>Step 8</b> &minus; You can pin any of your resources to the dashboard.</p>
<p>Go to the resource. Right-click on it or click the three dots.</p>
<img src="images/dashboard_resources.jpg" alt="Dashboard Resources" />
<p>Click on the ‘Pin to Dashboard’.</p>
<p>When you come back to the dashboard by clicking on the ‘Microsoft Azure’ at the top left corner, you will see the resource there as shown in following image.</p>
<img src="images/pin_dashboard.jpg" alt="Pin Dashboard" />
<h1>Azure - Personalize Company Branding</h1>
<p>When a company has many applications, they might want to have the company’s look and feel on the sign-in page of those applications. There could be several objectives behind this, including marketing. Companies that use Azure Active Directory for identity management can do it by customizing the appearance of the sign-in page.</p>
<p>This feature is available for basic and premium editions of Azure Active Directory. You won’t find this in free edition.</p>
<p>If you don’t have subscription to basic or premium edition you can have a free trial of premium edition.</p>
<h2>Active Free Trial of Azure Active Directory (ADD) Premium Edition</h2>
<p><b>Step 1</b> &minus; Login to your Azure Management Portal.</p> 
<p><b>Step 2</b> &minus; Go to Azure Active Directory you want to work with.</p>
<p><b>Step 3</b> &minus; Click on ‘Licenses’ tab from the top menu as shown in the following image.</p>
<img src="images/licenses.jpg" alt="Licenses" />
<p><b>Step 4</b> &minus; Click ‘Try Azure Active Directory Premium Now’ and it will be activated for that directory.</p>
<img src="images/active_directory_premium.jpg" alt="Active Directory Premium" />
<p>Refresh your page as it might take a few seconds to update and show up on your portal. Once it is activated, you will see the plan under ‘Licenses’ tab.</p>
<h2>Customize Branding</h2>
<p>Before moving ahead, make sure that the images (logo, background, square background)  you want to display on the sign-in page are of correct sizes and dimensions. If you don’t take care of this, you would waste your time uploading images and then ultimately you will find that branding changes are not done. Here are certain specifications &minus;</p>
<table class="table table-bordered" style="text-align:center">
<tr>
<th>Image</th>
<th>Size in kb</th>
<th>Recommended Dimensions</th>
<th>Maximum Dimensions</th>
<th>Supported Format</th>
</tr>
<tr>
<th>Logo</th>
<td>5-10</td>
<td>60-280</td>
<td>60-300</td>
<td>png/jpeg</td>
</tr>
<tr>
<th>Square Logo</th>
<td>5-10</td>
<td>240-240</td>
<td>240-240</td>
<td>png/jpeg </td>
</tr>
<tr>
<th>Square Logo Dark Theme</th>
<td>5-10</td>
<td>240-240</td>
<td>240-240</td>
<td>png/jpeg </td>
</tr>
<tr>
<th>Sign-in page illustration</th>
<td>500 (300 recommended)</td>
<td>1420-1200</td>
<td>1420-1200</td>
<td>Png/jpeg/gif</td>
</tr>
</table>
<p><b>Step 1</b> &minus; Go to the directory you want to work with.</p>
<img src="images/customize_branding.jpg" alt="Customize Branding" />
<p><b>Step 2</b> &minus; Click on ‘Configure’ tab from the top menu.</p>
<p><b>Step 3</b> &minus; Click ‘Customize Branding’ button. The following pop-up will appear.</p>
<img src="images/customize_branding3.jpg" alt="Customize Branding" />
<p><b>Step 4</b> &minus; Enter the details and upload the images.</p>
<p><b>Step 5</b> &minus; Click Next and enter the details.</p>
<img src="images/customize_branding5.jpg" alt="Customize Branding" />
<p>After you are done, do look for the notifications at the bottom of the window to make sure that changes are accepted. In the following image, you can see a notification in red outline which shows that it wasn’t successful in a previous attempt and threw an error. If the changes are not accepted and an error occurs, click ‘Details’ button to find the cause. Usually this occurs when the size and dimension of images to be uploaded are not correct.</p>
<img src="images/customize_branding_dimension.jpg" alt="Customize Branding Dimension" />
<h2>Login with Customized Sign-in Page</h2>
<p>When you sign in to your organization’s application, you will see your logo, big illustration image and sign-in text on that page. For example, let’s sign in to Office 365 using organization’s account.</p>
<img src="images/customize_signin.jpg" alt="Customized Sign-in Page" />
<h3>Things to Consider</h3>
<ul class="list">
<li><p>Domain name should be active.</p></li>
<li><p>It might take up to an hour for changes to appear on the sign-in page.</p></li>
<li><p>To test, choose ‘in-private’ session of internet explorer (or corresponding session in other browser where cookies don’t affect your browsing).</p></li>
</ul>
<h1>Azure - Self-Service Password Reset</h1>
<p>Users in your directory can be granted permission to reset their password, if they forget their password, in a few steps rather than having to ask the administrator to do so for them. This saves time and cost of the IT department or helpdesk dealing with such kind of tasks in an organization. Administrator can set the policy of resetting the password. This service is available in basic and premium edition of Azure Active Directory. In the chapter ‘Personalize Company Branding’ a small ‘how-to’ on getting a free trial of Azure Active Directory premium edition is included.</p>
<p><b>Step 1</b> &minus; Login to the management portal.</p> 
<p><b>Step 2</b> &minus; Go to the active directory.</p>
<p><b>Step 3</b> &minus; Click on the ‘Configuration’ tab.</p>
<p><b>Step 4</b> &minus; Scroll down and locate ‘User Password Reset Policy’ heading.</p>
<img src="images/password_reset_policy.jpg" alt="Password Reset Policy" />
<p><b>Step 5</b> &minus; Click ‘Yes’ to enable users for password reset as shown in the following picture and scroll down to set the policy.</p>
<p><b>Step 6</b> &minus; You can choose to allow users to reset their password in certain groups.</p>
<img src="images/password_reset_policy6.jpg" alt="Password Reset Policy" />
<p><b>Step 7</b> &minus; Refer to the image above; you have four options to choose from to authenticate the password reset. For example, let’s choose two of them here. Users in this case will be able to use their mobile phone or alternate e-mail address to verify the password reset.</p>
<img src="images/password_reset_policy7.jpg" alt="Password Reset Policy" />
<p><b>Step 8</b> &minus; In ‘Number of Authentication Methods Required’ dropdown, if you choose 2 than users will have to provide two identification information (e.g. mobile phone and office phone).  In this example, let’s leave it as one.</p>
<img src="images/password_reset_policy8.jpg" alt="Password Reset Policy" />
<p><b>Step 9</b> &minus; Next option is whether you want them to register for self-password reset or not. If you choose ‘No’, the administrator will have to do it for each user individually.</p>
<p><b>Step 10</b> &minus; ‘Customize "Contact Your Administrator" link. You can give a specific webpage link or an e-mail id where the user can contact when he encounters a problem while resetting his password.</p>
<p><b>Step 11</b> &minus; Click ‘Save’ at the bottom of the screen.</p>
<p>Next time when users login to access their account, they will be asked to register for password reset service where they can feed in their phone number or e-mail address. This information will be used when they forget/lose their password. In this example, as the policy set, they can choose from one of the options for verification code, through a call on their mobile phone, a text on their mobile phone or through an e-mail to an alternate email address.</p>
<h1>Azure - Self-Service Group Management</h1>
<p>Users can themselves create groups in the access panel. Let us see how to enable users to create and join groups.</p>   
<h2>Policy Setup for Self-service Group Management</h2>
<p><b>Step 1</b> &minus; Login into the management portal.</p>
<p><b>Step 2</b> &minus; Go to the Active Directory.</p>
<p><b>Step 3</b> &minus; Click ‘Configure’ tab from the top menu.</p>
<p><b>Step 4</b> &minus; Scroll down and locate ‘group management’ heading. Here you can choose to let users create and manage their own group. There are 6 things that you need to set under this heading. Azure team keeps adding the features.</p>
<img src="images/policy_setup_for_sgm.jpg" alt="Policy Setup for SSGM" />
<p><b>Step 5</b> &minus; First option is ‘Delegated Group Management enabled'. If you choose yes, it will allow you to handover authority to manage the groups to users through the access panel which is the main purpose.</p>
<p><b>Step 6</b> &minus; Second option is whether users can create security groups.</p>
<p><b>Step 7</b> &minus; Third option is you can choose either to allow all users to manage groups or some of them. If you choose ‘Some’ you will have to specify the group.</p>
<p><b>Step 8</b> &minus; Fourth option is, it lets you enable/disable the users to create groups in Office 365.</p>
<p><b>Step 9</b> &minus; Fifth option is, if you want to allow some of the users to create and manage groups for Office 365, you will have to specify them.</p>
<p><b>Step 10</b> &minus; Last option, is to enable dedicated group. If you choose to enable them you will be asked to add the group members.</p>
<p>After you have made changes, a ‘Save’ button will appear at the bottom of the screen to save changes.</p>
<h1>Microsoft Azure - Create a Group</h1>
<p>In this section, we are creating a group. The user who creates the group is the owner of the group and he can add or delete members in the group. Since we granted permissions to users to create their own group in the previous step, any user in this directory can create and manage a group.</p>
<p><b>Step 1</b> &minus; Go to the Access Panel by visiting <a rel="nofollow" target="_blank" href="https://myapps.microsoft.com/">myapps.microsoft.com</a></p>
<p><b>Step 2</b> &minus; Login to your azure Account.</p>
<p><b>Step 3</b> &minus; At the top, you will see ‘Groups’. Click on it to create a new group.</p>
<img src="images/new_group.jpg" alt="New Group" />
<p><b>Step 4</b> &minus; Choose ‘My groups/All’ from the dropdown at the top.</p>
<p><b>Step 5</b> &minus; Click on ‘Create new Group’.</p>
<p><b>Step 6</b> &minus; The following screen will pop up. Enter the name and description of the group.</p>
<img src="images/description_group.jpg" alt="Description Group" />
<p><b>Step 7</b> &minus; You can let all users to join the group or choose them to ask for the group owner’s approval before joining the group. I have chosen the first option in which approval of the owner is required. This means users who want to join the group other than users added, will have to ask for approval.</p>
<p><b>Step 8</b> &minus; Choose the desired option and click ‘Create’.</p>
<p><b>Step 9</b> &minus; Come back to the ‘Groups’ page. To add members to the group, select the group. In this case, let’s select ‘Developers Group’.</p>
<img src="images/come_back_group.jpg" alt="Come Back Group" />
<p><b>Step 10</b> &minus; Click ‘Add Members’.</p>
<img src="images/add_group_member.jpg" alt="Add Group Member" />
<p><b>Step 11</b> &minus; The following pop-up will list all the users in the directory. You can add the members by clicking on their name.</p>
<img src="images/add_group_member1.jpg" alt="Add Group Member" />
<p><b>Step 12</b> &minus; You can add/delete member, edit group’s description, and delete group on this page. Also you can make someone else the owner of this group.</p>
<img src="images/add_delete_group_member.jpg" alt="Add Delete Group Member" />
<p>If someone wants to join the group, he will ask for the owner’s approval. The owner will get a notification and will see the request in ‘approvals’ tab of the access panel as shown in the image above. Also, if someone has requested to join a group that is owned by someone else, he will see his requests here.</p>
<h1>Microsoft Azure - Security Reports &amp; Alerts</h1>
<p>Azure Active Directory enables the administrator to view the security reports that contain different types of data.</p> 
<h2>Anomalies Reports</h2>
<p>This contains any data of sign-in attempt which is normal. If the system detects anything abnormal during the sign-in, it is collected in anomalies report. There are 9 types of reports available under this category, as you can see in the following image.</p>
<p>To view these reports &minus; </p>
<p><b>Step 1</b> &minus; Login to the management portal and go to the active directory.</p>
<p><b>Step 2</b> &minus; Click ‘Reports’ tab from the top menu.</p>
<p><b>Step 3</b> &minus; Click on one of the categories you want to see data for under ‘Anomalous Activity’.</p>
<img src="images/views_reports.jpg" alt="View Reports" />
<h2>Activity Reports</h2>
<p>On the same screen, if you scroll down you will see few reports under the heading ‘Activity Report’. These are the activities like password reset, registration, etc. Each report name is self-explanatory. Currently, there are 4 types of reports under this category.</p>
<img src="images/activity_reports.jpg" alt="Activity Reports" />
<p>If you click on one of them, you will be shown the details as in the following image. Here, let’s look for the audit report. You can see 1 activity has come up. All other kinds of reports are listed in the left panel where you can easily navigate through them. Also, you can download the report in CSV format by clicking on the ‘Download’ button at the bottom of the screen.</p>
<img src="images/activity_reports1.jpg" alt="Activity Reports" />
<h2>Integrated Application</h2>
<p>This category contains the reports of the usage of cloud application in the organization. This category provides an interactive way to monitor the applications usage.</p>
<img src="images/integrated_application.jpg" alt="Integrated Application" />
<p>For example, in the following screen when you click on ‘Application Usage’ in the left panel, you can see that there are 12 sign-ins in App Access Panel and 3 in Visual Studio application.</p>
<img src="images/integrated_application1.jpg" alt="Integrated Application" />
<h2>Search Activity of a Particular User</h2>
<p>Azure Active Directory provides one more useful feature that allows the administrator to search an activity for a particular user. As soon as you click on the ‘Reports’ in the top menu, you will see the following screen. You just have to enter the user display name or the user principal name. You will see all directory activities.</p>
<img src="images/particular_user.jpg" alt="Particular User" />
<p>In the above screen, we have searched by entering the display name of the user and the user’s activity details with time and date are listed on the screen.</p>
<h3>Azure Active Directory Editions and Reports</h3>
<p>All kinds of reports are not available in all the editions of Azure Active Directory. The following table lists the types of reports available in three editions of Azure Active Directory.</p>
<img src="images/directory_editions.jpg" alt="Directory Editions" />
<p></p>
<img src="images/directory_editions1.jpg" alt="Directory Editions" />
<h1>Microsoft Azure - Orchestrated Recovery</h1>
<p>Orchestrated recovery is one of the features in Azure Site Recovery service. Azure Site Recovery automates the recovery of applications in case of failover at the primary site. This recovery is done in a coordinated way to restore the applications even if they have multi-tier workload. With multitier applications a coordinated recovery is essential to restore the service quickly, which is a challenging part of IT disaster and recovery tasks. However with the cloud technology, this has become very a simple and easy task.</p>
<p>In order to activate orchestrated site recovery you have to create a recovery plan. This can be done in Azure Management portal. The plans created for disaster recovery can be tested without interrupting the service.</p> 
<h2>Create a Site Recovery Vault</h2>
<p><b>Step 1</b> &minus; Login to your Azure management portal.</p>  
<p><b>Step 2</b> &minus; Click ‘New’ at the left bottom corner.</p>
<img src="images/create_site_recovery_vault.jpg" alt="Create a Site Recovery Vault" />
<p><b>Step 3</b> &minus; Click Data Services &rarr; Recovery Services &minus;&gt; Site Recovery Vault &rarr; Quick Create.</p>
<p><b>Step 4</b> &minus; Enter the name and select the region. Make sure this vault is in the same region where virtual machines and networks are residing.</p>
<p><b>Step 5</b> &minus; You will be redirected to the following screen. On the following screen, you can see a dropdown. If you expand the dropdown, you will see the different scenarios in which recovery can be configured.</p>
<img src="images/create_site_recovery_vault1.jpg" alt="Create a Site Recovery Vault" />
<p>Here you have to choose the recovery scenario according to the organization’s requirements. Let’s discuss each scenario in detail &minus;</p>
<h2>Between On-premises VMM Site and Azure</h2>
<p>In this scenario, on-premises virtual machines are replicated to Azure. There are few prerequisite for this on-premise resources.</p>
<ul class="list">
<li><p>Virtual machine server running on Windows server 2012 R2.</p></li>
<li><p>Virtual machine server should have at least one cloud to be protected.</p></li>
<li><p>Cloud should have at least one VMM host group and Hyper-V host server, or cluster and virtual machine on Hyper-V host server.</p></li>
</ul>
<p>Setting up site recovery is a very methodological task. If you are not ready with all the prerequisites mentioned above, after going through few steps in the task you might have to revert back.</p>
<img src="images/setting_up_site_recovery.jpg" alt="Setting Up Site Recovery" />
<p>When you select this scenario from the dropdown you have to follow the five steps encircled in the picture above.</p>
<h2>Between On-premises Hyper-V Site and Azure</h2>
<p>This option is chosen for the replication of virtual machines residing on-premises Hyper-V server. The choice is suitable when Hyper-V server is running but VMM is not available.</p>
<h3>Prerequisites (on-premises)</h3>
<ul class="list">
<li>On-site host should be Windows server 2012 R2 with Hyper-V role.</li>
<li>Hyper-V should have at least one virtual machine.</li>
</ul>
<img src="images/prerequisites.jpg" alt="Prerequisites" />
<h2>Between On-premises Site with VMWare / Physical Server and Azure</h2>
<p>This scenario replicates the physical servers to Azure. Also you have to choose this option from the dropdown when you need to replicate the VMware virtual machines residing at your premises. Protection is done in various ways like data is replicated over the internet. Before you begin the deployment, you must know the following terms. You will be configuring following servers while setting up site recovery in this scenario &minus;</p>
<ul class="list">
<li><p><b>Process Server</b> &minus; The data of the protected items is first sent to the process server where it is cached, compressed and encrypted.  Then data is sent to the master target server.</p></li>
<li><p><b>Configuration Server</b> &minus; This server is a communication link between protected items, process and master target server.</p></li>
<li><p><b>Master Target Server</b> &minus; The master target server stores the data that is replicated from protected items.</p></li>
</ul>
<img src="images/prerequisites_with_vmware.jpg" alt="Prerequisites With VMWare" />
<h2>Between Two On-premises VMWare Sites</h2>
<img src="images/prerequisites_with_vmware1.jpg" alt="Prerequisites With VMWare" />
<h2>Between Two On-premises VMM Sites and SAN Array Application</h2>
<img src="images/prerequisites_with_vmware2.jpg" alt="Prerequisites With VMWare" />
<p>In this scenario, the on-premises VMM site is replicated to another site. The Hyper-V virtual machines on this site are protected through Storage Array Based (SAN) replication. An organization can take benefit from this option if it has an existing SAN infrastructure.</p>  
<h3>Prerequisites</h3>
<p>The following image describes the prerequisite for this scenario to be deployed.</p>
<img src="images/prerequisites_vmm.jpg" alt="Prerequisites" />
<img src="images/prerequisites_san.jpg" alt="Prerequisites" />
<img src="images/prerequisites_network.jpg" alt="Prerequisites" />
<h2>Create a Recovery Plan</h2>
<p>When you are done setting up site recovery for one of your chosen scenario, in your management portal you will have to create a recovery plan to orchestrate your recovery.</p>
<p><b>Step 1</b> &minus; In the management portal, go to Azure Site Recovery vault you are working with.</p>
<p><b>Step 2</b> &minus; Select ‘Recovery Plans’ from the top menu. You will see different options based on your choice of scenario and resources registered in the recovery vault.</p>
<p><b>Step 3</b> &minus; You can create the recovery plan for site recovery as desired. It will also tell you any prerequisite task, in case you have missed any step in the process.</p>   
<p><b>Step 4</b> &minus; The customized plan created here can be executed in case of failover to orchestrate recovery. The services can be made available at a secondary site.</p>
<h1>Microsoft Azure - Health Monitoring</h1>
<p>Continuous health monitoring is one of the features of Azure Site Recovery. You don’t have to subscribe to this feature exclusively. In the previous chapter, we saw how Azure Site Recovery can be configured for different scenarios. Once all the configurations are done, the Hyper-V recovery manager monitors the health of the protected resource instances continuously. It is done by Hyper-V recovery manager remotely from Azure. This procedure consists of collecting the metadata of virtual machines which is used for recovery.</p>
<p>What is happening in Azure Site Recovery is, the metadata is continuously collected for recovery purpose. Every time when data is transferred as a function of continuous health monitoring, it is always encrypted, thus it is safe and secure.</p>
<p>The data is replicated at the secondary site. The secondary site is made available in case of failover. In order to ensure that everything is working fine, test failover can be carried out. Planned and unplanned failovers are two circumstances in which the secondary site is to be made available. The planned failover is usually done for testing, maintenance, etc. while unplanned failover happens when a disaster occurs. No matter what kind of failover, the virtual machines on the primary site are continuously monitored and the metadata is collected. Thus, continuous health monitoring is a feature that keeps the data at the secondary site always available.</p>
<p>In addition to the back-up and orchestrated recovery, Azure Site Recovery continuously monitors the health of all its resource instances.</p>
<h1>Microsoft Azure - Upgrades</h1>
<p>Let us say, that our services are running fine on Azure. After sometime, we need to make changes and upgrade the services which are already running. Here comes the tricky part, sometimes upgrading would go smooth and sometimes you won’t know what is causing the problem. Windows Azure has tried to address these issues.</p>
<h2>Update a Cloud Service</h2>
<p>The application code can be updated easily in Azure management portal. You will need a service package (.cspkg) and service configuration files (.cscfg) before moving ahead.</p>
<p><b>Step 1</b> &minus; Login to the management portal.</p>
<p><b>Step 2</b> &minus; Go to the service you want to update.</p>
<p><b>Step 3</b> &minus; Click ‘Instances’ from the top menu and then click ‘update’. The following screen will pop up.</p>
<img src="images/update_cloud_service.jpg" alt="Update a Cloud Service" />
<p><b>Step 4</b> &minus; Enter the deployment label name and upload .cspkg and .cscfg files.</p>
<p><b>Step 5</b> &minus; Select the role you want to update or select ‘all’ if want to update all roles.</p>
<p><b>Step 6</b> &minus; Check the checkbox as required and click the ‘Arrow’ on the right side.</p>
<h2>VIP (Virtual IP) Swap</h2> 
<p>You might come across a scenario, when you need to make changes to the architecture of service. Azure provisions a way which can handle the upgrading easily. There are two deployment environments - production and staging. Let’s assume that your service is at production, but you can deploy the new version in the staging environment. After that you just test it and if everything is fine, you swap it with the production deployment. Behind the scene, the virtual IPs of production and staging deployment are swapped, hence  staging becomes production and production becomes staging. While the swapping happens, the service is not interrupted. All this is done with no downtime for service. It also makes it easy to rollback to older production version in case you need to do it.</p>
<p><b>Step 1</b> &minus; Login to the management portal.</p>
<p><b>Step 2</b> &minus; Go to the service. Select ‘Instances’ from the top menu. You can see in the following screen, two instances are there for this service.</p>
<img src="images/vip_swap.jpg" alt="VIP (Virtual IP) Swap" />
<p><b>Step 3</b> &minus; When you have deployed the service in staging and production you will see that ‘Swap’ at that bottom of the screen is activated. You just have to click that Swap icon and it will be done.</p>
<h3>Considerations</h3>
<ul class="list">
<li>You can’t swap if you have different number of endpoints for each deployment.</li>
<li>It does not change the IP address of your service.</li>
</ul>
<hr />
<div class="pre-btn">
<a href="microsoft_azure_upgrades.html"><i class="icon icon-arrow-circle-o-left big-font"></i> Previous Page</a>
</div>
<div class="print-btn center">
<a href="../cgi-bin/printpage.html" target="_blank"><i class="icon icon-print big-font"></i> Print</a>
</div>
<div class="nxt-btn">
<a href="microsoft_azure_useful_resources.html">Next Page <i class="icon icon-arrow-circle-o-right big-font"></i>&nbsp;</a>
</div>
<hr />
<!-- PRINTING ENDS HERE -->
<div class="bottomgooglead">
<div class="bottomadtag">Advertisements</div>
<script type="text/javascript"><!--
var width = 580;
var height = 400;
var format = "580x400_as";
if( window.innerWidth < 468 ){
   width = 300;
   height = 250;
   format = "300x250_as";
}
google_ad_client = "pub-7133395778201029";
google_ad_width = width;
google_ad_height = height;
google_ad_format = format;
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
</div>
</div>
<div class="row">
<div class="col-md-3" id="rightbar">
<div class="simple-ad">
<a href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.facebook.com/sharer.php?u=' + 'http://www.tutorialspoint.com/microsoft_azure/microsoft_azure_quick_guide.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/facebookIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://twitter.com/share?url=' + 'http://www.tutorialspoint.com/microsoft_azure/microsoft_azure_quick_guide.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/twitterIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.linkedin.com/cws/share?url=' + 'http://www.tutorialspoint.com/microsoft_azure/microsoft_azure_quick_guide.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/linkedinIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://plus.google.com/share?url=http://www.tutorialspoint.com/microsoft_azure/microsoft_azure_quick_guide.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/googlePlusIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.stumbleupon.com/submit?url=http://www.tutorialspoint.com/microsoft_azure/microsoft_azure_quick_guide.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/StumbleUponIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://reddit.com/submit?url=http://www.tutorialspoint.com/microsoft_azure/microsoft_azure_quick_guide.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=656,top='+sTop+',left='+sLeft);return false;">
<img src="../images/reddit.jpg" alt="img" />
</a>
</div>
<div class="rightgooglead">
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 300;
google_ad_height = 250;
google_ad_format = "300x250_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
<div class="rightgooglead">
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 300;
google_ad_height = 600;
google_ad_format = "300x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
<div class="rightgooglead">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-2537027957187252";
/* Right Side Ad */
google_ad_slot = "right_side_ad";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
</div>
</div>
</div>
</div>
</div>

<div class="footer-copyright">
<div class="container">
<div class="row">
<div class="col-md-1">
<a href="../index-2.html" class="logo"> <img alt="Tutorials Point" class="img-responsive" src="../scripts/img/logo-footer.png"> </a>
</div>
<div class="col-md-4 col-sm-12 col-xs-12">
   <nav id="sub-menu">
      <ul>
         <li><a href="../about/tutorials_writing.html">Write for us</a></li>
         <li><a href="../about/faq.html">FAQ's</a></li>
         <li><a href="../about/about_helping.html">Helping</a></li>
         <li><a href="../about/contact_us.html">Contact</a></li>
      </ul>
   </nav>
</div>
<div class="col-md-3 col-sm-12 col-xs-12">
<p>&copy; Copyright 2017. All Rights Reserved.</p>
</div>
<div class="col-md-4 col-sm-12 col-xs-12">
   <div class="news-group">
      <input type="text" class="form-control-foot search" name="textemail" id="textemail" autocomplete="off" placeholder="Enter email for newsletter" onfocus="if (this.value == 'Enter email for newsletter...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Enter email for newsletter...';}">
      <span class="input-group-btn"> <button class="btn btn-default btn-footer" id="btnemail" type="submit" onclick="javascript:void(0);">go</button> </span>
      <div id="newsresponse"></div>
   </div>
</div>
</div>
</div>
</div>
</div>
<!-- Libs -->
<script type="text/javascript" src="../theme/js/custom-min7b30.js?v=4"></script>
<script src="../../www.google-analytics.com/urchin.js">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
$('.pg-icon').click(function(){
   $('.wrapLoader').show();
});
</script>
</div>
</body>

<!-- Mirrored from www.tutorialspoint.com/microsoft_azure/microsoft_azure_quick_guide.htm by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Aug 2017 16:58:22 GMT -->
</html>
