<!DOCTYPE html>
<!--[if IE 8]><html class="ie ie8"> <![endif]-->
<!--[if IE 9]><html class="ie ie9"> <![endif]-->
<!--[if gt IE 9]><!-->	<html> <!--<![endif]-->

<!-- Mirrored from www.tutorialspoint.com/fuelphp/fuelphp_quick_guide.htm by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Aug 2017 18:06:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8">
<title>FuelPHP Quick Guide</title>
<meta name="description" content="FuelPHP Quick Guide - Learn FuelPHP in simple and easy steps starting from basic to advanced concepts with examples including Introduction, Installation, Architecture Overview, Simple Web Application, Configuration, Controllers, Routing, Requests and Response, Views, Presenters, Models and Database, Form Programming, Validation, Advanced Form Programming, File Uploading, Ajax, HMVC Request, Themes, Modules, Packages, Cookie and Session Management, Events, Email Management, Profiler, Error Handling and Debugging, Unit Testing, Complete Working Example." />
<meta name="keywords" content="FuelPHP, Tutorial, Learning, Introduction, Installation, Architecture Overview, Simple Web Application, Configuration, Controllers, Routing, Requests and Response, Views, Presenters, Models and Database, Form Programming, Validation, Advanced Form Programming, File Uploading, Ajax, HMVC Request, Themes, Modules, Packages, Cookie and Session Management, Events, Email Management, Profiler, Error Handling and Debugging, Unit Testing, Complete Working Example." /> 
<base  />
<link rel="shortcut icon" href="../favicon.ico" type="image/x-icon" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes">
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="website" />
<meta property="fb:app_id" content="471319149685276" />
<meta property="og:site_name" content="www.tutorialspoint.com" />
<meta name="robots" content="index, follow"/>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="author" content="tutorialspoint.com">
<script type="text/javascript" src="../theme/js/script-min-v4.js"></script>
<link rel="stylesheet" href="../theme/css/style-min5e1f.css?v=2">
<!-- Head Libs -->
<!--[if IE 8]>
<link rel="stylesheet" type="text/css" href="/theme/css/ie8.css">
<![endif]-->
<style>
select{ border:0 !important; outline: 1px inset black !important; outline-offset: -1px !important; }
ul.nav-list.primary>li a.videolink{    background: none; margin: 0px; padding: 0px; border: 1px solid #d6d6d6;}
div.feature-box div.feature-box-icon, .col-md-3 .course-box, li.heading, div.footer-copyright { background: #8026f5 url(../images/pattern.png) repeat center center !important;}
.sub-main-menu .sub-menuu div:hover, .sub-main-menu .viewall, header nav ul.nav-main li a:hover, button.btn-responsive-nav, header div.search button.btn-default { background: #8026f5 !important;}
.submenu-item{ border-bottom: 2px solid #8026f5 !important; border-top: 2px solid #8026f5 !important }
.ace_scroller{overflow: auto!important;}
</style>
<script>
$(document).ready(function() {
  $('input[name="q"]').keydown(function(event){
    if(event.keyCode == 13) {
      event.preventDefault();
      return false;
    }
  });
});
</script>
</head>
<body onload="prettyPrint()">
<div class="wrapLoader">
   <div class="imgLoader">
      <img  src="../images/loading-cg.gif" alt="" width="70" height="70" />
   </div>
</div>
<header>
   <div class="container">			
      <h1 class="logo">
      <a href="../index-2.html" title="tutorialspoint">
      <img alt="tutorialspoint" src="images/logo.png">
      </a>
      </h1>			
      <nav>
         <ul class="nav nav-pills nav-top">
            <li><a href="../about/about_careers.html" style="background: #fffb09; font-weight: bold;"><i class="icon icon-suitcase"></i> Jobs</a></li>
            <li> <a href="http://www.sendfiles.net/"><i class="fa fa-send"></i> &nbsp;SENDFiles</a> </li>
            <li> <a href="../whiteboard.html"><img src="../theme/css/icons/image-editor.png" alt="Whiteboard" title="Whiteboard"> &nbsp;Whiteboard</a> </li>
            <li> <a href="../netmeeting.html"><i class="fa-camera"></i> &nbsp;Net Meeting</a> </li>
            <li> <a href="../online_dev_tools.html"> <i class="dev-tools-menu" style="opacity:.5"></i> Tools </a> </li>
            <li> <a href="../articles/index.html"><i class="icon icon-file-text-o"></i> &nbsp;Articles</a> </li>            
            <li class="top-icons">
              <ul class="social-icons">
              <li class="facebook"><a href="https://www.facebook.com/tutorialspointindia" target="_blank" data-placement="bottom" title="tutorialspoint @ Facebook">Facebook</a></li>
              <li class="googleplus"><a href="https://plus.google.com/u/0/116678774017490391259/posts" target="_blank" data-placement="bottom" title="tutorialspoint @ Google+">Google+</a></li>
              <li class="twitter"><a href="https://www.twitter.com/tutorialspoint" target="_blank" data-placement="bottom" title="tutorialspoint @ Twitter">Twitter</a></li>
              <li class="linkedin"><a href="https://www.linkedin.com/company/tutorialspoint" target="_blank" data-placement="bottom" title="tutorialspoint @ Linkedin">Linkedin</a></li>
              <li class="youtube"><a href="https://www.youtube.com/channel/UCVLbzhxVTiTLiVKeGV7WEBg" target="_blank" data-placement="bottom" title="tutorialspoint YouTube">YouTube</a></li>
              </ul>
           </li>
         </ul>
      </nav>
         <!-- search code here  --> 
      <button class="btn btn-responsive-nav btn-inverse" data-toggle="collapse" data-target=".nav-main-collapse" id="pull" style="top: 24px!important"> <i class="icon icon-bars"></i> </button>
   </div>
  
   <div class="navbar nav-main">
      <div class="container">
         <nav class="nav-main mega-menu">
            <ul class="nav nav-pills nav-main" id="mainMenu">
               <li class="dropdown no-sub-menu"> <a class="dropdown" href="../index-2.html"><i class="icon icon-home"></i> Home</a> </li>   
               <li class="dropdown" id="liTL"><a class="dropdown" href="javascript:void(0);"><span class="tut-lib"> Tutorials Library <i class="fa-caret-down"></i></span></a></li>
               <li class="dropdown no-sub-menu"><a class="dropdown" href="../codingground.html"><i class="fa-code"></i> Coding Ground </a> </li>
               <li class="dropdown no-sub-menu"><a class="dropdown" href="../tutor_connect/index.html"><i class="fa-user"> </i> Tutor Connect</a></li>
               <li class="dropdown no-sub-menu"><a class="dropdown" href="../videotutorials/index.html"><i class="fa-toggle-right"></i> Videos </a></li>
               <li class="dropdown no-sub-menu">
                  <div class="searchform-popup">
                     <input class="header-search-box" type="text" id="search-string" name="q" placeholder="Search your favorite tutorials..." onfocus="if (this.value == 'Search your favorite tutorials...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search your favorite tutorials...';}" autocomplete="off">
                     <div class="magnifying-glass"><i class="icon-search"></i> Search </div>
                 </div>
               </li>
            </ul>
         </nav>
         <div class="submenu-item sub-main-menu" id="top-sub-menu"></div>
         
      </div>
   </div>	
</header>
<div style="clear:both;"></div>
<div role="main" class="main">
<div class="container">
<div class="row">
<div class="col-md-2">
<aside class="sidebar">
<div class="mini-logo">
<img src="images/fuelphp-mini-logo.jpg" alt="FuelPHP Tutorial" />
</div>
<ul class="nav nav-list primary left-menu" >
<li class="heading">FuelPHP Tutorial</li>
<li><a href="index.html">FuelPHP - Home</a></li>
<li><a href="fuelphp_introduction.html">FuelPHP - Introduction</a></li>
<li><a href="fuelphp_installation.html">FuelPHP - Installation</a></li>
<li><a href="fuelphp_architecture_overview.html">FuelPHP - Architecture Overview</a></li>
<li><a href="fuelphp_simple_web_application.html">FuelPHP - Simple Web Application</a></li>
<li><a href="fuelphp_configuration.html">FuelPHP - Configuration</a></li>
<li><a href="fuelphp_controllers.html">FuelPHP - Controllers</a></li>
<li><a href="fuelphp_routing.html">FuelPHP - Routing</a></li>
<li><a href="fuelphp_requests_and_response.html">FuelPHP - Requests &amp; Response</a></li>
<li><a href="fuelphp_views.html">FuelPHP - Views</a></li>
<li><a href="fuelphp_presenters.html">FuelPHP - Presenters</a></li>
<li><a href="fuelphp_models_and_database.html">FuelPHP - Models &amp; Database</a></li>
<li><a href="fuelphp_form_programming.html">FuelPHP - Form Programming</a></li>
<li><a href="fuelphp_validation.html">FuelPHP - Validation</a></li>
<li><a href="fuelphp_advanced_form_programming.html">Advanced Form Programming</a></li>
<li><a href="fuelphp_file_uploading.html">FuelPHP - File Uploading</a></li>
<li><a href="fuelphp_ajax.html">FuelPHP - Ajax</a></li>
<li><a href="fuelphp_hmvc_request.html">FuelPHP - HMVC Request</a></li>
<li><a href="fuelphp_themes.html">FuelPHP - Themes</a></li>
<li><a href="fuelphp_modules.html">FuelPHP - Modules</a></li>
<li><a href="fuelphp_packages.html">FuelPHP - Packages</a></li>
<li><a href="fuelphp_cookie_and_session_management.html">Cookie &amp; Session Management</a></li>
<li><a href="fuelphp_events.html">FuelPHP - Events</a></li>
<li><a href="fuelphp_email_management.html">FuelPHP - Email Management</a></li>
<li><a href="fuelphp_profiler.html">FuelPHP - Profiler</a></li>
<li><a href="fuelphp_error_handling_and_debugging.html">Error Handling &amp; Debugging</a></li>
<li><a href="fuelphp_unit_testing.html">FuelPHP - Unit Testing</a></li>
<li><a href="fuelphp_complete_working_example.html">Complete Working Example</a></li>
</ul>
<ul class="nav nav-list primary left-menu" >
<li class="heading">FuelPHP Useful Resources</li>
<li><a href="fuelphp_quick_guide.html">FuelPHP - Quick Guide</a></li>
<li><a href="fuelphp_useful_resources.html">FuelPHP - Useful Resources</a></li>
<li><a href="fuelphp_discussion.html">FuelPHP - Discussion</a></li>
</ul>
<ul class="nav nav-list primary push-bottom left-menu special">
<li class="sreading">Selected Reading</li>
<li><a target="_top" href="../developers_best_practices/index.html">Developer's Best Practices</a></li>
<li><a target="_top" href="../questions_and_answers.html">Questions and Answers</a></li>
<li><a target="_top" href="../effective_resume_writing.html">Effective Resume Writing</a></li>
<li><a target="_top" href="../hr_interview_questions/index.html">HR Interview Questions</a></li>
<li><a target="_top" href="../computer_glossary.html">Computer Glossary</a></li>
<li><a target="_top" href="../computer_whoiswho.html">Who is Who</a></li>
</ul>
</aside>
</div>
<!-- PRINTING STARTS HERE -->
<div class="row">
<div class="content">
<div class="col-md-7 middle-col">
<h1>FuelPHP - Quick Guide</h1>
<div class="topgooglead">
<hr />
<div style="padding-bottom:5px;padding-left:10px;">Advertisements</div>
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "image";
google_ad_channel = "";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt"> 
</script>
</div>
<hr />
<div class="pre-btn">
<a href="fuelphp_complete_working_example.html"><i class="icon icon-arrow-circle-o-left big-font"></i> Previous Page</a>
</div>
<div class="nxt-btn">
<a href="fuelphp_useful_resources.html">Next Page <i class="icon icon-arrow-circle-o-right big-font"></i>&nbsp;</a>
</div>
<div class="clearer"></div>
<hr />
<h1>FuelPHP - Introduction</h1>
<p>FuelPHP is an open source web application framework. It is written in PHP 5.3 and implements HMVC pattern. <b>HMVC</b> is <b>Hierarchical Model-View-Controller framework</b> that allows to sub-request the controller, which returns the partial page such as comments, menus, etc., instead of the complete page as in normal MVC.</p>
<p>FuelPHP is created with a desire to incorporate best practices from frameworks such as <b>CodeIgniter</b> and <b>Kohana</b> with improvements and ideas of its own. FuelPHP database migration tool and scaffolding functionalities are inspired by the popular <b>Ruby on Rails</b> framework.</p>
<ul class="list">
<li><p>FuelPHP leverages the <b>power of command line</b> through a utility called <b>"Oil"</b>. The utility is designed to help speed up development, increase efficiency, testing, debugging, and HTML support.</p></li>
<li><p>FuelPHP is purely an object-oriented approach. Its architecture is based on the idea of modularity. Applications can be divided into modules and every component can be extended or replaced without rewriting a single line of code. Fuel supports any template parser such as <b>Smarty, Twig, PHPTal,</b> etc. for parsing views.</p></li>
<li><p><b>FuelPHP community is large</b> and active with over 300 contributors. Its large community regularly creates and improves packages and extensions. The main objective of FuelPHP framework is to provide flexibility and compatibility. It is fast, easy to learn, and a complete solution for developing web applications.</p></li>
<li><p>What makes FuelPHP one of the premier frameworks used by PHP developers is that – the <b>new version of FuelPHP is reverse-compatible with its older versions</b> because of its stable API. It is extremely flexible.</p></li>
<li><p><b>Packages and modules</b> make it easy and simple to reuse an existing code in a systematic way. FuelPHP offers maximum performance through a small library. Its interactive debugging allows to easily eliminate the errors in development. Also, its clean and stable code makes programming easier.</p></li>
</ul>
<h2>FuelPHP - Features</h2>
<p>FuelPHP offers lot of features to create a full-fledged web application. It provides flexible components, simple configuration, easy-to-use ORM, REST based application development mode, etc. Following are some of the salient features &minus;</p>
<ul class="list">
<li>Flexible and community driven web framework</li>
<li>Easy to configure and use</li>
<li>FuelPHP is extremely portable, works on almost any server</li>
<li>Flexible URI routing system</li>
<li>FuelPHP provides RESTful API development support</li>
<li>Lightweight ORM model</li>
<li>Input filtering and prevents SQL injection</li>
<li>Secure authentication and authorization framework</li>
<li>Code reusable and easier to maintain</li>
<li>Autoloading classes, Session management, and Exception handling.</li>
</ul>
<h2>FuelPHP - Advantages</h2>
<p>FuelPHP is an elegant HMVC PHP 5.3 framework that provides a set of components for building web applications with the following advantages &minus;</p>
<ul class="list">
<li><p><b>Modular structure</b> &minus; Fuel doesn’t force you to use modules or an HMVC file structure. If you want to use, the process is quite easy to integrate. FuelPHP apps are created in a modular structure and becomes easier for developers with clear benefits.</p></li>
<li><p><b>HMVC pattern</b> &minus; The most important feature of this framework is HMVC (Hierarchical Model View Controller) which makes it easy to access or use any properties, class methods, functions, files at higher level.</p></li>
<li><p><b>Secure hashing function</b> &minus; FuelPHP supports strong cryptography tools and password hashing techniques. It handles encryption, decryption, and hashing using the powerful PHPSecLib.</p></li>
<li><p><b>Scaffolding functionality</b> &minus; Scaffolding is a meta-programming method for building database operations. Fuel’s scaffolding is pretty easy. It allows you to get a basic CRUD application with very simple steps.</p></li>
</ul>
<p>The following popular products use FuelPHP Framework &minus;</p>
<ul class="list">
<li><p><b>Matic Technology</b> &minus; Global provider of offshore custom software development solutions. At Matic Technologies, they provide all the best possible solutions through FuelPHP according to the requirements of the client.</p></li>
<li><p><b>Kroobe</b> &minus; Kroobe is a social networking classifieds company. Fuel offers extremely low development costs and services to Kroobe team to achieve efficient solution.</p></li>
</ul>
<h1>FuelPHP - Installation</h1>
<p>This chapter explains how to install FuelPHP framework on your machine. FuelPHP installation is very simple and easy. You have two methods to create FuelPHP applications &minus;</p>
<ul class="list">
<li><p>The first method is <b>Command line</b> installation using FuelPHP tool called <b>Oil</b>.</p></li>
<li><p>The second method is <b>Composer based</b> installation. FuelPHP uses <b>Composer</b>, both for installation and for package dependencies, so make sure the composer is installed locally before continuing the process.</p></li>
</ul>
<p>Let’s go through each of the methods one by one in detail in the subsequent sections.</p>
<h2>System Requirements</h2>
<p>Before moving to installation, the following system requirements have to be satisfied.</p>
<h3>Web server (Any of the following)</h3>
<ul class="list">
<li>WAMP (Windows)</li>
<li>Microsoft IIS (Windows)</li>
<li>LAMP (Linux)</li>
<li>MAMP (Macintosh)</li>
<li>XAMP (Multi-platform)</li>
<li>Nginx (Multi-platform)</li>
<li>PHP in-built development web server (Multi-platform)</li>
</ul>
<h3>Browser support (Any of the following)</h3>
<ul class="list">
<li>IE (Internet Explorer 8+)</li>
<li>Firefox</li>
<li>Google Chrome</li>
<li>Safari</li>
</ul>
<p><b>PHP compatibility</b> &minus; PHP 5.3 or later. To get the maximum benefit, use the latest version.</p>
<p>Let us use PHP's in-built development web server for this tutorial. The built-in development web server is easy to start as well as quite adequate to understand the basics of FuelPHP web application without getting into the complexity of the world of web server and configurations.</p>
<h2>Command Line Installation</h2>
<p>The command line installation of FuelPHP is very easy and takes maximum of five minutes.</p>
<h3>Install Oil Package</h3>
<p>Oil is a special package/command provided by FuelPHP framework to do lot of tasks needed in the development of FuelPHP application including installation, development, and testing the application.</p>
<p>To install the <b>Oil</b> package, open up a shell and run the following command &minus;</p>
<pre class="result notranslate">
sudo curl https://get.fuelphp.com/oil | sh
</pre>
<p>The command uses curl to download and install the oil package. The command will show result similar to the following information and finally install the oil package.</p>
<pre class="result notranslate">
 % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current 
                                 Dload  Upload   Total   Spent    Left  Speed 
100   479  100   479    0     0    353      0  0:00:01  0:00:01 --:--:--   353
</pre>
<h3>Create a New Project</h3>
<p>To create a new project using Oil, use the following command &minus;</p>
<pre class="result notranslate">
oil create &lt;project_name&gt;
</pre>
<p>Let’s create a new project named “HelloWorld” using the following command.</p>
<pre class="result notranslate">
oil create HelloWorld
</pre>
<p>Now, you can see response similar to the following and finally create a simple skeleton FuelPHP application.</p>
<pre class="result notranslate">
composer create-project fuel/fuel HelloWorld 
Installing fuel/fuel (1.8.0.1) 
   - Installing fuel/fuel (1.8.0.1) 
      Loading from cache  

Created project in HelloWorld  

Loading composer repositories with package information 
Updating dependencies (including require-dev) 
   - Installing composer/installers (v1.3.0) 
      Loading from cache
   - Installing fuelphp/upload (2.0.6) 
      Loading from cache  
   - Installing michelf/php-markdown (1.4.0) 
      Loading from cache  
   - Installing psr/log (1.0.2) 
      Loading from cache  
   - Installing monolog/monolog (1.18.2) 
      Loading from cache  
   - Installing phpseclib/phpseclib (2.0.0) 
      Loading from cache  
   - Installing fuel/core (1.8.0.4) 
      Loading from cache  
   - Installing fuel/auth (1.8.0.4) 
      Loading from cache  
   - Installing fuel/email (1.8.0.4) 
      Loading from cache  
   - Installing fuel/oil (1.8.0.4) 
      Loading from cache  
   - Installing fuel/orm (1.8.0.1) 
      Loading from cache  
   - Installing fuel/parser (1.8.0.4) 
      Loading from cache  
   - Installing fuel/docs (1.8.0.4) 
      Loading from cache
   ……………. 
   …………….  
   Writing lock file
   Generating autoload files 
</pre>
<h3>Oil Version</h3>
<p>To test whether Oil is available and to check the version, use the following command &minus;</p>
<pre class="result notranslate">
$ cd HelloWorld
$ php oil -v
</pre>
<p>The above command produces the following result &minus;</p>
<pre class="result notranslate">
Fuel: 1.8 running in "development" mode
</pre>
<h3>Oil Help Command</h3>
<p>To obtain Oil’s basic help documentation, use the following command &minus;</p>
<pre class="result notranslate">
$ php oil help
</pre>
<p>The above command will show the help documentation similar to the following result &minus;</p>
<pre class="result notranslate">
Usage: 
   php oil [cell|console|generate|package|refine|help|server|test]  
Runtime options: 
   -f, [--force]    # Overwrite files that already exist 
   -s, [--skip]     # Skip files that already exist 
   -q, [--quiet]    # Supress status output 
   -t, [--speak]    # Speak errors in a robot voice  
Description:   
   The 'oil' command can be used in several ways to facilitate quick development, help 
   with testing your application and for running Tasks.  
Environment: 
   If you want to specify a specific environment oil has to run in, overload the 
   environment variable on the commandline: FUEL_ENV=staging php oil &lt;commands&gt;
More information: 
   You can pass the parameter "help" to each of the defined command to get 
   information about that specific command: php oil package help  
Documentation:   
   http://docs.fuelphp.com/packages/oil/intro.html    
</pre>
<p>As of now, you have an idea of how to install Fuel using Oil. Let’s go through the composer based installation in the next section.</p>
<h2>Composer-based Installation</h2>
<p>The following command is used to install FuelPHP using Composer.</p>
<pre class="result notranslate">
$ composer create-project fuel/fuel --prefer-dist.
</pre>
<h3>Git Repository Clones</h3>
<p>To install the latest development version as local git repository clones, use the following command.</p>
<pre class="result notranslate">
$ composer create-project fuel/fuel:dev-1.9/develop --prefer-source.
</pre>
<h3>Running the Application</h3>
<p>Move to the project directory public folder, run the application using the production server with the following command.</p>
<pre class="result notranslate">
$ cd path/to/HelloWorld/public
$ php -S localhost:8080 index.php
</pre>
<p>It produces the following response.</p>
<pre class="result notranslate">
PHP 5.5.31 Development Server started at Sun May 21 12:26:10 2017
Listening on http://localhost:8080
Document root is /Users/workspace/php-fuel/HelloWorld/public
Press Ctrl-C to quit.
</pre>
<p>Now, request the URL, <b>http://localhost:8080</b> and it will produce the following result.</p>
<h3>Result</h3>
<img src="images/welcome_page.jpg" alt="Welcome Page" />
<p>This is the simplest way to run FuelPHP application in the development environment. If you create your application in this way in the production environment, you will face security issues. The recommended way is setting up a virtual host configuration. It is explained for apache web server in the next section.</p>
<h3>Setting Up a Virtual Host</h3>
<p>It is more secure way to access FuelPHP application. To set up a virtual host, you need to link apache virtual host file to your application. In case of intranet application, redirect system host file URL to virtual host.</p>
<h3>Virtual Host File</h3>
<p>Open the virtual host and add the following changes.</p>
<pre class="prettyprint notranslate">
&lt;VirtualHost *:80&gt; 
   ServerName hello.app 
   DocumentRoot /path/to/public 
   SetEnv FUEL_ENV “development”
   
   &lt;Directory /path/to/public&gt; 
      DirectoryIndex index.php 
      AllowOverride All 
      Order allow,deny 
      Allow from all 
   &lt;/Directory&gt; 
&lt;/VirtualHost&gt;
</pre>
<h3>System Host File</h3>
<p>Now, add a host entry to your machine using the following command.</p>
<pre class="result notranslate">
sudo vi /etc/hosts
</pre>
<p>Then, add the following line to the end of the file.</p>
<pre class="result notranslate">
127.0.0.1 hello.app
</pre>
<p>To make all the changes available, restart your Apache server and request the url, <b>http://hello.app</b>. It produces the FuelPHP home page.</p>
<h1>FuelPHP - Architecture Overview</h1>
<p>FuelPHP is based on battle tested <b>Model-View-Controller</b> architecture along with <b>HMVC (Hierarchical MVC)</b> support. While MVC provides flexible and layered application development, HMVC goes one step further to enable widgetization of the web application.</p>
<p>The strength of FuelPHP is that it does not enforce specific ways to develop an application. It just provides a simple and easy-to-use standard structure. Developers are free to use the pre-defined set of functionality provided by FuelPHP or modify it whenever needed. All the features provided by FuelPHP including the core feature can be changed according to the requirement of the application.</p>
<h2>Model</h2>
<p>Model is the business entity of the application. Controller and View exchange data in the form of Model. Model enables uniform representation of our business data. It enables the database layer to interact with the web application layer in the standard way and provides an option to select, save, edit, and delete our database entities.</p>
<h2>Controller</h2>
<p>A typical MVC application starts from a Controller. Once a user sends a request to the FuelPHP web application, the application gathers all the information about the request and sends it to the Controller. Controller does the required business logic of the requested page and then calls the relevant View along with the processed data in the form of Models.</p>
<h2>View</h2>
<p>View is the presentation layer of the MVC application. View decides how to show the Model to the user. It supports simple data rendering to the advanced layout, which enables the website to normalize the design across all the pages. View also provides theming support, which enables quick design change across the application.</p>
<h2>Presenter</h2>
<p>Presenter is a special feature provided by FuelPHP. It is the glue between Controller and View. Controller can share some of its low level responsibility such as retrieving model from database, generating data for the view, etc. Controller calls Presenter instead of View, which in turn calls View. Presenter enables pure separation of business logic and presentation layer.</p>
<h2>Hierarchical MVC</h2>
<p>FuelPHP provides an option to call one controller from another controller, similar to the request from the client (browser). If any controller calls another controller, the called controller will return the response to the calling controller instead of rendering it to the client (browser). This enables <b>widgetization</b> of the web application. For example, the comment section can be showed as a stand-alone page as well as a sub-section of the main (blog) page.</p>
<h2>Module</h2>
<p>One of the salient features of FuelPHP is that a section of the web application can be converted into modules, which can be shared among the different application. For example, a blog module created for an application can be reused in another application by just copying the module code from source application to target application.</p>
<p>Note that creating a new module is as simple as developing the main application. The structure is similar to the main application with the only exception that the module should be coding a separate folder.</p>
<h2>Package</h2>
<p>FuelPHP provides an option to organize the code into a single unit called Package. A package can contain one or more functionality needed for the web application. For example, a database component such as ORM, email, etc., can be organized into a package and used whenever needed.</p>
<p>A Package is different from a Module in the sense that the Package does not contain any web pages or partial web pages. Package can be used in FuelPHP as well as any other PHP framework.</p>
<h2>Workflow</h2>
<p>The workflow of the FuelPHP is simple and easy to understand. It is depicted in the following diagram.</p>
<img src="images/workflow.jpg" alt="Workflow" />
<ul class="list">
<li><p>User sends a request to the application.</p></li>
<li><p>Controller receives the request and gathers information by interacting with the model, which in turn interacts with the database.</p></li>
<li><p>Controller gathers information by interacting with other controller by sending a subrequest to the other controllers.</p></li>
<li><p>Controller sends the retrieved model to the view, which in turn generates the presentation and sends it to the client as a response.</p></li>
<li><p>In some cases, the controller may pass the control to the presenter. In that case, the presenter gathers information from the model and sends it to the client. Here, the presenter does not perform any business logic, except retrieve the model from the database.</p></li>
</ul>
<h1>FuelPHP - Simple Web Application</h1>
<p>In this chapter, we will see how to create a simple application in FuelPHP framework. As discussed earlier, you know how to create a new project in Fuel. We can take an example of Employee details.</p>
<p>Let’s start by creating a project named Employee using the following command.</p>
<pre class="result notranslate">
oil create employee
</pre>
<p>After executing the command, an <b>employee</b> project is created with the following <b>file structure</b> &minus;</p>
<pre class="result notranslate">
employee 
├── CHANGELOG.md 
├── composer.json 
├── composer.lock 
├── composer.phar 
├── CONTRIBUTING.md 
├── fuel 
│   ├── app 
│   │   ├── bootstrap.php 
│   │   ├── cache 
│   │   ├── classes 
│   │   ├── config 
│   │   ├── lang 
│   │   ├── logs 
│   │   ├── migrations 
│   │   ├── modules 
│   │   ├── tasks 
│   │   ├── tests 
│   │   ├── themes 
│   │   ├── tmp 
│   │   ├── vendor 
│   │   └── views 
│   ├── core 
│   │   ├── base56.php 
│   │   ├── base.php 
│   │   ├── bootstrap.php
│   │   ├── bootstrap_phpunit.php 
│   │   ├── classes 
│   │   ├── composer.json 
│   │   ├── config 
│   │   ├── CONTRIBUTING.md 
│   │   ├── lang 
│   │   ├── phpunit.xml 
│   │   ├── tasks 
│   │   ├── tests 
│   │   ├── vendor 
│   │   └── views 
│   ├── packages 
│   │   ├── auth 
│   │   ├── email 
│   │   ├── oil 
│   │   ├── orm 
│   │   └── parser 
│   └── vendor 
│       ├── autoload.php 
│       ├── composer 
│       ├── fuelphp 
│       ├── michelf 
│       ├── monolog 
│       ├── phpseclib 
│       └── psr 
├── LICENSE.md 
├── oil 
├── public 
│   ├── assets 
│   │   ├── css 
│   │   ├── fonts 
│   │   ├── img 
│   │   └── js 
│   ├── favicon.ico 
│   ├── index.php 
│   └── web.config 
├── README.md 
└── TESTING.md  
42 directories, 21 files
</pre>
<h2>Structure of the Application</h2>
<p>FuelPHP framework provides a well-organized application structure. Let us check some of the important files and folders of the application.</p>
<ul class="list">
<li><p><b>fuel</b> &minus; Contains all the PHP files.</p></li>
<li><p><b>public</b> &minus; Contains all the assets which are directly accessed through the browser such as JavaScript, CSS, images, etc.</p></li>
<li><p><b>oil</b> &minus; An executable used to run command line tasks such as generating code or interactive debugging within your application. It's optional.</p></li>
<li><p><b>fuel/app/</b> &minus; Contains all application-specific PHP files. It contains Models, Views, and Controllers.</p></li>
<li><p><b>fuel/core/</b> &minus; This is where Fuel framework itself lives.</p></li>
<li><p><b>fuel/packages/</b> &minus; Contains all fuel packages. By default, fuel will contain three packages: oil, auth, and orm. These packages will not be loaded unless you require them.</p></li>
<li><p><b>fuel/app/config/</b> &minus; Contains all application-related configuration files. The main application configuration file, config.php file is located here.</p></li>
<li><p><b>fuel/app/classes/</b> &minus; Contains all the application specific MVC based PHP files. It contains controllers, models, helper classes, libraries, etc.</p></li>
<li><p><b>fuel/app/classes/controller/</b> &minus; Controllers are placed here.</p></li>
<li><p><b>fuel/app/classes/model/</b> &minus; Models are placed here.</p></li>
<li><p><b>fuel/app/views/</b> &minus; Contains view files. There are no specific naming conventions for views.</p></li>
</ul>
<h2>Add a Controller</h2>
<p>As discussed earlier, FuelPHP is based on the Model-View-Controller (MVC) development pattern. MVC is a software approach that separates application logic from presentation. In MVC pattern, the controller plays an important role and every webpage in an application needs to be handled by a controller. By default, controllers are located in <b>fuel/app/classes/controller/</b> folder. You can create your own Controller class here.</p>
<p>Move to the location fuel/app/classes/controller/ and create employee.php file. To create a new controller, just extend the Controller class provided by FuelPHP, defined as follows.</p>
<h3>employee.php</h3>
<pre class="prettyprint notranslate">
&lt;?php 
   class Controller_Employee extends Controller { 
      public function action_home() { 
         
         // functionality of the home page  
         echo "FuelPHP-Employee application!"; 
      } 
   }
</pre>
<p>Now, we have created an Employee Controller and added a public method, action_home, which prints a simple text.</p>
<h2>Routing</h2>
<p>Routing resolves the web page URI into specific controller and action. Every webpage in a FuelPHP application should go through routing before the actual execution of the controller. By default, each controller can be resolved using the following URI pattern.</p>
<pre class="result notranslate">
&lt;controller&gt;/&lt;action&gt;
</pre>
<p>Where,</p>
<ul class="list">
<li><p><b>controller</b> is the name of the controller minus namespace, employee</p></li>
<li><p><b>action</b> is the name of the method minus action_ keyword, home</p></li>
</ul>
<p>The newly created controller can be accessed by <b>http://localhost:8080/employee/home</b> and it will produce the following result.</p>
<h3>Result</h3>
<img src="images/employee_application.jpg" alt="Employee Application" />
<h1>FuelPHP - Configuration</h1>
<p>In this chapter, we will understand how to configure a FuelPHP application. By default, configuration files are stored inside the <b>fuel/app/config</b> folder. The application's main configuration is <b>fuel/app/config/config.php</b>. The configuration is specified using PHP's associated array.</p>
<h2>Overview</h2>
<p>By default, all default configuration files are defined in <b>fuel/core/config</b> folder. To override a default configuration, add the corresponding key in the <b>/fuel/app/config/config.php</b> file and modify the value. We can use “dot-notation” to simplify multi-dimensional array. For example, the following configurations serve the same purpose (load specified packages).</p>
<pre class="prettyprint notranslate">
array("always_load" =&gt; array("packages" =&gt; array( ... ) ) ); 
always_load.packages = array( ... );
</pre>
<p>Configuration can be grouped by purpose and specified using different files such as db.php for database configuration, package.php for package management, etc.</p>
<h2>Type of Configuration Format</h2>
<p>FuelPHP is quite flexible and provides different format to specify the configuration. The default configuration format is PHP using php array. The other options are &minus;</p>
<p><b>INI</b> &minus; Simple text-based configuration supported by many softwares including PHP language itself.</p>
<pre class="result notranslate">
[group]
key = value
</pre>
<p><b>YAML</b> &minus; Easy to understand, indentation based, and human readable configuration management.</p>
<pre class="result notranslate">
group:
   key: value
</pre>
<p><b>JSON</b> &minus; Easy to understand and most used file format by the developers.</p>
<pre class="prettyprint notranslate">
{ 
   "group" : 
   { 
      "key": "value" 
   } 
} 
</pre>
<p><b>Memcached</b> &minus; Stores the configuration in a memcached server. The memcached server details can be specified in the main configuration file, <b>fuel/app/config/config.php</b> using <b>config.memcached</b> entry.</p>
<p><b>DB</b> &minus; Stores the configuration in RDBMS System. The table structure of the configuration table is as follows.</p>
<pre class="result notranslate">
CREATE TABLE IF NOT EXISTS `config` ( 
   `identifier` char(100) NOT NULL, 
   `config` longtext NOT NULL, 
   `hash` char(13) NOT NULL, 
   PRIMARY KEY (`identifier`) 
)
</pre>
<p>The database and table details can be specified in the configuration file using <i>config.database</i> and <i>config.table_name</i> entries.</p>
<h2>Environment</h2>
<p>Environment enables FuelPHP to work in different modes by loading different configuration. FuelPHP supports the following environment.</p>
<ul class="list">
<li><p><b>Development</b> &minus; \Fuel::DEVELOPMENT sets the development mode</p></li>
<li><p><b>Production</b> &minus; \Fuel::PRODUCTION sets the production mode</p></li>
<li><p><b>Test</b> &minus; \Fuel::TEST sets the testing mode</p></li>
<li><p><b>Staging</b> &minus; \Fuel::STAGING sets the staging mode</p></li>
</ul>
<p>FuelPHP also supports the creation of a new environment. This will enable every developer to have his/her own configuration setting and they can enable it while coding and testing the application. The configuration of a specific environment can be added by simply creating a folder with the environment name (example: test) and placing the configuration file inside the newly created folder, shown as follows.</p>
<pre class="result notranslate">
. ├── config.php 
├── db.php 
├── development 
│   └── db.php 
├── production 
│   └── db.php 
├── routes.php 
├── staging 
│   └── db.php
└── test 
    └── db.php  
4 directories, 7 files
</pre>
<h3>Set Your Environment</h3>
<p>There are three ways to set up your environment.</p>
<p><b>Option 1</b> &minus; Set environment with web server's environment variables. Add the following code in the virtual host section in <b>httpd.conf</b> file of Apache web server. It can be added in <b>.htaccess</b> file as well.</p>
<pre class="result notranslate">
SetEnv FUEL_ENV production
</pre>
<p><b>Option 2</b> &minus; Set environment with FuelPHP bootstrap file, <b>/fuel/app/bootstrap.php</b></p>
<pre class="result notranslate">
Fuel::$env = (isset($_SERVER['FUEL_ENV']
</pre>
<p><b>Option 3</b> &minus; Set Environment using Oil</p>
<pre class="result notranslate">
$ env FUEL_ENV = production php oil -v
</pre>
<p>It produces the following result.</p>
<pre class="result notranslate">
Fuel: 1.8 running in "production" mode
</pre>
<h1>FuelPHP - Controllers</h1>
<p><b>Controllers</b> are responsible for handling each request that comes into FuelPHP application. According to FuelPHP, controllers are located at <b>fuel/app/classes/controller/</b>. Let's first create an Employee Controller.</p>
<h3>employee.php</h3>
<pre class="prettyprint notranslate">
&lt;?php  
   class Controller_Employee extends Controller { 
      public function action_home() { 
         echo "FuelPHP-Employee application!"; 
      }  
      
      public function action_index() { 
         echo "This is the index method of employee controller"; 
      } 
   } 
</pre>
<h2>Controller Methods</h2>
<p>Controllers process a web request by using one of its <b>action</b>_ methods. We can create as many <i>action_</i> methods depending on the requirement of the application. The default <i>action_</i> method is <i>action_index</i>. <i>action_index</i> method can be called by any one of the following URLs.</p>
<pre class="result notranslate">
http://localhost:8080/employee/index
http://localhost:8080/employee/
</pre>
<h3>Result</h3>
<img src="images/employee_controller.jpg" alt="Employee Controller" />
<p>Let us create a new <b>action</b> method, <i>action_show</i> in our <b>employee</b> application.</p>
<pre class="prettyprint notranslate">
&lt;?php  
   class Controller_Employee extends Controller { 
      public function action_home() { 
         echo "FuelPHP-Employee application!"; 
      }  
      public function action_index() { 
         echo "This is the index method of employee controller"; 
      }  
      public function action_show() { 
         echo "This is the show method of employee controller"; 
      } 
   } 
</pre>
<p><i>action_show</i> method can be called using the following URL.</p>
<pre class="result notranslate">
http://localhost:8080/home/show
</pre>
<h3>Result</h3>
<img src="images/show_method.jpg" alt="Show Method" />
<h2>before( ) Method</h2>
<p>We can create a method, <b>before</b> in our controller. This method will be executed before each and every <i>action_</i> method invocation. It will not be called if that method turns out not to exist. This method helps us write common actions such as login checking, default data fetching, etc.</p>
<p>Let us create a <i>before</i> method and print a simple text message.</p>
<pre class="prettyprint notranslate">
public function before() { 
   echo "This message comes from &lt;em&gt;before()&lt;/em&gt; method&lt;/br&gt;"; 
} 
</pre>
<h3>Index page with before action</h3>
<img src="images/index_before_action.jpg" alt="Index Before Action" />
<h3>Show page with before action</h3>
<img src="images/show_before_action.jpg" alt="Show Before Action" />
<h2>after( ) Method</h2>
<p><b>after()</b> method is similar to <b>before()</b> method but executed after the <i>action_</i> method is called. <i>after()</i> method takes <i>response</i> as an input and returns the <i>response</i> object.</p>
<pre class="prettyprint notranslate">
public function after($response) { 
   if ( ! $response instanceof Response) { 
      $response = \Response::forge($response, $this-&gt;response_status); 
   } 
   return $response; 
} 
</pre>
<p>If the input is NULL or not response object, then create a new <i>Response</i> object using Response's forge method and return it. We will learn Response class in detail in the subsequent chapters.</p>
<h2>Extending Controllers</h2>
<p>We can extend one controller from another controller. Following is the basic syntax.</p>
<pre class="prettyprint notranslate">
class Controller_Employee extends Controller_Welcome { 
   // controller methods 
} 
</pre>
<p>This will help in sharing methods.</p>
<h2>Generate Controller</h2>
<p>Fuel has the option to generate controller using Oil command. Following is the syntax.</p>
<h3>Syntax</h3>
<pre class="result notranslate">
oil g controller &lt;controller-name&gt; 
</pre>
<h3>Example</h3>
<pre class="result notranslate">
oil g controller sample
</pre>
<p>After executing the above command, you will see the following response.</p>
<h3>Result</h3>
<pre class="result notranslate">
Creating view: /path/to/project/fuel/app/views/template.php 
Creating view: /path/to/project/fuel/app/views/sample/index.php 
Creating controller: /path/to/project/fuel/app/classes/controller/sample.php 
</pre>
<h2>Type of Controllers</h2>
<p>FuelPHP provides different type of controller for various purpose. They are as follows &minus;</p>
<ul class="list">
<li>Base controller</li>
<li>Template controller</li>
<li>Rest controller</li>
<li>Hybrid controller</li>
</ul>
<h3>Base Controller</h3>
<p>Controller is the base controller for all the different types of controllers available in FuelPHP. It provides all the basic functionalities needed to process a web request. It supports Request, Response, Session, etc. We will be using it in all examples unless otherwise specified.</p>
<h3>Template Controller</h3>
<p>A Template Controller is an extension of the base controller. It has template support, predefined before() and after() methods. Basically, it can be used to wrap your view in a layout with a header, footer, sidebar, etc. To create a template controller, we need to extend the <i>Controller_Template</i> class. By default, all methods of a class that extends <i>Controller_Template</i> need to use the template.</p>
<p>It is defined as follows.</p>
<pre class="prettyprint notranslate">
class Controller_Employee extends Controller_Template { 
   public function action_index() { 
      // add methods 
   } 
}
</pre>
<p>We will discuss more about template controller in Views chapter.</p>
<h3>Rest Controller</h3>
<p>A Rest Controller is an extension of the Base Controller. It has pre-defined support for REST API programming. This will allow you to build APIs with ease.</p>
<p>To create rest controller, you need to extend the <i>Controller_Rest</i> class. It is defined as follows.</p>
<pre class="prettyprint notranslate">
class Controller_Employee extends Controller_Rest { 
   public function action_index() { 
      // add methods 
   } 
}
</pre>
<p>We will discuss more about rest controller in Ajax chapter.</p>
<h3>Hybrid Controller</h3>
<p>The hybrid controller performs the functionality of both the REST controller and the Template controller in a single base controller.</p>
<h1>FuelPHP - Routing</h1>
<p>Routing maps request an URI to a specific controller's method. In this chapter, we will discuss the concept of <b>routing</b> in FuelPHP in detail.</p>
<h2>Configuration</h2>
<p>Routes configuration file is located at <b>fuel/app/config/routes.php</b>. The default <b>routes.php</b> file is defined as follows &minus;</p>
<pre class="prettyprint notranslate">
&lt;?php 
   return array ( 
      '_root_'  =&gt; 'welcome/index',   // The default route 
      '_404_'   =&gt; 'welcome/404',     // The main 404 route 
      'hello(/:name)?' =&gt; array('welcome/hello', 'name' =&gt; 'hello'), 
   );
</pre>
<p>Here, <b>_root_</b> is the predefined default route, which will be matched when the application is requested with root path, / e.g. <i>http://localhost:8080/</i>. The value of the <i>_root_</i> is the controller and the action to be resolved when it is matched. <b>welcome/index</b> resolves to <i>Controller_Welcome</i> controller and <i>action_index</i> action method. Similarly, we have the following reserved routes.</p>
<ul class="list">
<li><p><b>root</b> &minus; The default route when no URI is specified.</p></li>
<li><p><b>403</b> &minus; It throws when HttpNoAccessException is found.</p></li>
<li><p><b>404</b> &minus; It returns when the page is not found.</p></li>
<li><p><b>500</b> &minus; It throws when HttpServerErrorException is found.</p></li>
</ul>
<h2>Simple Routing</h2>
<p>The route is compared to the request URI. If a match is found, the request is routed to the URI. Simple routing is described as follows,</p>
<pre class="prettyprint notranslate">
return array ( 
   'about'  =&gt; 'site/about', 
   'login' =&gt; 'employee/login', 
);
</pre>
<p>Here, <b>about</b> matches http://localhost:8080/about and resolves the controller, Controller_Site and action method, action_about</p>
<p><b>login</b> matches http://localhost:8080/login and resolves the controller, Controller_Login and action method, action_login</p>
<h2>Advanced Routing</h2>
<p>You can include any regex into your routes. Fuel supports the following advanced routing features &minus;</p>
<ul class="list">
<li><p><b>:any</b> &minus; This matches anything from that point on in the URI, does not match “nothing”</p></li>
<li><p><b>:everything</b> &minus; Like :any, but also matches “nothing”</p></li>
<li><p><b>:segment</b> &minus; This matches only 1 segment in the URI, but that segment can be anything</p></li>
<li><p><b>:num</b> &minus; This matches any numbers</p></li>
<li><p><b>:alpha</b> &minus; This matches any alpha characters, including UTF-8</p></li>
<li><p><b>:alnum</b> &minus; This matches any alphanumeric characters, including UTF-8</p></li>
</ul>
<p>For example, the following route matches URI <i>http://localhost:8080/hello/FuelPHP</i> and resolves controller, <i>Controller_Welcome</i>, and action <i>action_hello</i></p>
<pre class="prettyprint notranslate">
'hello(/:name)?' =&gt; array('welcome/hello', 'name' =&gt; 'hello'),
</pre>
<p>The corresponding action method in <i>Controller_Welcome</i> is as follows,</p>
<pre class="prettyprint notranslate">
public function action_hello() { 
   $this-&gt;name = Request::active()-&gt;param('name', 'World'); 
   $message = "Hello, " . $this-&gt;name;  
   echo $message; 
}
</pre>
<p>Here, we have used Request class to get the name parameter from the URL. If the name is not found, then we are using <i>World</i> as default value. We will learn the <i>Request</i> class in the <i>Request</i> and <i>Response</i> chapter.</p>
<h2>Result</h2>
<img src="images/controller_welcome.jpg" alt="Controller Welcome" />
<h2>HTTP Method Action</h2>
<p>FuelPHP supports routes to match HTTP method prefixed actions. Following is the basic syntax.</p>
<pre class="prettyprint notranslate">
class Controller_Employee extends Controller { 
   public function get_index() { 
      // called when the HTTP method is GET. 
   }  
   public function post_index(){ 
      // called when the HTTP method is POST. 
   } 
}
</pre>
<p>We can route your URLs to controllers and actions based on the HTTP verb in the configuration file as follows.</p>
<pre class="prettyprint notranslate">
return array ( 
   // Routes GET /employee to /employee/all and POST /employee to /employee/create 
   ‘employee’ =&gt; array(array('GET', new Route(‘employee/all')), array('POST', 
      new Route(‘employee/create'))), 
);
</pre>
<h1>FuelPHP - Requests &amp; Response</h1>
<p>HTTP request and HTTP response play an important role in any web application. We need to get the complete details of the http request to process it properly. Once processed, we need to send the processed data to the client through http response.</p>
<p>FuelPHP provides excellent <b>Request</b> and <b>Response</b> class to read and write HTTP request and HTTP response respectively. Let us learn about both <b>Request</b> and <b>Response</b> class in this chapter.</p>
<h2>Request</h2>
<p>In a typical web application, the application need to parse the details of the current request. <i>Request</i> class provides simple methods to parse the current request to be processed by the application. <i>Request</i> also provides an option to create a new request by acting as a http client.</p>
<p>Creating a new request enables the application to request other part of the application or entirely another application and show the result. Let us learn how to parse the incoming request in this chapter and learn how to create a new request in HMVC Request chapter.</p>
<h3>Parsing a Request</h3>
<p>Request class provides three methods to get the details of the http request. They are as follows,</p>
<p><b>active</b> &minus; It is a static method, which returns the current active http request.</p>
<pre class="prettyprint notranslate">
$currentRequest = Request::active();
</pre>
<p>param – It returns the value of the specified parameter. It contains two arguments. The first argument is the parameter name and the second argument is the value to return, if the parameter is not available in the current http request.</p>
<pre class="prettyprint notranslate">
$param = Request::active()-&gt;param('employee_name', 'none');
</pre>
<p>params – It is same as param except it returns all the parameters as an array.</p>
<pre class="prettyprint notranslate">
$params = Request::active()-&gt;params();
</pre>
<h3>Example</h3>
<p>Let us create a simple form and process the form using request class.</p>
<p><b>Step 1</b> &minus; Create a new action, <i>action_request</i> in the employee controller.</p>
<pre class="prettyprint notranslate">
public function action_request() { 
}
</pre>
<p><b>Step 2</b> &minus; Call the request methods to get all the parameters of the current request.</p>
<pre class="prettyprint notranslate">
public function action_request() { 
   $params = Request::active()-&gt;params(); 
}
</pre>
<p><b>Step 3</b> &minus; Dump the fetched parameter array.</p>
<pre class="prettyprint notranslate">
public function action_request() { 
   $params = Request::active()-&gt;params();  
   echo dump($params); 
}
</pre>
<p><b>Step 4</b> &minus; Change the routing to include the parameters in the route configuration file, <i>fuel/app/config/routes.php</i></p>
<pre class="prettyprint notranslate">
'employee/request(/:name)?' =&gt; array('employee/request', 'name' =&gt; 'name'),
</pre>
<p>Now, requesting the new action, <i>http://localhost:8080/employee/request/Jon,</i> it will show the following response.</p>
<img src="images/parsing_request.jpg" alt="Parsing Request" />
<h2>Response</h2>
<p>Response class provides options to create a http response. By default, we don't need to use a response class directly in most situations. Instead, we use <i>View</i> (which we will learn in the next chapter) to create http response. View hides the http response from the developer and sends the response to the client using underlying <i>Response</i> class. In an advanced situation, we use <i>Response</i> class directly and create a complete http response.</p>
<h3>Creating a Response</h3>
<p>Response consists of headers and body. The main header is http status code. Http status code are standard codes defined in the HTTP protocol to describe the response. For example, a status code, 200 means the request is success.</p>
<p>Response class provides three arguments to create the http response,</p>
<ul class="list">
<li><p><b>$body</b> &minus; body of the http response</p></li>
<li><p><b>$status_code</b> &minus; status code of the http response</p></li>
<li><p><b>$headers</b> &minus; optional headers as array</p></li>
</ul>
<pre class="prettyprint notranslate">
$body = "Hi, FuelPHP"; 
$headers = array ( 
   'Content-Type' =&gt; 'text/html', 
); 
$response = new Response($body, 200, $headers);
</pre>
<p>Let us create a new action, <i>action_response</i> in the employee controller as follows.</p>
<pre class="prettyprint notranslate">
public function action_response() { 
   $body = "Hi, FuelPHP"; 
   $headers = array ('Content-Type' =&gt; 'text/html',); 
   $response = new Response($body, 200, $headers); 
   
   return $response; 
}
</pre>
<h3>Result</h3>
<img src="images/action_response.jpg" alt="Action Response" />
<h2>Methods</h2>
<p>Response class provides a lot of methods to manipulate http responses. They are as follows,</p>
<p><b>forge</b> &minus; It is the same as response class constructor as seen above.</p>
<pre class="prettyprint notranslate">
return Response::forge("Hi, FuelPHP", 404);
</pre>
<p><b>redirect</b> &minus; It provides option to redirecting to a URL instead of sending a response. It contains the following arguments,</p>
<p><b>a.url</b> &minus; destination url b. method - redirection methods. <i>location</i> (default) and <i>refresh c</i>. redirect_code - http status code. The default value is 302.</p>
<pre class="prettyprint notranslate">
// use a URL 
Response::redirect('http://some-domain/index', 'refresh');  

// or use a relative URI 
Response::redirect('employee/list'); 
</pre>
<p><b>redirect_back</b> &minus; It is similar to redirect method except it redirects to the previous page. We can specify the redirection page, if no back page is available.</p>
<pre class="prettyprint notranslate">
// If there is no back page, go to the employee list page 
Response::redirect_back('/employee/list', 'refresh');
</pre>
<p><b>set_status</b> &minus; It provides an option to set the http status code.</p>
<pre class="prettyprint notranslate">
$response = new Response(); 
$response-&gt;set_status(404); 
</pre>
<p><b>set_header</b> &minus; It provides an option to set the http headers.</p>
<pre class="prettyprint notranslate">
$response = new Response(); 
$response-&gt;set_header('Content-Type', 'application/pdf');  

// replace previous value using third arguments 
$response-&gt;set_header('Content-Type', 'application/pdf', 'text/plain'); 
</pre>
<p><b>set_headers</b> &minus; It is same as <b>set_header</b> except it provides an option to set multiple headers using array.</p>
<pre class="prettyprint notranslate">
$response = new Response(); 
$response-&gt;set_headers (array 
   'Content-Type' =&gt; 'application/pdf', 
   'Pragma' =&gt; 'no-cache', 
)); 
</pre>
<p><b>get_header</b> &minus; It enables to get the previous set header details.</p>
<pre class="prettyprint notranslate">
$response = new Response(); 
$response-&gt;set_header('Pragma', 'no-cache');  

// returns 'no-cache' 
$header = $response-&gt;get_header('Pragma');  

// returns array('Pragma' =&gt; 'no-cache') 
$header = $response-&gt;get_header();
</pre>
<p><b>body</b> &minus; It provides an option to set the body of the http response.</p>
<pre class="prettyprint notranslate">
$response = new Response(); 
$response-&gt;body('Hi, FuelPHP');  

// returns 'Hi, FuelPHP' 
$body = $response-&gt;body();
</pre>
<p><b>send_headers</b> &minus; It sends the headers to the requested client. FuelPHP uses this method to send the response to the client. Normally, we don't need to use this method.</p>
<pre class="prettyprint notranslate">
$response-&gt;send_headers();
</pre>
<p><b>send</b> &minus; Same as send_headers except headers may be restricted in the http response.</p>
<pre class="prettyprint notranslate">
// send the headers as well 
$response-&gt;send(true);  

// only send the body 
$response-&gt;send(false); 
$response-&gt;send(); 
</pre>
<h1>FuelPHP - Views</h1>
<p><b>View</b> is the presentation layer of the MVC application. It separates the application logic from the presentation logic. When a controller needs to generate HTML, CSS, or any other content then, it forwards the task to the view engine.</p>
<p>FuelPHP provides a simple and flexible class, View with all the necessary features of a view engine. View class supports rendering of view file. View file is a HTML page with embedded PHP instructions. Variables of the view file can be set using View class as PHP array and referenced in the view file using the array's key. Let us check some of the important methods of View class.</p>
<h2>forge</h2>
<ul class="list">
<li><p><b>Purpose</b> &minus; Creates a new View object</p></li>
<li><p><b>Parameter</b> &minus; Following are the parameters</p>
<ul class="list">
<li><p><b>$file</b> &minus; Path of the view file relative to the views folder, fuel/app/views</p></li>
<li><p><b>$data</b> &minus; Array of values</p></li>
<li><p><b>$filter</b> &minus; Sets auto encoding, defaults to settings in the main configuration file</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Instance of the view</p></li>
</ul>
<p>For Example,</p>
<pre class="prettyprint notranslate">
$view = View::forge ('path/to/view', array( 
   'title' =&gt; "Show employee, 
   'employees' =&gt; $employees, 
));
</pre>
<h2>auto_filter</h2>
<ul class="list">
<li><p><b>Purpose</b> &minus; Set whether to encode the data or not</p></li>
<li><p><b>Parameter</b> &minus; Following is the parameter</p>
<ul class="list">
<li><p><b>$filter</b> &minus; true / false</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Current view object</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$view-&gt;auto_filter(); 
$view = $view-&gt;auto_filter(false);
</pre>
<h2>set_filename</h2>
<ul class="list">
<li><p><b>Purpose</b> &minus; Allows to set or change the view file.</p></li>
<li><p><b>Parameter</b> &minus; Following is the parameter -</p>
<ul class="list">
<li><p><b>$file</b> &minus; Path to view file relative to views folder, fuel/app/views</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Current View object</p></li>
</ul>
<p>For Example,</p>
<pre class="prettyprint notranslate">
$view = new View();
$view&gt;set_filename('path/to/view');
</pre>
<h2>set</h2>
<ul class="list">
<li><p><b>Purpose</b> &minus; Set the value of one or more variable</p></li>
<li><p><b>Parameter</b> &minus; Following are the parameters</p>
<ul class="list">
<li><p><b>$key</b> &minus; Variable name or array of values</p></li>
<li><p><b>$value</b> &minus; Value / null</p></li>
<li><p><b>$filter</b> &minus; Encoding setting, true / false</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Current view object</p></li>
</ul>
<p>For Example,</p>
<pre class="prettyprint notranslate">
$view = new View(); 
$view-&gt;set(array('name' =&gt; 'Jon'));
</pre>
<h3>set_global</h3>
<p>set_global is similar to <b>set</b>, except that it applies to all the views and the variables are accessible by all views. This is a static method.</p>
<pre class="prettyprint notranslate">
View::set_global('name', 'Jon', false);
</pre>
<h3>set_safe</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; Set the value of one or more variables with safe encoding on.</p></li>
<li><p><b>Parameter</b> &minus; Following are the parameters &minus;</p>
<ul class="list">
<li><p><b>$key</b> &minus; Variable name or array of values</p></li>
<li><p><b>$value</b> &minus; Value / null</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Current view object</p></li>
</ul>
<p>For Example,</p>
<pre class="prettyprint notranslate">
$view = new View(); 
$view-&gt;set_safe(array('name' =&gt; 'Jon'), null); 
</pre>
<h2>get</h2>
<ul class="list">
<li><p><b>Purpose</b> &minus; Get the value of one or more variables</p></li>
<li><p><b>Parameter</b> &minus; Following are the parameters</p>
<ul class="list">
<li><p><b>$key</b> &minus; Variable name</p></li>
<li><p><b>$default</b> &minus; Default value to be returned if the key is not found</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Value of the input key</p></li>
</ul>
<p>For Example,</p>
<pre class="prettyprint notranslate">
$view = new View(); 
$name = $view&gt;get('name');  // name = 'Jon'
</pre>
<h2>render</h2>
<ul class="list">
<li><p><b>Purpose</b> &minus; Render the view files into string by merging it with the local and global variables</p></li>
<li><p><b>Parameter</b> &minus; Following are the parameters &minus;</p>
<ul class="list">
<li><p><b>$file</b> &minus; The view filename</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; The rendered view file as string</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$html = View::forge()-&gt;render('/path/to/view');
</pre>
<h2>Create a View</h2>
<p>To understand the views, let us modify the action method, <i>action_show</i> of controller, <i>Controller_Employee</i>.</p>
<h3>employee.php</h3>
<pre class="prettyprint notranslate">
&lt;?php  
   class Controller_Employee extends Controller { 
      public function action_show() {
         return View::forge('employee/show'); 
      } 
   }
</pre>
<p>Now create a folder employee in views directory, located at <i>fuel/app/views</i>. Then, create a file <i>show.php</i> inside employee folder and add the following code.</p>
<h3>show.php</h3>
<pre class="prettyprint notranslate">
&lt;h3&gt; My first view &lt;/h3&gt;
</pre>
<p>Now, request the url <i>http://localhost:8080/employee/show</i> and it produces the following result.</p>
<img src="images/show_view.jpg" alt="Show View" />
<h2>Passing Data to View</h2>
<p>We can pass data to the views using View methods as discussed earlier. Following is a simple example.</p>
<h3>employee.php</h3>
<pre class="prettyprint notranslate">
class Controller_Employee extends Controller { 
   public function action_show() { 
      $data = array(); //stores variables going to views 
      $data['name'] = ‘Jon’; 
      $data[‘job’] = ‘Designer’;  
      
      //assign the view to browser output 
      return View::forge('employee/show', $data); 
   } 
}
</pre>
<p>Now, add the changes in the <b>view</b> file.</p>
<h3>show.php</h3>
<pre class="prettyprint notranslate">
&lt;html&gt; 
   &lt;body&gt; 
      Hello, &lt;?php echo $name; ?&gt;. 
      Your job is, &lt;?php echo $job; ?&gt;. 
   &lt;/body&gt; 
&lt;/html&gt;
</pre>
<p>After requesting the URL, it will display the name and the job as follows &minus;</p>
<img src="images/passing_view_request.jpg" alt="Passing View Request" />
<h2>View Filter</h2>
<p>Views use output encoding to pass anything you want. If you want to pass unfiltered data, we can use the set method.</p>
<h3>employee.php</h3>
<pre class="prettyprint notranslate">
class Controller_Employee extends Controller { 
   public function action_show() { 
      $view = \View::forge('employee/show'); 
      $view-&gt;set('name', 'Jon', true); 
      $view-&gt;set('job', '&lt;em&gt;Designer&lt;/em&gt;', false); 
      return $view; 
   } 
}   
</pre>
<p>After requesting the URL, it will display the job details in emphasis style, as follows.</p>
<img src="images/view_filter.jpg" alt="View Filter" />
<h2>Nested Views</h2>
<p>FuelPHP support nested views. In nested views, a view can contain one or more view. To set the views in another view, we can use render method as follows.</p>
<h3>employee.php</h3>
<pre class="prettyprint notranslate">
class Controller_Employee extends Controller { 
   public function action_nestedview() { 
      
      //assign variables 
      $data = array(); 
      $data['title'] = 'Home';  
      $data['name'] = 'Jon'; 
      $data['job'] = 'Designer';  
      $views = array(); 
      $views['head'] = View::forge('head', $data)-&gt;render(); 
      $views['content'] = View::forge('employee/show', $data)-&gt;render();  
      return View::forge('layout', $views, false)-&gt;render(); 
   } 
}
</pre>
<h3>fuel/app/views/layout.php</h3>
<pre class="prettyprint notranslate">
&lt;html&gt; 
   &lt;head&gt; 
      &lt;?php echo $head; ?&gt; 
   &lt;/head&gt; 
   
   &lt;body&gt; 
      &lt;?php echo $content; ?&gt; 
   &lt;/body&gt; 
&lt;/html&gt; 
</pre>
<h3>fuel/app/views/head.php</h3>
<pre class="prettyprint notranslate">
&lt;title&gt;
   &lt;?php echo $title; ?&gt;
&lt;/title&gt; 
</pre>
<h3>fuel/app/views/employee/show.php</h3>
<pre class="prettyprint notranslate">
Hello, &lt;?php echo $name; ?&gt;. 
Your job is, &lt;?php echo $job; ?&gt;.
</pre>
<p>After requesting the URL, <i>http://localhost:8080/employee/nestedview</i> and checking the source view, it gives the following code.</p>
<pre class="prettyprint notranslate">
&lt;html&gt; 
   &lt;head&gt; 
      &lt;title&gt;Home&lt;/title&gt; 
   &lt;/head&gt; 
   
   &lt;body&gt; 
      Hello, Jon. 
      Your job is, Designer. 
   &lt;/body&gt; 
&lt;/html&gt;
</pre>
<h2>Template Controller</h2>
<p>FuelPHP provides a controller, Controller_Template with built-in layout concept. The layout concept is done using <b>before()</b> and <b>after()</b> method of Controller. To use the template controller, we need to extend the controller using Controller_Template instead of Controller. While using after() / before() method, we need to call parent::before and parent::after, otherwise, the template breaks.</p>
<pre class="prettyprint notranslate">
&lt;?php 
   class Controller_Test extends Controller_Template { 
      public function before() { 
         parent::before(); 
         // do stuff 
      } 
        
      public function after($response) { 
         $response = parent::after($response); 
         
         // do stuff 
         return $response; 
      } 
   }
</pre>
<h3>template.php</h3>
<p>It is a default template file in Fuel. The template file is used to call JS, CSS, HTML, and call view partials. It is located at <b>fuel/app/views/</b>. Templates are used to wrap your view in a layout with a header, footer, sidebar, etc. We can change default template using $template variable in the action method as follows.</p>
<h3>fuel/app/classes/controller/test.php</h3>
<pre class="prettyprint notranslate">
&lt;?php  
   class Controller_Test extends Controller_Template { 
      public $template = 'template_test'; 
      public function action_index() { 
         $this-&gt;template-&gt;title = 'Example Page'; 
         $this-&gt;template-&gt;content = View::forge('test/index'); 
      } 
   } 
</pre>
<h3>fuel/app/views/template_test.php</h3>
<pre class="prettyprint notranslate">
&lt;!DOCTYPE html&gt; 
&lt;html&gt; 
   &lt;head&gt; 
      &lt;meta charset = "utf-8"&gt; 
      &lt;title&gt;&lt;?php echo $title; ?&gt;&lt;/title&gt; 
      &lt;?php echo Asset::css('bootstrap.css'); ?&gt; 
   &lt;/head&gt; 

   &lt;body&gt; 
      &lt;div&gt; 
         &lt;?php echo $content; ?&gt;
      &lt;/div&gt; 
   &lt;/body&gt; 
&lt;/html&gt; 
</pre>
<h3>fuel/app/views/test/index.php</h3>
<pre class="prettyprint notranslate">
&lt;h3&gt;My Test page&lt;/h3&gt;
</pre>
<p>Now, request the URL <i>http://localhost:8080/test</i> and it produces the following result.</p>
<h3>Result</h3>
<pre class="prettyprint notranslate">
&lt;!DOCTYPE html&gt; 
&lt;html&gt; 
   &lt;head&gt; 
      &lt;meta charset = "utf-8"&gt; 
      &lt;title&gt;Example Page&lt;/title&gt; 
      &lt;link type = "text/css" rel = "stylesheet" 
         href = "http://localhost:8080/assets/css/bootstrap.css?1464964766" /&gt;
   &lt;/head&gt; 
   
   &lt;body&gt; 
      &lt;div&gt; 
         &lt;h3&gt;My Test page&lt;/h3&gt; 
      &lt;/div&gt; 
   &lt;/body&gt; 
&lt;/html&gt;
</pre>
<h2>Generate View Page</h2>
<p>You can generate a view page using Fuel's Oil console. Following is the basic syntax.</p>
<pre class="result notranslate">
oil g controller &lt;controller-name&gt; &lt;page1&gt; &lt;page2&gt; ..
</pre>
<p>To generate an admin controller with home and login pages, use the following command.</p>
<pre class="result notranslate">
oil g controller admin home login
</pre>
<h3>Result</h3>
<pre class="result notranslate">
Creating view: /path/to/app/fuel/app/views/admin/home.php 
Creating view: /path/to/app/fuel/app/views/admin/login.php 
Creating controller: /path/to/app/fuel/app/classes/controller/admin.php
</pre>
<h1>FuelPHP - Presenters</h1>
<p>FuelPHP provides an additional layer after the controller to generate views. Once the controller processes the input and is done with the business logic, it sends the control to the <b>Presenter</b>, which takes care of the extra logic such as fetching data from the database, setting view data, etc., and then, calls the View object.</p>
<p>We can render the views using the Presenter class as follows &minus;</p>
<h2>fuel/app/classes/controller/employee.php</h2>
<pre class="prettyprint notranslate">
public Controller_Employee extends Controller { 
   public function action_welcome() { 
      return Presenter::forge('employee/hello'); 
   } 
}
</pre>
<p>The default location of presenter class is <i>fuel/app/classes/presenter/</i>. Following is a simple example.</p>
<h2>fuel/app/classes/presenter/employee/hello.php</h2>
<pre class="prettyprint notranslate">
&lt;?php  
   class Presenter_Employee_Hello extends Presenter { 
      public function view() { 
         $this-&gt;name = Request::active()-&gt;param('name', 'World'); 
      } 
   } 
</pre>
<p>The view file of the above presenter class resolves to <i>employee/hello.php</i> relative to the <i>views</i> folder, which is as specified.</p>
<h2>fuel/app/views/employee/hello.php</h2>
<pre class="prettyprint notranslate">
&lt;h3&gt;Hi, &lt;?php echo $name; ?&gt;&lt;/h3&gt; 
</pre>
<p>Finally, change the route to match the employee's welcome action, shown as follows &minus;</p>
<h2>fuel/app/config/routes.php</h2>
<pre class="prettyprint notranslate">
'employee/hello(/:name)?' =&gt; array('employee/welcome', 'name' =&gt; 'hello'), 
</pre>
<p>Now, requesting the URL, <i>http://localhost:8080/employee/hello/Jon</i> renders the following result.</p>
<h2>Result</h2>
<img src="images/presenter_view.jpg" alt="Presenter View" />
<h1>FuelPHP - Models &amp; Database</h1>
<p>Model plays an important role in FuelPHP web framework. It represents the business entities of the application. They are either provided by customers or fetched from backend database, manipulated according to the business rules and persisted back into the database. Let us learn about models and how they interact with back-end system in this chapter.</p>
<h2>Creating a Model</h2>
<p>In FuelPHP, model is simply plain PHP class extending built-in Model class. By default, models may be prefixed with Model_ similar to controllers and should be placed in <b>fuel/app/classes/model/</b> folder. Let us create a basic employee model and extend it as we proceed.</p>
<h3>fuel/app/classes/model/employee.php</h3>
<pre class="prettyprint notranslate">
&lt;?php 
   namespace Model; 

   class Model_Employee extends \Model { 
      public static function fetchAll() { 
         // Code to fetch employee from database 
      } 
   }
</pre>
<h2>Access a Model</h2>
<p>Once a model is defined, it can be freely used in any controller just by including it in the controller as follows.</p>
<pre class="prettyprint notranslate">
use \Model\Employee; 

class Controller_Employee extends Controller { 
   public function action_index() { 
      $employees = Employee::fetchAll(); 
   } 
}
</pre>
<h2>Database Overview</h2>
<p>FuelPHP provides its own database abstraction layer to fetch data from the database. It provides both basic as well as advanced ORM based tool. The basic toolkit consists of DB, DBUtil and Query_Builer based classes. The advanced toolkit is Orm. Orm toolkit is derived from the base toolkit and bundled as a separate package.</p>
<h2>Database Configuration</h2>
<p>FuelPHP separates the database settings from the main configuration file and the file is <b>fuel/app/config/db.php</b>. It supports a separate setting for each environment. Currently, FuelPHP supports MySQL, MySQLi, and PDO drivers. The sample setting is as follows &minus;</p>
<pre class="prettyprint notranslate">
&lt;?php  
   return array ( 
      'development' =&gt; array ( 
         'type'           =&gt; 'mysqli', 
         'connection'     =&gt; array ( 
            'hostname'    =&gt; 'localhost', 
            'port'        =&gt; '3306', 
            'database'    =&gt; 'tutorialspoint_fueldb', 
            'username'    =&gt; 'root', 
            'password'    =&gt; 'password', 
            'persistent'  =&gt; false, 
            'compress'    =&gt; false, 
         ), 
         
         'identifier'     =&gt; '`', 
         'table_prefix'   =&gt; '', 
         'charset'        =&gt; 'utf8', 
         'enable_cache'   =&gt; true, 
         'profiling'      =&gt; false, 
         'readonly'       =&gt; false, 
      ), 
   )
</pre>
<h2>DB-based Toolkit</h2>
<p>The <b>DB class</b> is the simplest option to access database from the application. It provides options to build the database query, execute it against the target database, and finally fetch the result. The <i>DB</i> class interacts with the following classes and provides a comprehensive database API.</p>
<ul class="list">
<li><p><b>Database_Connection</b> &minus; Singleton and main class to interact with the database</p></li>
<li><p><b>Database_Query</b> &minus; Base, concrete class to execute the SQL query and fetch result</p></li>
<li><p><b>Database_Query_Builder</b> &minus; Base, abstract class to build SQL query</p></li>
<li><p><b>Database_Query_Builder_Join</b> &minus; Class to build SQL joins</p></li>
<li><p><b>Database_Query_Builder_Where</b> &minus; Abstract class to build SQL query conditions</p></li>
<li><p><b>Database_Query_Builder_Select</b> &minus; Concrete class to build SQL select query</p></li>
<li><p><b>Database_Query_Builder_Insert</b> &minus; Abstract class to build SQL insert query</p></li>
<li><p><b>Database_Query_Builder_Update</b> &minus; Abstract class to build SQL update query</p></li>
<li><p><b>Database_Query_Builder_Delete</b> &minus; Abstract class to build SQL delete query</p></li>
</ul>
<p>The following diagram depicts the relationship between classes and the methods provided by the classes.</p>
<img src="images/classes_methods.jpg" alt="Classes and Methods" />
<h2>DB API</h2>
<p>Let us learn the most important methods available in the DB class in this section.</p>
<h3>instance</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; Creates and returns the new <i>Database_Connection</i> instance.</p></li>
<li><p><b>Parameter</b> &minus;</p>
<ul class="list">
<li><p><b>$db</b> &minus; Database connection name defined in configuration file, optional.</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Returns the <i>Database_Connection</i> object</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$db = DB::instance(); 
$db = DB::instance('test');
</pre>
<h3>query</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; Prepare the provided SQL statement and returns the Database_Query object, which can be used to insert, update, delete, or fetch the data from the database.</p></li>
<li><p><b>Parameter</b> &minus;</p>
<ul class="list">
<li><p><b>$query</b> &minus; SQL statement, may contain placeholders;</p></li>
<li><p><b>$type</b> &minus; SQL type, optional (DB::SELECT, DB::INSERT, DB::UPDATE and DB::DELETE)</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Returns the <i>Database_Query</i> object</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$query = DB::query('SELECT * FROM 'employees'');
</pre>
<h3>last_query</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To get the last executed query</p></li>
<li><p><b>Parameter</b> &minus; None</p></li>
<li><p><b>Returns</b> &minus; Returns the last executed query</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$employees = DB::Select('Select * from 'employee''); 
$sql = DB::last_query();
</pre>
<h3>select</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; Generate the select part of the query</p></li>
<li><p><b>Parameter</b> &minus;</p>
<ul class="list">
<li><p><b>$columns</b> &minus; List of the database column names</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Returns the Database_Query_Builder_Select object</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$query = DB::select();              // Select *
$query = DB::select('id', 'name'); // Select id, name 
</pre>
<h3>select_array (DB)</h3>
<p>It is similar to select except we can send columns as array.</p>
<pre class="prettyprint notranslate">
$query = DB::select_array(array('id', 'name')); // Select id, name 
</pre>
<h3>insert</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; Generate the insert part of the query</p></li>
<li><p><b>Parameter</b> &minus;</p>
<ul class="list">
<li><p><b>$table_name</b> &minus; name of the database table;</p></li>
<li><p><b>$columns</b> &minus; array of table columns</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Returns the Database_Query_Builder_Insert object</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$query = DB::insert('employee');  // Insert into employee 
$query = DB::insert('employee', array('id', 'name')); // Insert into employee (id, name)
</pre>
<h3>update</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; Generate the update part of the query</p></li>
<li><p><b>Parameter</b> &minus;</p>
<ul class="list">
<li><p><b>$table_name</b> &minus; name of the database table</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Returns the Database_Query_Builder_Update object</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$query = DB::update('employee'); // update `employee`
</pre>
<h3>delete</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; Generate the delete part of the query</p></li>
<li><p><b>Parameter</b> &minus;</p>
<ul class="list">
<li><p><b>$table_name</b> &minus; name of the database table</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Returns the Database_Query_Builder_Delete object</p></li>
</ul>
<p>For Example</p>
<pre class="prettyprint notranslate">
$query = DB::delete('employee');  // delete from 'employee'
</pre>
<h2>Query API</h2>
<p><b>Database_Query</b> provides an option to set database connection, execute the query, and fetch the result as associative array or object. Let us see the methods provided by Database_Query class.</p>
<h3>set_connection</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To set the database (database connection details) against which to execute the query</p></li>
<li><p><b>Parameter</b> &minus; $db - database connection name</p></li>
<li><p><b>Returns</b> &minus; Returns the <i>Database_Query</i> object</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$query = DB::query('DELETE * FROM employee', DB::DELETE); 
$query-&gt;set_connection('2nd-db');
</pre>
<h3>param</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To set the value of the parameter defined in the Query object</p></li>
<li><p><b>Parameter</b> &minus;</p>
<ul class="list">
<li><p><b>$param</b> &minus; parameter name;</p></li>
<li><p><b>$value</b> &minus; value of the parameter</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Returns the <i>Database_Query</i> object</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
// set some variables
$table = 'employee';
$id = 1;
$name = 'Jon';

// don't use
$query = DB::query('SELECT * FROM '.$table.'. WHERE id = '.$id.' AND name = "'.$name.'"');

// but use
$query = DB::query('SELECT * FROM :tablename WHERE id = :id AND name = :name');
$query-&gt;param('tablename', 'employee');
$query-&gt;param('id', $id);
$query-&gt;param('name', $name);
</pre>
<h3>Similar Methods</h3>
<p><b>parameters</b> is a similar object except it provides option to give multiple value at once.</p>
<pre class="prettyprint notranslate">
$query-&gt;parameters (array( 
   'tablename' =&gt; $table, 
   'id' =&gt; $id, 
   'name' =&gt; $name 
}); 
</pre>
<h3>bind</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To set a variable to the parameter defined in the Query object</p></li>
<li><p><b>Parameter</b> &minus;</p>
<ul class="list">
<li><p><b>$param</b> &minus; parameter name</p></li>
<li><p><b>$var</b> &minus; the variable to bind the parameter to</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Returns the <i>Database_Query</i> object</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
// bind a query parameter 
$table = 'employee'; 
$query = DB::query('DELETE * FROM :tablename', DB::DELETE); 
$query-&gt;bind('tablename', $table);  

// update the variable 
$table = 'employee_salary'; 

// DELETE * FROM `employee_salary`; 
$sql = $query-&gt;compile();
</pre>
<h3>compile</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To compile the query object defined into SQL query</p></li>
<li><p><b>Parameter</b> &minus;</p>
<ul class="list">
<li><p><b>$db</b> &minus; connection string, optional</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus;</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
// assign a value to a query parameter 
$table = 'employee'; 
$query = DB::query('DELETE * FROM :tablename', DB::DELETE); 
$query-&gt;param('tablename', $table);

// compile the query, returns: DELETE * FROM employee 
$sql = $query-&gt;compile(); 
</pre>
<h3>execute</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To execute the query defined in the Query object and return the result</p></li>
<li><p><b>Parameter</b> &minus;</p>
<ul class="list">
<li><p><b>$db</b> &minus; database connection name</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Returns the result</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
// assign a value to a query parameter 
$table = 'employee'; 
$query = DB::query('DELETE * FROM :tablename', DB::DELETE); 
$query-&gt;param('tablename', $table);  

// execute the query 
$query-&gt;execute();
</pre>
<h3>as_assoc</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To set return type as associative array instead of objects</p></li>
<li><p><b>Parameter</b> &minus; None</p></li>
<li><p><b>Returns</b> &minus; Returns the current object</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$query = DB::query('SELECT * FROM employee', DB::SELECT); 
$result = $query-&gt;as_assoc()-&gt;execute(); 
foreach ($result as $row) { 
   echo $row['id']; 
}
</pre>
<h3>as_object</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To set return type as object instead of associative array</p></li>
<li><p><b>Parameter</b> &minus; None</p></li>
<li><p><b>Returns</b> &minus; Returns the current object</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$query = DB::query('SELECT * FROM employee', DB::SELECT); 
$result = $query-&gt;as_object()-&gt;execute(); 
foreach ($result as $row) { 
   echo $row-&gt;id; 
}  

// have ORM model objects return instead 
$result = $query-&gt;as_object('Model_Employee')-&gt;execute();
</pre>
<h2>Query Builder API</h2>
<p>Query builder <i>(Query_Builder)</i> based classes provide options to build SQL queries dynamically. It has four classes, each one to select <i>(Query_Builder_Select)</i>, insert <i>(Query_Builder_Insert)</i>, update <i>(Query_Builder_Update)</i> and delete <i>(Query_Builder_Delete)</i> queries. These classes are derived from <i>Query_Builder_Where</i> class (option to generate conditions), which itself is derived from <i>Query_Builder</i>, base of all classes.</p>
<p>Let us look at the methods provided by Query_Builder class.</p>
<h3>select</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To generate the columns of select queries.</p></li>
<li><p><b>Parameter</b> &minus;</p>
<ul class="list">
<li><p><b>$columns</b> &minus; list of columns, optional</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Returns the current instance</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$query = DB::select('name')  // select `name` 
$query = DB::select(array('first_name', 'name')) // select `first_name` as `name`
</pre>
<h3>from</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To generate the table details of select queries</p></li>
<li><p><b>Parameter</b> &minus;</p>
<ul class="list">
<li><p><b>$tables</b> &minus; list of tables</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Returns the current instance</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$query = DB::select('name')-&gt;from('employee') // select `name` from `employee`
</pre>
<h3>where</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To generate the conditions of select, insert and update queries</p></li>
<li><p><b>Parameters</b> &minus;</p>
<ul class="list">
<li><p><b>$column</b> &minus; column name or array ($column, $alias);</p></li>
<li><p><b>$op</b> &minus; logic operators, =, !=, IN, BETWEEN and LIKE, optional;</p></li>
<li><p><b>$value</b> &minus; column value</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Returns the current instance</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$query = DB::select('name')-&gt;from('employee')  
$query = $query-&gt;where('name', '=', 'Jon'); 
// select `name` from `employee` where `name` = `Jon`;
</pre>
<h3>Similar Methods</h3>
<p>The similar methods are where_open(), and_where_open(), or_where_open(), where_close(), and_where_close(), or_where_close(). They are similar to where() methods except that they add extra keywords and brackets around conditions. Following is a sample code.</p>
<pre class="prettyprint notranslate">
$query = DB::select('*')-&gt;from('employee');  
$query-&gt;where('email', 'like', '%@gmail.com'); 
$query-&gt;or_where_open(); 
$query-&gt;where('name', 'Jon'); 
$query-&gt;and_where('surname', 'Peter');
$query-&gt;or_where_close();  
// SELECT * FROM `employee` WHERE `email` LIKE "%gmail.com" OR 
   (`name` = "Jon" AND `surname` = "Peter")
</pre>
<h3>join</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To generate the table joins of select queries</p></li>
<li><p><b>Parameters</b> &minus;</p>
<ul class="list">
<li><p><b>$table</b> &minus; table name or array($table, $alias);</p></li>
<li><p><b>$type</b> &minus; join type (LEFT, RIGHT, INNER, etc.,)</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Returns the current instance</p></li>
</ul>
<p>Example</p>
<pre class="prettyprint notranslate">
$query = DB::select('name')-&gt;from('employee')-&gt;join('employee_salary') 
// select `name` from `employee` JOIN `employee_salary`
</pre>
<h3>on</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To generate the condition of joins in select queries</p></li>
<li><p><b>Parameters</b> &minus;</p>
<ul class="list">
<li><p><b>$c1</b> &minus; table name or table name with alias in array;</p></li>
<li><p><b>$op</b> &minus; logical operator;</p></li>
<li><p><b>$c2</b> &minus; table name or table name with alias in array</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Returns the current instance</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$query = DB::select('name')-&gt;from('employee')-&gt;join('employee_salary') 
$query = $query-&gt;on('employee.employee_id', '=', 'employee_salary.employee_id') 
// select `name` from `employee` JOIN `employee_salary` on 
// `employee.employee_id` = `employee_salary.employee_id`
</pre>
<h3>Similar Methods</h3>
<p>The related methods are and_on() and or_on(). They are similar to on() except that they add extra keyword and brackets around joins.</p>
<h3>group_by</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To generate group by queries</p></li>
<li><p><b>Parameter</b> &minus; <b>$columns</b> &minus; Column name by which to group the result</p></li>
<li><p><b>Returns</b> &minus; Returns the current instance</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$query = DB::select('name')-&gt;from('employee')  
$query = $query-&gt;group_by('name'); 
// select `name` from `employee` group by `name`
</pre>
<h3>having</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To generate the group by conditions of SQL queries</p></li>
<li><p><b>Parameter</b> &minus; <b>$column</b> &minus; column name or array( $column, $alias ); <b>$op</b> &minus; logic operators, =, !=, IN, BETWEEN and LIKE, optional; <b>$value</b> &minus; column value</p></li>
<li><p><b>Returns</b> &minus; Returns the current instance</p></li>
</ul>
<p>Example</p>
<pre class="prettyprint notranslate">
$query = DB::select('name')-&gt;from('employee')
$query = $query-&gt;group_by('name');
$query = $query-&gt;having('name', '!=', 'Jon');
// select `name` from `employee` group by `name` having `name` != `Jon`
</pre>
<h3>Similar Methods</h3>
<p>The similar methods are having_open(), and_having_open(), or_having_open(), having_close(), and_having_close(), or_having_close(). They are similar to having() methods except that they add extra keywords and brackets around conditions.</p>
<h3>reset</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To reset the query</p></li>
<li><p><b>Parameter</b> &minus; None</p></li>
<li><p><b>Returns</b> &minus; Returns the current instance</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$query = DB::select('name')-&gt;from('employee')  
$query-&gt;reset() 
$query = DB::select('name')-&gt;from('employee_salary') 
// select `name` from `employee_salary`
</pre>
<h3>DBUtil class</h3>
<p>DBUtil class provides an option to manage and perform routine database operations. Some of the important methods are as follows &minus;</p>
<ul class="list">
<li>set_connection - Sets the default connection</li>
</ul>
<pre class="prettyprint notranslate">
DBUtil::set_connection('new_database');
</pre>
<ul class="list">
<li>create_database - Creates a database.</li>
</ul>
<pre class="prettyprint notranslate">
DBUtil::create_database('my_database');
</pre>
<ul class="list">
<li>drop_database - Drops a database.</li>
</ul>
<pre class="prettyprint notranslate">
DBUtil::drop_database('my_database');
</pre>
<ul class="list">
<li>table_exists - Checks if a given table exists.</li>
</ul>
<pre class="prettyprint notranslate">
if(DBUtil::table_exists('my_table')) { 
   // Table exists 
} else { 
   // Table does NOT exist, create it! 
} 
</pre>
<ul class="list">
<li>drop_table - Drops a table.</li>
</ul>
<pre class="prettyprint notranslate">
DBUtil::drop_table('my_table');
</pre>
<ul class="list">
<li>create_table - Creates a table.</li>
</ul>
<pre class="prettyprint notranslate">
\DBUtil::create_table ( 
   'users', 
   array ( 
      'id' =&gt; array('type' =&gt; 'int', 'auto_increment' =&gt; true), 
      'name' =&gt; array('type' =&gt; 'text'), 
   ), 
); 
</pre>
<h2>Orm Toolkit</h2>
<p>FuelPHP provides advanced database layer using ORM concept based on the popular <b>Active record pattern</b>. The toolkit is included in the application but not configured by default. It is bundled as a package and the package name is orm. We can add the following configuration in the main configuration file, <b>fuel/app/config/config.php</b> to load the orm toolkit.</p>
<pre class="prettyprint notranslate">
'always_load' =&gt; array ( 
   'packages' =&gt; array (
      'orm', 
   ), 
),
</pre>
<h3>Creating Models</h3>
<p>Orm provides base model class Orm\Model. We need to extend our models with the orm model to use the ORM features. Following is a sample code.</p>
<pre class="prettyprint notranslate">
class Model_Employee extends Orm\Model {}
</pre>
<h3>Configuration</h3>
<p>Orm provides a set of settings to configure the model to use the ORM features. They are as follows &minus;</p>
<p><b>connection</b> &minus; Set a static <i>_connection</i> property in the model to specify the connection name.</p>
<pre class="prettyprint notranslate">
class Model_Employee extends Orm\Model { 
   protected static $_connection = "production"; 
}
</pre>
<p><b>table name</b> &minus; Set a static <i>_table_name</i> property in the model to specify the table name of the backend table.</p>
<pre class="prettyprint notranslate">
class Model_Employee extends Orm\Model { 
   protected static $_table_name = 'employee'; 
} 
</pre>
<p><b>primary key</b> &minus; Set a static <i>_primary_key</i> property in the model to specify the primary key of the backend table.</p>
<pre class="prettyprint notranslate">
class Model_Employee extends Orm\Model { 
   protected static $_primary_key = array('id'); 
} 
</pre>
<p><b>Columns</b> &minus; Set a static _properties property in the model to specify the columns of the backend table. It supports data_type, label, validation, form elememts, etc.</p>
<pre class="prettyprint notranslate">
class Model_Employee extends Orm\Model { 
   protected static $_properties = array ( 
      'id',  
      'name' =&gt; array ( 
         'data_type' =&gt; 'varchar', 
         'label' =&gt; 'Employee Name', 
         'validation' =&gt; array ( 
            'required',  
            'min_length' =&gt; array(3),  
            'max_length' &gt; array(80) 
         ), 
         
         'form' =&gt; array ( 
            'type' =&gt; 'text' 
         ), 
      ),  

      'age' =&gt; array ( 
         'data_type' =&gt; 'int', 
         'label' =&gt; 'Employee Age', 
         'validation' =&gt; array ( 
            'required',  
         ),  
         
         'form' =&gt; array ( 
            'type' =&gt; 'text' 
         ), 
      ),  
   ); 
}
</pre>
<p><b>Conditions</b> &minus; Set a static <i>_conditions</i> property to set the conditions and order by options.</p>
<pre class="prettyprint notranslate">
class Model_Employee extends Orm\Model { 
   protected static $_conditions = array ( 
      'order_by' =&gt; array('id' =&gt; 'desc'), 
      'where' =&gt; array ( 
         array('is_active', &gt; true), 
      ), 
   ); 
}
</pre>
<p><b>Observers</b> &minus; <i>Orm</i> provides observer based event system to add behavior to specific events. To add a behavior, first set a <i>_observers</i> property in the model. Then, define the behavior as a class and set it in the <i>_observers</i> property along with events. If no event is specified, the behavior will be invoked for all events. We can specify multiple behavior as well.</p>
<pre class="prettyprint notranslate">
class Model_Employee { 
   protected static $_observers = array ( 
      'example',  // will call Observer_Example class for all events 
      'Orm\\Observer_CreatedOn' =&gt; array ( 
         'events' =&gt; array('before_insert'),  
         // will only call Orm\Observer_CreatedOn at before_insert event 
      ) 
   ); 
} 
</pre>
<h3>Create</h3>
<p>Once we configure the model, we can start using the methods straightaway. <i>Orm</i> provides a <i>save</i> method to save the object into the database. We can set the data using configured properties as follows &minus;</p>
<pre class="prettyprint notranslate">
// option 1 
$new = new Model_Employee(); 
$new-&gt;name = 'Jon'; 
$new-&gt;save();  

// option 2, use forge instead of new 
$new = Model_Employee::forge();
$new-&gt;name = 'Jon'; 
$new-&gt;save();  

// option 3, use array for properties 
$props = array('name' =&gt; 'Jon'); 
$new = Model_Employee::forge($props); 
$new&gt;save();
</pre>
<h3>Read</h3>
<p>Orm provides a method, find to get fetch the data from the database and bind into the object. find method works depending on the input parameter. Let us look at the different options &minus;</p>
<p><b>by primary key</b> &minus; Specifying the primary key returns the record by matching the primary key of the configured table.</p>
<pre class="prettyprint notranslate">
$employee = Model_Employee::find(1);
</pre>
<p><b>first / last record</b> &minus; Specifying ‘first’ or ‘last’ will fetch the first record or the last record respectively. We can pass the order by option as well.</p>
<pre class="prettyprint notranslate">
$entry = Model_Employee::find('first'); 
$entry = Model_Article::find('last', array('order_by' =&gt; 'id'));
</pre>
<p><b>All</b> &minus; Specifying ‘all’ will fetch all the records from the configured table. We can specify order by option as well as conditions.</p>
<pre class="prettyprint notranslate">
$entry = Model_Employee::find('all');  
$entry = Model_Article::find ('all', array ( 
   'where' =&gt; array ( 
      array ('name', 'Jon'), 
   ), 
   'order_by' =&gt; array ('id' =&gt; 'desc'), 
));
</pre>
<p>We can use Query API of basic database toolkit along with model for advanced search option as follows.</p>
<pre class="prettyprint notranslate">
$query = Model_Employee::query()-&gt;where('category_id', 1)-&gt;order_by('date', 'desc');
$number_of_employees = $query-&gt;count(); 
$latest_employee = $query-&gt;max('id'); 
$young_employee = $query-&gt;min('age'); 
$newest_employee = $query-&gt;get_one(); 
$employees = $query-&gt;limit(15)-&gt;get();
</pre>
<h3>Update</h3>
<p>Updating the model is the same as creating, except instead of creating a new model just fetch the model to be updated using the find method, update the property and then call the save method as follows.</p>
<pre class="prettyprint notranslate">
$entry = Model_Employee:find(4);
$entry-&gt;name = 'Peter'; 
$entry-&gt;save();
</pre>
<h3>Delete</h3>
<p>Orm provides a delete method to delete the model. Just fetch the object and call the delete method.</p>
<pre class="prettyprint notranslate">
$entry = Model_Employee:find(4); 
$entry-&gt;delete();
</pre>
<h2>Working Example</h2>
<p>Let's create a working example in this chapter to understand the model and database.</p>
<h3>Create a Database</h3>
<p>Create a new database in MySQL server, using the following command.</p>
<pre class="prettyprint notranslate">
create database tutorialspoint_fueldb
</pre>
<p>Then, create a table inside the database using the following command.</p>
<pre class="prettyprint notranslate">
create table employee(id int primary key, name varchar(20), age int not null);
</pre>
<h3>Configure the Database</h3>
<p>Let us configure the database using database configuration file, *fuel/app/config/db.php. Add the following changes to connect MySQL server.</p>
<pre class="prettyprint notranslate">
&lt;?php  
   return array ( 
      'development' =&gt; array ( 
         'type'           =&gt; 'mysqli', 
         'connection'     =&gt; array ( 
            'hostname'       =&gt; 'localhost', 
            'port'           =&gt; '3306', 
            'database'       =&gt; 'tutorialspoint_fueldb', 
            'username'       =&gt; 'root', 
            'password'       =&gt; 'pass', 
            'persistent'     =&gt; false, 
            'compress'       =&gt; false, 
         ), 
         
         'identifier'     =&gt; '`', 
         'table_prefix'   =&gt; '', 
         'charset'        =&gt; 'utf8', 
         'enable_cache'   =&gt; true, 
         'profiling'      =&gt; false, 
         'readonly'       =&gt; false, 
      ),  
      
      'production' =&gt; array ( 
         'type'           =&gt; 'mysqli', 
         'connection'     =&gt; array ( 
            'hostname'       =&gt; 'localhost', 
            'port'           =&gt; '3306', 
            'database'       =&gt; 'tutorialspoint_fueldb', 
            'username'       =&gt; 'root', 
            'password'       =&gt; 'pass', 
            'persistent'     =&gt; false, 
            'compress'       =&gt; false, 
         ), 
         
         'identifier'     =&gt; '`', 
         'table_prefix'   =&gt; '', 
         'charset'        =&gt; 'utf8', 
         'enable_cache'   =&gt; true, 
         'profiling'      =&gt; false, 
         'readonly'       =&gt; false, 
      ), 
   );
</pre>
<h3>Include ORM Package</h3>
<p>Update the main configuration file, <b>fuel/app/config/config.php</b> to include ORM package by adding the following configuration.</p>
<pre class="prettyprint notranslate">
'always_load' =&gt; array ( 
   'packages' =&gt; array ( 
      'orm' 
   ), 
),
</pre>
<p>Now, ORM is enabled in your application</p>
<h3>Create Employee Model</h3>
<p>Create a new model, Employee under the model folder <b>“fuel/app/classes/model”</b>. It is defined as follows.</p>
<p><b>Employee.php</b></p>
<pre class="prettyprint notranslate">
&lt;?php  
   class Model_Employee extends Orm\Model { 
      protected static $_connection = 'production'; 
      protected static $_table_name = 'employee'; 
      protected static $_primary_key = array('id'); 
      protected static $_properties = array ( 
         'id',  
         'name' =&gt; array ( 
            'data_type' =&gt; 'varchar', 
            'label' =&gt; 'Employee Name', 
            'form' =&gt; array (
               'type' =&gt; 'text' 
            ), 
         ),  
         
         'age' =&gt; array ( 
            'data_type' =&gt; 'int', 
            'label' =&gt; 'Employee Age', 
            'form' =&gt; array ( 
               'type' =&gt; 'text' 
            ), 
         ),  
      ); 
   } 
</pre>
<h3>Create Action</h3>
<p>Create new action, <b>action_model</b> in Employee controller located at <b>fuel/app/classes/controller/employee.php</b> as follows.</p>
<pre class="prettyprint notranslate">
class Controller_Employee extends Controller { 
   public function action_model() { 
      
      // db based sql command to delete all employees 
      $query = db::query('delete from `employee`'); 
      $query-&gt;execute('production');  
      
      // orm based query to add new employees 
      $model = new model_employee(); 
      $model-&gt;name = "john"; 
      $model-&gt;age = 25; 
      $model-&gt;save();  
      $model = new model_employee(); 
      $model-&gt;name = "peter"; 
      $model-&gt;age = 20; 
      $model-&gt;save(); 
      
      // orm based query to fetch all employee data 
      $data = array(); 
      $data['emps'] = model_employee::find('all');  
      return response::forge(view::forge('employee/model', $data)); 
   } 
} 
</pre>
<h3>Create View</h3>
<p>Now, create a view file <b>model.php</b> located at <b>“fuel/app/views/employee”</b>. Add the following changes in the file.</p>
<pre class="prettyprint notranslate">
&lt;ul&gt; 
   &lt;?php 
      foreach($emps as $emp) {  
   ?&gt; 
   &lt;li&gt;&lt;?php echo $emp['name']; ?&gt;&lt;/li&gt; 
   
   &lt;?php 
   } 
   ?&gt; 
&lt;/ul&gt; 
</pre>
<p>Now, request the URL, <b>http://localhost:8080/employee/model</b> and it will produce the following result.</p>
<h3>Result</h3>
<img src="images/create_view_model.jpg" alt="Create View Model" />
<h1>FuelPHP - Form Programming</h1>
<p>FuelPHP provides three classes, <b>Form Fieldset</b>,, and <b>Input</b>,, to perform Form programming.</p>
<ul class="list">
<li><p><b>Form</b> class provides an option to create all HTML forms elements.</p></li>
<li><p><b>Fieldset</b> class provides an option to create html element through higher level methods, integrating the models and validation.</p></li>
<li><p><b>Input</b> class provides an option to parse the data submitted through html forms as well as http parameters, server variables, and user agents.</p></li>
</ul>
<p>In this chapter, let us learn <b>Form programming</b> in FuelPHP.</p>
<h2>Form</h2>
<p>As discussed earlier, Form class provides methods to create html form elements and the important methods are as follows &minus;</p>
<h3>open()</h3>
<p><b>open()</b> is used to create a new form. It provides the following two parameters &minus;</p>
<ul class="list">
<li><p><b>$attributes</b> &minus; attributes of form tag as array or just the action URL as string.</p></li>
<li><p><b>$hidden</b> &minus; array of hidden field name and their values.</p></li>
</ul>
<pre class="prettyprint notranslate">
echo Form::open('/employee/add'); 
echo Form::open(array('action' =&gt; '/employee/add', 'method' =&gt; 'post'));
</pre>
<h3>close()</h3>
<p><b>close()</b> simply closes the form.</p>
<pre class="prettyprint notranslate">
echo Form::close();
</pre>
<h3>input()</h3>
<p><b>input()</b> creates html input element. It has the following three parameters,</p>
<ul class="list">
<li><p><b>$field</b> &minus; name of the input element</p></li>
<li><p><b>$value</b> &minus; value of the input element</p></li>
<li><p><b>$attributes</b> &minus; attributes of input element as array</p></li>
</ul>
<pre class="prettyprint notranslate">
echo Form::input('name', 'jon', array('style' =&gt; 'border: 20px;'));
</pre>
<h3>label element</h3>
<p><b>label</b> creates html label element. It has the following three parameters,</p>
<ul class="list">
<li><p><b>$label</b> &minus; label to show</p></li>
<li><p><b>$id</b> &minus; associated form element id</p></li>
<li><p><b>$attributes</b> &minus; attributes of label element as array</p></li>
</ul>
<pre class="prettyprint notranslate">
echo Form::label('Employee Name', 'employee_name');
</pre>
<h3>hidden</h3>
<p><b>hidden</b> is similar to input method, except it sets the type of the input element to hidden.</p>
<h3>password</h3>
<p><b>password</b> is similar to input method, except it sets the type of the input element to password.</p>
<h3>radio</h3>
<p><b>radio</b> is similar to input method, except it sets the type of the input element to radio. It has the following four parameters,</p>
<ul class="list">
<li><p><b>$field</b> &minus; name of the input element</p></li>
<li><p><b>$value</b> &minus; value of the input element</p></li>
<li><p><b>$checked</b> &minus; whether the item is checked or not (true / false)</p></li>
<li><p><b>$attributes</b> &minus; attributes of input element as array</p></li>
</ul>
<pre class="prettyprint notranslate">
echo Form::label('Male', 'gender'); 
echo Form::radio('gender', 'Male', true); 
echo Form::label('Female', 'gender'); 
echo Form::radio('gender', 'Female');
</pre>
<h3>checkbox</h3>
<p><b>checkbox</b> is similar to input method, except it sets the type of the input element to checkbox. It has the following four parameters,</p>
<ul class="list">
<li><p><b>$field</b> &minus; name of the input element</p></li>
<li><p><b>$value</b> &minus; value of the input element</p></li>
<li><p><b>$checked</b> &minus; whether the item is checked or not (true / false)</p></li>
<li><p><b>$attributes</b> &minus; attributes of input element as array</p></li>
</ul>
<pre class="prettyprint notranslate">
echo Form::label('Male', 'gender'); 
echo Form::checkbox('gender', 'Male', true);
echo Form::label('Female', 'gender'); 
echo Form::checkbox('gender', 'Female');
</pre>
<h3>file</h3>
<p><b>file</b> is similar to input method, except it sets the type of the input element to file.</p>
<h3>textarea</h3>
<p><b>textarea</b> creates html textarea element. It has the following three parameters,</p>
<ul class="list">
<li><p><b>$field</b> &minus; name of the textarea element</p></li>
<li><p><b>$value</b> &minus; value of the textarea element</p></li>
<li><p><b>$attributes</b> &minus; attributes of textarea element as array</p></li>
</ul>
<pre class="prettyprint notranslate">
echo Form::textarea ('description', 'original data (value)', array ('rows' =&gt; 6, 
      'cols' =&gt; 8)); 
</pre>
<h3>select</h3>
<p><b>select</b> creates an HTML select element. It has the following four parameters &minus;</p>
<ul class="list">
<li><p><b>$field</b> &minus; name of the select element</p></li>
<li><p><b>$values</b> &minus; initial selection values</p></li>
<li><p><b>$options</b> &minus; options as array. Options may be grouped using nested array</p></li>
<li><p><b>$attributes</b> &minus; attributes of input element as array</p></li>
</ul>
<pre class="prettyprint notranslate">
echo Form::select ( 
   'country',  
   'none',  
   array ( 
      'none'  =&gt; 'None', 
      'asia'  =&gt; array ( 
         'in' &gt; 'India', 
         'cn' =&gt; 'China' 
      ), 
      
      'us' =&gt; 'United States' 
   ) 
);
</pre>
<h3>submit</h3>
<p><b>submit</b> is similar to input method, except it sets the type of the input element to submit.</p>
<h3>button</h3>
<p><b>button</b> creates html button element. It has the following three parameters,</p>
<ul class="list">
<li><p><b>$field</b> &minus; name of the button element</p></li>
<li><p><b>$value</b> &minus; value of the button element </p></li>
<li><p><b>$attributes</b> &minus; attributes of button element as array</p></li>
</ul>
<pre class="prettyprint notranslate">
echo Form::button('emp_submit', 'Submit');
</pre>
<h3>reset</h3>
<p><b>reset</b> is similar to input method, except it sets the type of the input element to reset.</p>
<h3>fieldset_open</h3>
<p>fieldset_open creates html field set and legend elements. It has the following two parameters &minus;</p>
<ul class="list">
<li><p><b>attributes</b> &minus; attributes of fieldset element as array</p></li>
<li><p><b>legend</b> &minus; name of the legend to create</p></li>
</ul>
<pre class="prettyprint notranslate">
// returns &lt;fieldset class = "example-class" id = "example-id"&gt;
&lt;legend&gt;
   Custom Legend
&lt;/legend&gt; 

echo Form::fieldset_open (array (
   'class'  =&gt; 'example-class', 
   'id'     =&gt; 'exampleid', 
   'legend' =&gt; 'Custom Legend'
));
</pre>
<h3>fieldset_close</h3>
<p>fieldset_close creates the HTML field set close tag.</p>
<pre class="prettyprint notranslate">
// returns &lt;/fieldset&gt; 
echo Form::fieldset_close(); 
</pre>
<h2>Input Class</h2>
<p>Input class provides methods to read all request data along with form details. Some of the important methods are as follows &minus;</p>
<h3>uri</h3>
<p><b>uri</b> returns the current URI of the request</p>
<pre class="prettyprint notranslate">
// request: http://localhost:8080/employee/welcome  
echo Input::uri(); // return /employee/welcome
</pre>
<h3>method</h3>
<p><b>method</b> returns the HTTP method used in the request</p>
<pre class="prettyprint notranslate">
echo Input::method() // "POST"
</pre>
<h3>get</h3>
<p><b>get</b> enables to read $_GET variables. It has the following two parameters,</p>
<ul class="list">
<li><p><b>$index</b> &minus; index of the $_GET array</p></li>
<li><p><b>$default</b> &minus; default value, if index is not found.</p></li>
</ul>
<pre class="prettyprint notranslate">
echo Input::get('age', '20'); // returns $_GET['age']
</pre>
<h3>post</h3>
<p><b>post</b> enables to read $_POST variables. It has the following two parameters,</p>
<ul class="list">
<li><p><b>$index</b> &minus; index of the $_POST array</p></li>
<li><p><b>$default</b> &minus; default value, if index is not found</p></li>
</ul>
<pre class="prettyprint notranslate">
echo Input::get('age', '20'); // returns $_POST['age']
</pre>
<h3>param</h3>
<p><b>param</b> enables to fetch item from either $_GET, $_POST, $_PUT, or $_DELETE variables. It has the following two parameters,</p>
<ul class="list">
<li><p><b>$index</b> &minus; index of the array</p></li>
<li><p><b>$default</b> &minus; default value, if index is not found</p></li>
</ul>
<p>If no parameter is specified, it will return all items.</p>
<pre class="prettyprint notranslate">
echo Input::param('age', '20'); // returns $_POST['age']
</pre>
<h3>file</h3>
<p><b>file</b> enables to read $_FILE variables. It has the following two parameters,</p>
<ul class="list">
<li><p><b>$index</b> &minus; index of the $_POST array</p></li>
<li><p><b>$default</b> &minus; default value, if index is not found</p></li>
</ul>
<pre class="prettyprint notranslate">
echo Input::file();
</pre>
<h3>is_ajax</h3>
<p><i>is_ajax</i> returns true, if the request is made through AJAX.</p>
<pre class="prettyprint notranslate">
echo Input::is_ajax() // return false
</pre>
<h3>protocol</h3>
<p><b>protocol</b> returns the HTTP protocol used in the request.</p>
<pre class="prettyprint notranslate">
echo Input::protocol() // returns "HTTP"
</pre>
<h3>ip</h3>
<p><b>ip</b> returns the IP address through which the request is made.</p>
<pre class="prettyprint notranslate">
echo Input::ip() // returns "84.45.34.24" (Public IP Address)
</pre>
<h3>real_ip</h3>
<p><b>real_ip</b> tries to return the real IP address (if the client is behind proxy) through which the request is made.</p>
<pre class="prettyprint notranslate">
echo Input::real_ip() // returns "10.76.12.1" (local private IP Address)
</pre>
<h3>server</h3>
<p><b>server</b> enables to read $_SERVER variables. It has the following two parameters,</p>
<ul class="list">
<li><p><b>$index</b> &minus; index of the $_POST array</p></li>
<li><p><b>$default</b> &minus; default value, if index is not found.</p></li>
</ul>
<pre class="prettyprint notranslate">
echo Input::server('HTTP_HOST'); // returns localhost:8080
</pre>
<h3>referrer</h3>
<p><b>referrer</b> returns the referrer from $_SERVER variable. It is a shortcut method to get the http referrer of the current request.</p>
<h3>user_agent</h3>
<p><b>user_agent</b> returns the user agent from $_SERVER variable. It is a shortcut method to get the http user agent of the current request.</p>
<h3>query_string</h3>
<p><b>query_string</b> returns the query string from $_SERVER variable. It is a shortcut method to get the query string of the current request.</p>
<h3>headers</h3>
<p><b>headers</b> return the specific or all headers. It has the following two parameters &minus;</p>
<ul class="list">
<li><p><b>$index</b> &minus; name of the HTTP headers</p></li>
<li><p><b>$default</b> &minus; default value, if index is not found.</p></li>
</ul>
<pre class="prettyprint notranslate">
echo Input::headers('Content-Type'); // returns "text/html"
</pre>
<h3>extension</h3>
<p><b>extension</b> returns the URI extension of the current request.</p>
<pre class="prettyprint notranslate">
// Example URL: http://localhost/test/ 
echo Input::extension();  // NULL  

// Example URL: http://localhost/test.html 
echo Input::extension();  // 'html'
</pre>
<h2>Working Example</h2>
<p>Let’s create a simple form to add new employee using Form and Input class.</p>
<h3>Create form</h3>
<p>Create new action, <b>get_add</b> in the employee controller as follows.</p>
<pre class="prettyprint notranslate">
public function get_add() { 
   return Response::forge(View::forge('employee/add')); 
} 
</pre>
<p>Now, add view for the action, fuel/app/views/employee/add.php as follows.</p>
<pre class="prettyprint notranslate">
&lt;!DOCTYPE html&gt; 
&lt;html lang = "en"&gt; 
   &lt;head&gt; 
      &lt;title&gt;Employee :: add page&lt;/title&gt; 
      &lt;meta charset = "utf-8"&gt; 
      &lt;meta name = "viewport" content = "width = device-width, initial-scale = 1"&gt; 
      &lt;?php echo Asset::css('bootstrap.css'); ?&gt; 
   &lt;/head&gt;
   
   &lt;body&gt; 
      &lt;div class = "container"&gt; 
         &lt;?php 
            echo Form::open(array('action' =&gt; 'employee/add', 'method' =&gt; 'post')); 
         ?&gt;  
         
         &lt;div class = "form-group"&gt; 
            &lt;?php 
               echo Form::label('Employee name:', 'name'); 
               echo Form::input('name', '', array('class' =&gt; 'form-control')); 
            ?&gt; 
         &lt;/div&gt; 
         
         &lt;div class = "form-group"&gt; 
            &lt;?php 
               echo Form::label('Employee age:', 'age'); 
               echo Form::input('age', '', array('class' =&gt; 'form-control')); 
            ?&gt; 
         &lt;/div&gt; 
         
         &lt;?php echo Form::button('frmbutton', 'Submit', array(
            'class' =&gt; 'btn btn-default')); 
         ?&gt; 
         
         &lt;?php 
            echo Form::close(); 
         ?&gt; 
      &lt;/div&gt; 
   &lt;/body&gt; 
   
&lt;/html&gt;
</pre>
<p>Here, we have used <b>bootstrap</b> to design the form. FuelPHP provides full support for bootstrap components. Now, requesting the page, http://localhost:8080/employee/add will show the following form.</p>
<img src="images/form_design.jpg" alt="Form Design" />
<h3>Process Form</h3>
<p>Create new action, <i>post_add</i> to process the form and add the employee data entered by the user into the database in the employee controller as follows.</p>
<pre class="prettyprint notranslate">
public function post_add() { 
   $name = Input::post('name'); 
   $age = Input::post('age'); 
   $model = new model_employee(); 
   $model-&gt;name = $name; 
   $model-&gt;age = $age; 
   $model-&gt;save();  
   Response::redirect('employee/list'); 
}
</pre>
<p>Here, we have been redirected to employee list page, once the user entered data is saved into the database. Next, we will create the employee list page.</p>
<h3>List Employee</h3>
<p>Create new action, action_list to list the employee in the database as follows.</p>
<pre class="prettyprint notranslate">
public function action_list() { 
   $data = array(); 
   $data['emps'] = model_employee::find('all');
   return Response::forge(view::forge('employee/list', $data)); 
}
</pre>
<p>Create new view, <b>fuel/app/views/employee/list</b> for the above action as follows.</p>
<pre class="prettyprint notranslate">
&lt;ul&gt; 
   &lt;?php 
      foreach($emps as $emp) {  
   ?&gt; 
   &lt;li&gt;&lt;?php echo $emp['name']; ?&gt;&lt;/li&gt; 
   &lt;?php 
   } 
   ?&gt; 
&lt;/ul&gt; 
</pre>
<h3>Check the Form</h3>
<p>Now, request the URL, <b>http://localhost:8080/employee/add</b>, enter some employee data as shown in the following screenshot and submit the form.</p>
<img src="images/employee_data.jpg" alt="Employee Data" />
<p>Then, it shows all the employees (including newly added one) available in the database as follows &minus;</p>
<img src="images/database.jpg" alt="Database" />
<h1>FuelPHP - Validation</h1>
<p><b>Validation</b> is one of the frequent and most repeated tasks in a web application. The user enters the required data in the form and submits it. Then, the web application needs to validate the data before processing the data. For example, the user enters the employee data and the post_action needs to validate before saving it into the database. FuelPHP provides a really simple class, Validation for this purpose.</p>
<p>In FuelPHP, the concept of validation is very simple and it provides various methods through Validation class to properly validate the form. Following is the workflow of the validation,</p>
<p><b>Step 1</b> &minus; Create new Validation object using <b>forge</b> method.</p>
<pre class="prettyprint notranslate">
$val = Validation::forge();
</pre>
<p><b>Step 2</b> &minus; Add the fields which needs to be validated using add method.</p>
<pre class="prettyprint notranslate">
$val-&gt;add('name', 'Employee name');
</pre>
<p><b>Step 3</b> &minus; Set the validation rules for the added fields using <b>add_rule</b> method.</p>
<pre class="prettyprint notranslate">
$val-&gt;add('name', 'Employee name')-&gt;add_rule('required'); 
$val-&gt;add('age', 'Employee age')-&gt;add_rule('required') 
   -&gt;add_rule('numeric_min', 20) 
   -&gt;add_rule('numeric_max', 30); 
</pre>
<p><b>Step 4</b> &minus; Call the run method to validate the data.</p>
<pre class="prettyprint notranslate">
// run validation on just post 
if ($val-&gt;run()) { 
   // success 
} else { 
   // falier 
} 
</pre>
<p><b>Step 5</b> &minus; Use validated and error to get the valid and invalid fields respectively.</p>
<pre class="prettyprint notranslate">
$vars = $val-&gt;validated(); 
$vars = $val-&gt;error();
</pre>
<h2>Rules</h2>
<p>FuelPHP contains a lot of rules to validate, and also provides an option to create new rules. The rules supported by the Validation class are as follows,</p>
<ul class="list">
<li><p><b>required</b> &minus; Value to be entered</p></li>
<li><p><b>required_with</b> &minus; Set another field as a companion field. If the field is set, then companion fields need to be set as well</p></li>
<li><p><b>match_value</b> &minus; Set the value to be matched with the field's value</p></li>
<li><p><b>match_pattern</b> &minus; Set the value to be matched as a regular expression with the field's value</p></li>
<li><p><b>match_field</b> &minus; Set another field's value as value to be matched with the field's value</p></li> 
<li><p><b>match_collection</b> &minus; Set the value to be matched as collection with field's value</p></li>
<li><p><b>min_length</b> &minus; Set the minimum length of the field's value</p></li>
<li><p><b>max_length</b> &minus; Set the maximum length of the field's value</p></li>
<li><p><b>exact_length</b> &minus; Set the exact length of the field's value</p></li>
<li><p><b>valid_date</b> &minus; Set the field's value to a valid date</p></li>
<li><p><b>valid_email</b> &minus; Set the field's value to a valid email</p></li>
<li><p><b>valid_emails</b> &minus; Set the field's value to valid emails, separated by comma</p></li>
<li><p><b>valid_url</b> &minus; Set the field's value to a valid URL</p></li>
<li><p><b>valid_ip</b> &minus; Set the field's value to a valid IP</p></li>
<li><p><b>numeric_min</b> &minus; Set the minimum value of the field's value</p></li>
<li><p><b>numeric_max</b> &minus; Set the maximum value of the field's value</p></li>
<li><p><b>numeric_between</b> &minus; Set the minimum and maximum value of the field's value</p></li>
<li><p><b>valid_string</b> &minus; Similar to regex but simpler</p></li>
</ul>
<pre class="prettyprint notranslate">
$val-&gt;add('username', 'User name')-&gt;add_rule('valid_string', array('alpha, dots');
</pre>
<p>Here, alpha refers to alphabetical characters and dots refer to (.). The valid string is only the string which contains alphabetical character and (.). The other options are uppercase, lowercase, specials, numeric, spaces, etc.</p>
<h2>Working Example</h2>
<p>We can update the add employee feature to include validation. Just update the <b>post_add</b> method of the employee controller as follows.</p>
<pre class="prettyprint notranslate">
public function post_add() { 
   $val = Validation::forge(); 
   $val-&gt;add('name', 'Employee name')-&gt;add_rule('required'); 
   $val-&gt;add('age', 'Employee age')-&gt;add_rule('required')
      -&gt;add_rule('numeric_min', 20) 
      -&gt;add_rule('numeric_max', 30);  
   
   if ($val-&gt;run()) { 
      $name = Input::post('name'); 
      $age = Input::post('age');  
      $model = new model_employee(); 
      $model-&gt;name = $name; 
      $model-&gt;age = $age; 
      $model-&gt;save();  
      Response::redirect('employee/list'); 
   } else { 
      Response::redirect('employee/add'); 
   } 
}
</pre>
<p>Here, we have specified the <b>name</b> and age as the required fields. The <b>age</b> needs to be between 20 and 30. If both rules are valid, then the employee data will be saved and redirected to employee list page. Otherwise, employee data will be rejected and redirected to add employee page.</p>
<h1>FuelPHP - Advanced Form Programming</h1>
<p>FuelPHP provides an advanced form programming through Fieldset and Fieldset_Field classes. <b>Fieldset</b> provides an object-oriented way to create a form. It has complete support for models. It has built-in support for client-side and server-side validation as well. To create a full-fledged form, it is enough to create a model with proper form and validation setting. Let us learn about Fieldset class and how to create a form using it in this chapter.</p>
<h2>Fieldset</h2>
<p>Fieldset is a collection of <b>Fieldset_Field</b> objects. Fieldset_Field defines the individual entry of a form such as firstname, lastname, etc. along with validations. Fieldset class has methods to add/edit/remove fields. It has options to identify the fields defined in a model and create the fields from the given model. <b>Fieldset</b> uses Form and Validation classes in the background to do the real work. Let us see some of the important methods of the Fieldset class.</p>
<h3>forge</h3>
<p><b>forge</b> creates a new Fieldset instance. It has the following two parameters &minus;</p>
<ul class="list">
<li><p><b>$name</b> &minus; identifier for the fieldset</p></li>
<li><p><b>$config</b> &minus; configuration array. Possible options are <i>validation_instance</i> and <i>form_instance. validation_instance</i> can have <i>Validation</i> object and <i>form_instance</i> can have Form object.</p></li>
</ul>
<pre class="prettyprint notranslate">
$employee_form = Fieldset::forge('employee');
</pre>
<h3>instance</h3>
<p><b>instance</b> returns the previously created Fieldset instance by identifier.</p>
<pre class="prettyprint notranslate">
$employee_form = Fieldset::instance('employee');
</pre>
<h3>get_name</h3>
<p>Gets the identifier of the fieldset instance.</p>
<pre class="prettyprint notranslate">
$employee_form = Fieldset::forge('employee'); 
$name = $employee_form-&gt;get_name();
</pre>
<h3>add</h3>
<p><b>add</b> creates a new Fieldset_Field instance and add it to the current fieldset. It contains the following four parameters,</p>
<ul class="list">
<li><p><b>$name</b> &minus; name of the field</p></li>
<li><p><b>$label</b> &minus; label for the field</p></li>
<li><p><b>$attributes</b> &minus; HTML tag attributes</p></li>
<li><p><b>$rules</b> &minus; validation rules</p></li>
</ul>
<pre class="prettyprint notranslate">
$employee_field = $employee_form-&gt; add (
   'employee_lastname', 
   'Lastname', 
   array ('class' =&gt; 'pretty_input')
);  

// with validation rules 
$employee_form-&gt;add ( 
   'email', 'E-mail', 
   array('type' =&gt; 'email', 'class' =&gt; 'pretty_input'), 
   array('required', 'valid_email') 
);
</pre>
<h3>add_before</h3>
<p>add_before is similar to add, except it has one extra parameter to specify the field before which the newly created field will be added.</p>
<pre class="prettyprint notranslate">
$employee_form-&gt;add_before (
   'employee_firstname', 
   'Firstname', 
   array ('class' =&gt; 'pretty_input'), 
   array(), 
   'employee_lastname'
);
</pre>
<h3>delete</h3>
<p><b>delete</b> deletes the specified field from the fieldset.</p>
<pre class="prettyprint notranslate">
$employee_form-&gt;delete('employee_firstname');
</pre>
<h3>field</h3>
<p><b>field</b> gets either all the fields or the specified one from the fieldset.</p>
<pre class="prettyprint notranslate">
$fields = $employee_form-&gt;field(); 
$lastname_field = $employee_form-&gt;field('employee_lastname'); 
</pre>
<h3>build</h3>
<p><b>build</b> is alias for <i>$this-&gt;form()-&gt;build()</i>. Generates the HTML markup of the form.</p>
<pre class="prettyprint notranslate">
$employee_form-&gt;build(Uri::create('employee/add'));
</pre>
<h3>enable</h3>
<p><b>enable</b> re-enables a field that has been previously disabled.</p>
<pre class="prettyprint notranslate">
$employee_form-&gt;enable('employee_firstname');
</pre>
<h3>disable</h3>
<p><b>disable</b> allows to disable a field in the fieldset from being build.</p>
<pre class="prettyprint notranslate">
$employee_form-&gt;disable('employee_firstname');
</pre>
<h3>form</h3>
<p><b>form</b> returns the Form instance of the current fieldset.</p>
<pre class="prettyprint notranslate">
$form = employee_form-&gt;form();
</pre>
<h3>add_model</h3>
<p>add_model adds the model's field into the fieldset. It has the following three parameters,</p>
<ul class="list">
<li><p><b>$class</b> &minus; class name</p></li>
<li><p><b>$instance</b> &minus; instance of the class to populate the fields with value</p></li>
<li><p><b>$method</b> &minus; name of the method in the class. This method is used to add fields into the fieldset. Orm\Model has the required method. The default method name is set_form_fields.</p></li>
</ul>
<pre class="prettyprint notranslate">
$employee_form = Fieldset::forge('employee'); 
$employee_form-&gt;add_model('Model_Employee');
</pre>
<h3>populate</h3>
<p><b>populate</b> sets the initial value of the fields in fieldset using model instance.</p>
<pre class="prettyprint notranslate">
$emp = new Model_Employee(); 
$emp-&gt;name = "Jon"; 
$employee_form-&gt;populate($emp);
</pre>
<h3>repopulate</h3>
<p><b>repopulate</b> is same as populate, except it repopulates the fields in the fieldset.</p>
<h3>validation</h3>
<p><b>validation</b> gets the validation instance of the current fieldset.</p>
<pre class="prettyprint notranslate">
$validation = $employee_form-&gt;validation();
</pre>
<h3>validated</h3>
<p>Alias for $this-&gt;validation()-&gt;validated().</p>
<p><b>input</b></p>
<p>Alias for $this-&gt;validation()-&gt;input().</p>
<p><b>error</b></p>
<p>Alias for $this-&gt;validation()-&gt;error().</p>
<p><b>show_errors</b></p>
<p>Alias for $this-&gt;validation()-&gt;show_errors().</p>
<h2>Working Example</h2>
<p>Let’s create an advanced form to add new employee in our sample employee application using Fieldset class.</p>
<h3>Update Model</h3>
<p>Update the employee model with necessary validation rules and add a validation observer as follows.</p>
<pre class="prettyprint notranslate">
&lt;?php  
   class Model_Employee extends Orm\Model { 
      protected static $_connection = 'production'; 
      protected static $_table_name = 'employee'; 
      protected static $_primary_key = array('id'); 
      
      protected static $_properties = array ( 
         'id',  
         'name' =&gt; array ( 
            'data_type' =&gt; 'varchar',
            'label' =&gt; 'Employee Name', 
            'validation' =&gt; array ( 
               'required',  
               'min_length' =&gt; array(3),  
               'max_length' =&gt; array(80) 
            ), 
            'form' =&gt; array ( 
               'type' =&gt; 'text' 
            ), 
         ),  
         'age' =&gt; array ( 
            'data_type' =&gt; 'int', 
            'label' =&gt; 'Employee Age', 
            'validation' =&gt; array ( 
               'required',  
            ), 
            'form' =&gt; array ('type' =&gt; 'text' ), 
         ), 
      );  
      
      // Just add the Observer, and define the required event 
      protected static $_observers = array('Orm\\Observer_Validation' =&gt; array ( 
         'events' =&gt; array('before_save'))); 
   } 
</pre>
<p>Here, we have defined the validation rules for name and age fields and added a new observer to perform server side validation before saving the model into the database. The same validation rule will create necessary input validation attributes as well in the form.</p>
<h3>Create Form</h3>
<p>Create new action, action_advancedform in the employee controller as follows.</p>
<pre class="prettyprint notranslate">
public function action_advancedform() { 
   
   // create a new fieldset and add employee model
   $fieldset = Fieldset::forge('employee')-&gt;add_model('Model_Employee');  
   
   // get form from fieldset 
   $form = $fieldset-&gt;form();  
   
   // add submit button to the form 
   $form-&gt;add('Submit', '', array('type' =&gt; 'submit', 'value' =&gt; 'Submit'));  
   
   // build the form  and set the current page as action  
   $formHtml = $fieldset-&gt;build(Uri::create('employee/advancedform'));  
   
   // set form in data 
   $data = array(); 
   $data['form'] = $formHtml;  
   return Response::forge(View::forge('employee/advancedform', $data, false)); 
}   
</pre>
<p>Here, we have created the form using fieldset and send the form to the view. Next, add view for the action, <b>fuel/app/views/employee/advancedform.php</b> as follows.</p>
<pre class="prettyprint notranslate">
&lt;!DOCTYPE html&gt; 
&lt;html lang = "en"&gt; 
   
   &lt;head&gt; 
      &lt;title&gt;Employee :: add page&lt;/title&gt; 
      &lt;meta charset = "utf-8"&gt; 
      &lt;meta name = "viewport" content = "width = device-width, initial-scale = 1"&gt; 
      &lt;?php echo Asset::css('bootstrap.css'); ?&gt; 
      
      &lt;style&gt;  
         table { 
            width: 90%; 
         }  
         table tr { 
            width: 90% 
         }
         table tr td { 
            width: 50% 
         }  
         input[type = text], select { 
            width: 100%; 
            padding: 12px 20px; 
            margin: 8px 0; 
            display: inline-block; 
            border: 1px solid #ccc; 
            border-radius: 4px; 
            box-sizing: border-box; 
         }  
         input[type = submit] { 
            width: 100%; 
            background-color: #3c3c3c; 
            color: white; 
            padding: 14px 20px; 
            margin: 8px 0; 
            border: none; 
            border-radius: 4px; 
            cursor: pointer; 
         }  
         div { 
            border-radius: 5px; 
            background-color: #f2f2f2; 
            padding: 20px; 
         } 
      &lt;/style&gt; 
   &lt;/head&gt; 
   
   &lt;body&gt; 
      &lt;div class = "container"&gt; 
         &lt;?php
            if(isset($errors)) { 
               echo $errors; 
            } 
            echo $form; 
         ?&gt; 
      &lt;/div&gt; 
   &lt;/body&gt; 
   
&lt;/html&gt;
</pre>
<p>Now, requesting the page <b>http://localhost:8080/employee/add</b> will show the following form.</p>
<img src="images/add_page.jpg" alt="Add Page" />
<h3>Process Form</h3>
<p>Update the action method, <i>action_advancedform</i> to process the form and add the employee data entered by the user into the database in the employee controller as follows.</p>
<pre class="prettyprint notranslate">
public function action_advancedform() { 
   
   // create a new fieldset and add employee model 
   $fieldset = Fieldset::forge('employee')-&gt;add_model('Model_Employee');  
   
   // get form from fieldset 
   $form = $fieldset-&gt;form();  
   
   // add submit button to the form 
   $form-&gt;add('Submit', '', array('type' =&gt; 'submit', 'value' =&gt; 'Submit')); 
   
   // build the form  and set the current page as action  
   $formHtml = $fieldset-&gt;build(Uri::create('employee/advancedform'));  
   
   if (Input::param() != array()) { 
      try { 
         $article = Model_Employee::forge(); 
         $article-&gt;name = Input::param('name'); 
         $article-&gt;url = Input::param('age'); 
         $article-&gt;save(); 
         Response::redirect('employee/list'); 
      
      } 
      catch (Orm\ValidationFailed $e) { 
         $view = View::forge('employee/advancedform'); 
         $view-&gt;set('form', $formHtml, false); 
         $view-&gt;set('errors', $e-&gt;getMessage(), false); 
      } 
   } 
   
   return Response::forge($view); 
}
</pre>
<p>Here, we have been redirected to employee list page, once the user entered data is validated and saved into the database. Otherwise, we will be shown the form again.</p>
<h3>Create the Form</h3>
<p>Now, request the URL, <b>http://localhost:8080/employee/add</b> and enter some employee data and submit the form. If the data is not provided, then the form will prompt the user to enter the data as shown in the following screenshot.</p>
<img src="images/data_missing.jpg" alt="Data Missing" />
<p>If the user bypasses the client side validation, then the server will validate the form and show an error as shown in the following screenshot.</p>
<img src="images/client_validation.jpg" alt="Client Happiness" />
<p>If the data passed the client and server side validation, then the employee data will be saved into the database and the page gets redirected to list page.</p>
<h1>FuelPHP - File Uploading</h1>
<p>File uploading is one of the most commonly used features in form programming. FuelPHP provides a special class, <b>Upload</b> to handle uploading of files. Let us learn how to upload a file using Upload class in this chapter.</p>
<h2>Configuration</h2>
<p>Upload class can be configured using separate configuration file, <b>fuel/app/config/upload.php</b>. The important configuration entries are as follows &minus;</p>
<ul class="list">
<li><p><b>max_size</b> &minus; Set the maximum size of the file to be uploaded. “0” refers unlimited upload size</p></li>
<li><p><b>ext_whitelist</b> &minus; Set allowed file extensions</p></li>
<li><p><b>ext_blacklist</b> &minus; Set disallowed file extensions</p></li>
<li><p><b>type_whitelist</b> &minus; Set allowed file types. For example, “text” for mime type “text/plain”</p></li>
<li><p><b>type_blacklist</b> &minus; Set disallowed file types</p></li>
<li><p><b>mime_whitelist</b> &minus; Set allowed mime file types. For example, “text/plain”</p></li>
<li><p><b>mime_blacklist</b> &minus; Set disallowed mime file types</p></li>
<li><p><b>prefix</b> &minus; String to prefix in the filename while saving the uploaded file to the server</p></li>
<li><p><b>suffix</b> &minus; String to suffix in the filename while saving the uploaded file to the server</p></li>
<li><p><b>extension</b> &minus; Extension of the uploaded file to be set</p></li>
<li><p><b>create_path</b> &minus; Whether to create the file path, if not available</p></li>
<li><p><b>overwrite</b> &minus; Whether to overwrite the existing file while saving the uploaded file</p></li>
<li><p><b>auto_rename</b> &minus; Whether to rename the file by adding a sequence number while saving the uploaded file</p></li>
<li><p><b>randomize</b> &minus; Whether to create a random 32-character name to save the uploaded file</p></li>
</ul>
<h2>Upload Methods</h2>
<p>Upload class provides options to process and save the file uploaded by the users. Every processed file (before saving) will have the following information in the result array.</p>
<ul class="list">
<li><p><b>field</b> &minus; Name of the form field</p></li>
<li><p><b>name</b> &minus; Name of the file uploaded</p></li>
<li><p><b>type</b> &minus; Type of the file as defined by the browser</p></li>
<li><p><b>mimetype</b> &minus; Type of the file as defined by Upload class</p></li>
<li><p><b>file</b> &minus; Fully qualified name of the temporary location of the uploaded file</p></li>
<li><p><b>filename</b> &minus; Filename of the uploaded file</p></li>
<li><p><b>extension</b> &minus; Extension of the file uploaded</p></li>
<li><p><b>size</b> &minus; Size of the file uploaded in bytes</p></li>
<li><p><b>errors</b> &minus; Array of error having error code and message</p></li>
<li><p><b>error</b> &minus; Whether to set array errors with why the upload fails (in case of failure in upload)</p></li>
</ul>
<p>Once the files are saved in the server, the result array will have the following information as well.</p>
<ul class="list">
<li><p><b>saved_to</b> &minus; Fully qualified path where the uploaded file was saved</p></li>
<li><p><b>saved_as</b> &minus; Name of the file that was saved</p></li>
<li><p><b>errors</b> &minus; Updated error array</p></li>
</ul>
<p>Now, let us see the method of Upload class.</p>
<h3>is_valid</h3>
<p>is_valid returns true, if any valid file is uploaded by the user.</p>
<pre class="prettyprint notranslate">
// do we have any uploaded files to save? 
if (Upload::is_valid()) { 
   // process  
} 
</pre>
<h3>get_files</h3>
<p>get_files return all the uploaded files as multi-dimensional array. If an index/name of the form's file input is specified, then it will return the uploaded file related to the specified file input only.</p>
<pre class="prettyprint notranslate">
foreach(Upload::get_files() as $file) { 
   // do something with the file info 
}  
if ( Upload::get_files(0)) { 
   // do something 
}
</pre>
<h3>get_errors</h3>
<p>get_errors returns an array of errors, if there is a failure to upload one or more files. If an index/name of the form's file input name is specified, then it will return the error related to the specified file input only.</p>
<pre class="prettyprint notranslate">
foreach(Upload::get_errors() as $file) { 
   // do something with the file info 
}  
if (Upload::get_errors('myimage')) { 
   // do something 
} 
</pre>
<h3>Process</h3>
<p>process refers to the actual process of gathering information about the uploaded file. We can supply a new custom configuration using array. If no configuration is specified, then it will use the configuration defined in fuel/app/config/upload.php</p>
<pre class="prettyprint notranslate">
Upload::process (array( 
   'auto_rename' =&gt; false, 
   'overwrite'   =&gt; true 
));
</pre>
<h3>save</h3>
<p>save refers to the actual process of saving all the validated files in a proper location. We can specify the index to save only that particular entry.</p>
<pre class="prettyprint notranslate">
Upload::save();
Upload::save(0);
Upload::save(0, 3); 
</pre>
<h2>Working Example</h2>
<p>Let us create a new controller, Controller_Upload in our employee sample to test the upload functionality.</p>
<p><b>Step 1</b> &minus; Create a file, <b>fuel/app/classes/controller/upload.php</b>. Create upload controller.</p>
<pre class="prettyprint notranslate">
&lt;?php 
   class Controller_Upload extends Controller { 
   }
</pre>
<p><b>Step 2</b> &minus; Create a new action get_upload.</p>
<pre class="prettyprint notranslate">
&lt;?php  
   class Controller_Upload extends Controller { 
      public function get_index() { 
         return \View::forge("upload/index"); 
      } 
   }
</pre>
<p><b>Step 3</b> &minus; Create a new view for the action created.</p>
<pre class="prettyprint notranslate">
&lt;!DOCTYPE html&gt; 
&lt;html&gt; 
   &lt;body&gt; 
   
      &lt;form action = "/upload/index" method = "post" enctype = "multipart/form-data"&gt; 
         Select image to upload: 
         &lt;input type = "file" name = "fileToUpload" id = "fileToUpload"&gt; 
         &lt;input type = "submit" value = "Upload Image" name = "submit"&gt; 
      &lt;/form&gt;  
      
   &lt;/body&gt; 
&lt;/html&gt; 
</pre>
<p><b>Step 4</b> &minus; Create a new action post_action to process the uploaded file.</p>
<pre class="prettyprint notranslate">
&lt;?php  
   class Controller_Upload extends Controller { 
      public function get_index() { 
         return \View::forge("upload/index"); 
      }  
      public function post_index(){ 
         $config = array( 
            'path' =&gt; DOCROOT.'files', 
            'randomize' =&gt; true, 
            'ext_whitelist' =&gt; array('img', 'jpg', 'jpeg', 'gif', 'png'), 
         );  
         Upload::process($config);  
         // if there are any valid files 
         
         if (Upload::is_valid()) { 
            Upload::save(); 
            echo "success"; 
         } else { 
            // and process any errors 
            foreach (Upload::get_errors() as $file) { 
               echo var_dump($file); 
            } 
         } 
      } 
   }      
</pre>
<p>Finally, run the application by requesting the url, <b>http://localhost:8080/upload/index</b> and try to upload file.</p>
<h3>Result</h3>
<img src="images/upload_file.jpg" alt="Upload File" />
<h1>FuelPHP - Ajax</h1>
<p>AJAX is a modern technology in web programming. It provides options to send and receive data in a webpage asynchronously, without refreshing the page. Let us learn about FuelPHP AJAX programming in this chapter.</p>
<p>FuelPHP framework provides options to identity whether the request type is AJAX or not. Input class has a method, <b>is_ajax()</b> for this purpose. If an AJAX request is made, <b>Input::is_ajax</b> method returns <b>true</b>, otherwise <b>false</b>.</p>
<p>This method is used to handle an AJAX request properly on the server side.</p>
<pre class="prettyprint notranslate">
if (Input::is_ajax()) {  
   // Ajax request  
} else {  
   // Normal request  
} 
</pre>
<p>We can use <b>json_encode</b> to return the JSON response. We can combine these two methods to create a simple and clean AJAX based web application.</p>
<h2>Working Example</h2>
<p>Let us add a new page, <b>ajax/index</b> in employee application and try to fetch the employee information asynchronously.</p>
<p><b>Step 1</b> &minus; Create a new controller, Controller_Ajax at fuel/app/classes/controller/ajax.php.</p>
<pre class="prettyprint notranslate">
&lt;?php  
   class Controller_Ajax extends Controller { 
   } 
</pre>
<p><b>Step 2</b> &minus; Create a new action, <i>action_index</i> as follows.</p>
<pre class="prettyprint notranslate">
&lt;?php  
   class Controller_Ajax extends Controller { 
      public function action_index() { 
         $emps = model_employee::find('all'); 
         $data = array(); 
         $i = 0; 
         
         foreach($emps as $emp) { 
            $data[$i] = array(); 
            $data[$i]['name'] = $emp['name']; 
            $data[$i]['age'] = $emp['age'];  
            $i = $i + 1; 
         }  
         if(\Input::is_ajax()) { 
            echo json_encode($data); 
         } else { 
            return \View::forge("ajax/index"); 
         } 
      } 
   }
</pre>
<p>Here, if the request is AJAX, we fetch student information, encode it as JSON, and return it. Otherwise, we just render the corresponding view.</p>
<p><b>Step 3</b> &minus; Create corresponding view file, <b>fuel/app/views/ajax/index.php</b> as follows.</p>
<pre class="prettyprint notranslate">
&lt;html&gt;
   &lt;head&gt;
      &lt;script language = "javascript" src = "/assets/js/jquery-3.2.1.min.js"&gt;&lt;/script&gt;
      
      &lt;style&gt;
         .table { border-collapse: collapse; }
         .table th, td {
            border-bottom: 1px solid #ddd;
            width: 250px;
            text-align: left;
            align: left;
         }
      &lt;/style&gt;
   &lt;/head&gt;
   
   &lt;body&gt;
      &lt;a id = "loademployee" href = "#"&gt;Load employee information&lt;/a&gt;
      &lt;/br&gt; 
      &lt;/br&gt;

      &lt;table class = "table"&gt;
         &lt;tbody id = "employee"&gt;
         &lt;/tbody&gt;
      &lt;/table&gt;
      
      &lt;script language = "javascript"&gt;
         $(document).ready(function() {
            $("#loademployee").on("click", function(event) {
               $.ajax ({
                  url:        '/ajax/index',
                  type:       'POST',
                  dataType:   'json',
                  async:      true,

                  success: function(data, status) {
                     var e = $('&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Age&lt;/th&gt;&lt;/tr&gt;');
                     $('#employee').html('');
                     $('#employee').append(e);
                     
                     for(i = 0; i &lt; data.length; i++) {
                        employee = data[i];
                        var e = $('&lt;tr&gt;&lt;td id = "name"&gt;&lt;/td&gt;&lt;td id = "age"&gt;&lt;/td&gt;&lt;/tr&gt;');
                        $('#name', e).html(employee['name']);
                        $('#age', e).html(employee['age']);
                        $('#employee').append(e);
                     }
                  },
                  
                  error : function(xhr, textStatus, errorThrown) {
                     alert('Ajax request failed.');
                  }
               });
            });  
         });
      &lt;/script&gt;
   &lt;/body&gt;
   
&lt;/html&gt;
</pre>
<p>Here, we have created an anchor tag (id: loademployee) to load the employee information using AJAX call. The AJAX call is done using JQuery. Event attached to loademployee tag activates when a user clicks it. Then, it will fetch the employee information using AJAX call and generate the required HTML code dynamically.</p>
<p><b>Step 4</b> &minus; Run the application.</p>
<p>Finally, run the application, <b>http://localhost:8000/ajax/index</b> and click the Load employee information anchor tab.</p>
<h2>Result</h2>
<img src="images/anchor_tab.jpg" alt="Anchor Tab" />
<h1>FuelPHP - HMVC Request</h1>
<p>FuelPHP provides an excellent feature to request an action inside the same application using <b>Request</b> class. This is called HMVC Request. It enables to reuse the controller logic.</p>
<h2>Creating a HMVC Request</h2>
<p>Creating a HMVC request is as simple as creating a request object with the required URL and call the execute method as follows.</p>
<pre class="prettyprint notranslate">
$list = Request::forge('employee/list/')-&gt;execute(); 
echo $list;  

$employee = Request::forge('employee/show/1')-&gt;execute(array('id' =&gt; '1')); 
echo $employee;
</pre>
<h2>Working Example</h2>
<p>Let us create a new controller, <i>Controller_HMVC</i> to test the HMVC feature. Create a file, <b>fuel/app/classes/controller/hmvc.php</b> and place the following code.</p>
<pre class="prettyprint notranslate">
&lt;?php 
   class Controller_HMVC extends Controller { 
      public function action_index() { 
         echo Request::forge('employee/list')-&gt;execute(); 
      } 
   }
</pre>
<p>Here, we have just called the employee/list page through HMVC request and shown the result.</p>
<h2>Result</h2>
<img src="images/employee_list.jpg" alt="Employee List" />
<h1>FuelPHP - Themes</h1>
<p>Themes are used to enable multiple look and feel for the application. It provides option for the user/developer to change the look and feel of the application without disturbing the functionality of the application. An application can have one or more themes. Each theme lives in its own folder. Let us learn how to create themes in this chapter.</p>
<h2>Theme Configuration</h2>
<p>FuelPHP provides a separate configuration file for themes, <b>fuel/app/config/themes.php</b>. All theme related settings are configured in this file. Some of the main theme settings are as follows &minus;</p>
<ul class="list">
<li><p><b>active</b> &minus; Name of the active theme</p></li>
<li><p><b>fallback</b> &minus; Name of the fallback theme, if active theme is not found</p></li>
<li><p><b>paths</b> &minus; Array of the path to search and find themes</p></li>
<li><p><b>assets_folder</b> &minus; Normally, assets need to be inside DOCPATH so that it will be accessible through web. It refers to the asset folder for the themes inside the DOCPATH</p></li>
<li><p><b>view_ext</b> &minus; Extension of the theme's view file</p></li>
<li><p><b>info_file_name</b> &minus; File having extended information about themes</p></li>
<li><p><b>require_info_file</b> &minus; Whether to require the theme information file, info_file_name</p></li>
<li><p><b>use_modules</b> &minus; Whether to use current module or not</p></li>
</ul>
<p>Simple configuration for the theme file is as follows.</p>
<pre class="prettyprint notranslate">
&lt;?php  
   return array ( 
      'active' =&gt; 'tpthemes', 
      'fallback' =&gt; 'tpthemes', 
      'paths' =&gt; array ( 
         APPPATH.'themes', 
      ), 
      'assets_folder' =&gt; 'assets', 
      'view_ext' =&gt; '.html', 
      'require_info_file' =&gt; false, 
      'info_file_name' =&gt; 'themeinfo.php', 
      'use_modules' =&gt; false, 
   ); 
</pre>
<p>Here we have set,</p>
<ul class="list">
<li>The name of the active and fallback theme as tpthemes</li>
<li>The path of the theme folder as fuel/app/themes/</li>
<li>The path of the asset folder as /public/assets/tpthemes/</li>
</ul>
<h2>Theme Class</h2>
<p>Once the configuration is done, we can use the class, Theme provided by FuelPHP to do the functionality of the theme. Let us know about the methods available in the Theme class in this chapter.</p>
<h3>instance</h3>
<p>instance method enables to create a new theme. It has the following two parameters,</p>
<ul class="list">
<li><p><b>$name</b> &minus; Name of the theme (optional)</p></li>
<li><p><b>$config</b> &minus; Theme configuration array (same as seen in configuration section)</p></li>
</ul>
<p>Both parameters are optional. If no parameter is specified, it tries to get the default theme from the configuration file. If the theme name is specified, it tries to get the other settings from the configuration file. If configuration is specified as well, then it will use the user specified setting instead of setting from the configuration file.</p>
<pre class="prettyprint notranslate">
$theme = \Theme::instance(); 
$theme = \Theme::instance('tpthemes'); 
$theme = \Theme::instance ('mytheme', array ( 
   'active' =&gt; 'mytheme', 'view_ext' =&gt; '.php')); 
</pre>
<h3>forge</h3>
<p>forge is similar to instance, except it only has configuration array.</p>
<pre class="prettyprint notranslate">
$theme = \Theme::forge (array( 
   'active'   =&gt; 'tpthemes', 
   'fallback' =&gt; 'tpthemes', 
   'view_ext' =&gt; '.php', 
));
</pre>
<h3>view</h3>
<p>view method uses the <b>View::forge()</b> in the background. Both API are similar except view method searches the view file in the themes folder, fuel/app/themes/tpthemes/ instead of fuel/app/views/ folder.</p>
<pre class="prettyprint notranslate">
$theme = \Theme::instance(); 
$view = $theme-&gt;view('template/index'); 
// *fuel/app/themes/tpthemes/template/index.php 
</pre>
<h3>presenter</h3>
<p>presenter method uses the <b>Presenter::forge()</b> in the background. Both API are similar except presenter method searches the view file in the themes folder, fuel/app/themes/tpthemes/ instead of fuel/app/views/ folder.</p>
<pre class="prettyprint notranslate">
$theme = \Theme::instance(); 
$presenter = $theme-&gt;presenter('template/index');
</pre>
<h3>asset_path</h3>
<p>asset_path method returns the path to the asset requested relative to the currently selected theme.</p>
<pre class="prettyprint notranslate">
$theme = \Theme::instance();  

// public/assets/tpthemes/css/style.css 
$style = \Html::css($theme-&gt;asset_path('css/style.css')); 
</pre>
<h3>add_path</h3>
<p>add_path method allows to add a theme path at runtime.</p>
<pre class="prettyprint notranslate">
$theme = \Theme::instance(); 
$theme-&gt;add_path(DOCROOT.'newthemes');
</pre>
<h3>add_paths</h3>
<p>add_paths method allows to add multiple theme path at runtime.</p>
<pre class="prettyprint notranslate">
$theme = \Theme::instance();   
$theme-&gt;add_path(DOCROOT.'newthemes'); 
</pre>
<h3>active</h3>
<p>active method allows to set the active theme.</p>
<pre class="prettyprint notranslate">
$theme = \Theme::instance(); 
$active = $theme-&gt;active('newtheme'); 
</pre>
<h3>fallback</h3>
<p>fallback method allows to set the fallback theme.</p>
<pre class="prettyprint notranslate">
$theme = \Theme::instance();
$fallback = $theme-&gt;fallback('custom'); 
</pre>
<h3>get_template</h3>
<p>get_template method will return the View instance of the currently loaded theme template.</p>
<pre class="prettyprint notranslate">
$theme = \Theme::instance(); 
$theme-&gt;get_template()-&gt;set('body', 'Theme can change the look and feel of your app');
</pre>
<h3>set_template</h3>
<p>set_template method allows to set the theme template for the page.</p>
<pre class="prettyprint notranslate">
$theme = \Theme::instance(); 
$theme-&gt;set_template('layouts/index')-&gt;set('body', 'set theme template');
</pre>
<h3>find</h3>
<p>find returns true, if the path to the theme is found, otherwise it returns false.</p>
<pre class="prettyprint notranslate">
$theme = \Theme::instance(); 
$path = $theme-&gt;find('newtheme')
</pre>
<h3>all</h3>
<p>all method returns an array of all themes in all theme paths.</p>
<pre class="prettyprint notranslate">
$theme = \Theme::instance(); 
$themes = $theme-&gt;all(); 
</pre>
<h3>get_info</h3>
<p>get_info method returns a specific variable from the theme info array. If no theme is specified, the info array of the active theme is used.</p>
<pre class="prettyprint notranslate">
$theme = \Theme::instance(); 
$var = $theme-&gt;get_info('color', 'green', 'newtheme');
</pre>
<p>Here, the method get the color is defined in ‘newtheme’. If it is not defined, then it will use ‘green’ as the default color.</p>
<h3>set_info</h3>
<p>set_info method sets a variable in the active or fallback theme.</p>
<pre class="prettyprint notranslate">
$theme-&gt;set_info('color', 'green', 'fallback'); 
</pre>
<h3>set_partial</h3>
<p>set_partial method allows to set a view partial for a named section of your page template. Usually, it is done via HMVC call.</p>
<pre class="prettyprint notranslate">
$theme = \Theme::instance(); 
$theme-&gt;set_template('layouts/homepage'); 
$theme-&gt;set_partial('navbar', 'homepage/navbar'); 
</pre>
<h3>get_partial</h3>
<p>get_partial method allows to get the view instance of a previously set partial in a named section of your page template.</p>
<pre class="prettyprint notranslate">
$theme = \Theme::instance(); 
$theme-&gt;set_partial('sidebar', 'partials/menu'); 
$theme-&gt;get_partial('sidebar', 'partials/menu')-&gt;set('class', 'menu green');
</pre>
<h2>Working Example</h2>
<p>Let us add theme support in our employee application.</p>
<p><b>Step 1</b> &minus; Add new theme configuration file, fuel/app/config/theme.php with the following content.</p>
<pre class="prettyprint notranslate">
&lt;?php  
   return array ( 
      'active' =&gt; 'tpthemes',
      'fallback' =&gt; 'tpthemes', 
      'paths' =&gt; array (APPPATH.'themes', ), 
      'assets_folder' =&gt; 'assets', 
      'view_ext' =&gt; '.html', 
      'require_info_file' =&gt; false, 
      'info_file_name' =&gt; 'themeinfo.php', 
      'use_modules' =&gt; false, 
   );
</pre>
<p><b>Step 2</b> &minus; Add new asset folder, public/assets/tpthemes/css for the theme, tpthemes.</p>
<pre class="result notranslate">
cd /go/to/app/root/path 
mkdir -p public/assets/tpthemes/css 
</pre>
<p><b>Step 3</b> &minus; Download the latest bootstrap and place the bootstrap.min.css under public/assets/tpthemes/css</p>
<p><b>Step 4</b> &minus; Add new folder, tpthemes under fuel/app/themes folder.</p>
<pre class="result notranslate">
cd /go/to/app/root/path   
mkdir -p fuel/app/themes/tpthemes 
</pre>
<p><b>Step 5</b> &minus; Add new layout template, bootstrap.html under fuel/app/themes/tpthemes/layout/ and add the following code.</p>
<pre class="prettyprint notranslate">
&lt;!DOCTYPE html&gt; 
&lt;html lang = "en"&gt; 
   &lt;head&gt; 
      &lt;title&gt;Theme example&lt;/title&gt; 
      &lt;meta charset = "utf-8"&gt; 
      &lt;meta name = "viewport" content = "width = device-width, initial-scale = 1"&gt; 
      &lt;!-- Bootstrap core CSS --&gt; 
      &lt;?php echo \Theme::instance()-&gt;asset-&gt;css('bootstrap.min.css'); ?&gt; 
   &lt;/head&gt; 
   
   &lt;body&gt; 
      &lt;?php echo $header; ?&gt; 
      &lt;div class = "container"&gt; 
         &lt;div class = "row"&gt;
            &lt;div class = "col-sm-12"&gt; 
               &lt;?php echo $content; ?&gt; 
            &lt;/div&gt; 
         &lt;/div&gt; 
      &lt;/div&gt; 
   &lt;/body&gt;
   
&lt;/html&gt; 
</pre>
<p>Here, we have used theme instance and asset method to get the path of the bootstrap file. We have defined two variables, header and content. <b>header</b> is defined to set the header details dynamically. <b>content</b> is defined to set the actual content of the page dynamically.</p>
<p><b>Step 6</b> &minus; Add new header template, header.php at fuel/app/themes/tpthemes/partials as follows.</p>
<pre class="prettyprint notranslate">
&lt;div class = "jumbotron text-center"&gt;
   &lt;h1&gt;Theme support in fuelphp&lt;/h1&gt; 
   &lt;p&gt;bootstrap based template&lt;/p&gt;  
&lt;/div&gt; 
</pre>
<p><b>Step 7</b> &minus; Create a new controller, <b>ThemeSample</b> at fuel/app/classes/controller/themesample.php and <b>action</b> at action_index as follows.</p>
<pre class="prettyprint notranslate">
&lt;?php  
   class Controller_ThemeSample extends \Controller { 
      public function before() { 
         $this-&gt;theme = \Theme::instance(); 
         $this-&gt;theme-&gt;set_template('layouts/bootstrap');  
         $header = $this-&gt;theme-&gt;view('partials/header'); 
         $this-&gt;theme-&gt;get_template()-&gt;set('header', $header); 
      }  
      public function action_index() { 
         $content = $this-&gt;theme 
         -&gt;view('themesample/index') 
         -&gt;set('message', 'This data comes from action page');  
         $this-&gt;theme 
         -&gt;get_template() 
         -&gt;set('content', $content); 
      } 
      public function after($response) { 
         if (empty($response) or  ! $response instanceof Response) { 
            $response = \Response::forge(\Theme::instance()-&gt;render()); 
         } 
         return parent::after($response); 
      } 
   }
</pre>
<p>Here, we have used <b>before</b> and <b>after</b> method to do the initialization of the theme using methods of <b>Theme</b> class. Some of the methods used are instance, get_template, set_template, and view.</p>
<p><b>Step 8</b> &minus; Finally, add view for the index action, index.php at fuel/app/themes/tpthemes/themesample as follows.</p>
<pre class="prettyprint notranslate">
&lt;p&gt;The data comes from *fuel/app/themes/tpthemes/themesample/index.html* file.&lt;/p&gt; 
&lt;p&gt; 
   &lt;?php echo $message; ?&gt; 
&lt;/p&gt;
</pre>
<p>Here, we have defined one variable, message, which needs to be set dynamically in the controller.</p>
<p>We have created a new theme, <b>tpthemes</b> and used it in <b>ThemeSample</b> controller. Let us now check the result by requesting the URL, http://localhost:8080/themesample/index. The result is as follows.</p>
<img src="images/theme_support.jpg" alt="Theme Support" />
<h1>FuelPHP - Modules</h1>
<p>Module is a great way to write reusable web functionalities such as blog, album, chat, etc. Module does not disturb the other code in the web application. It lives in its own folder and silently provides its functionality. Modules are simply the same controller, models, and views except that they are grouped, configured, and placed in a special folder. Usually, a module typically resides within the application's sub-directory named modules located at fuel/app/modules.</p>
<h2>Module Configuration</h2>
<p>We can define the modules path in the main application configuration file, fuel/app/config/config.php as follows.</p>
<pre class="prettyprint notranslate">
'module_paths' =&gt; array ( 
   path/to.’modules'.DS,              // path to application modules 
   path/to.’..’.DS.'globalmods'.DS    // path to our global modules 
),
</pre>
<h2>Module Namespace</h2>
<p>In FuelPHP, every module has its own PHP namespace. Setting separate namespace fixes the name clashes. For example, an employee module can be set under namespace, <i>EmployeeModule</i> as follows.</p>
<pre class="prettyprint notranslate">
&lt;?php  
   namespace Employeemodule;  

   class Controller_Employee { 
      //code here 
   }
</pre>
<p>Module must be named identical to the folder name of the module.</p>
<h2>Module Structure</h2>
<p>We can create a module by creating a folder name defined in the configuration. The folders name determines the name of the module, and the name of the namespace for the classes in the module.</p>
<p>The structure of the module is as follows &minus;</p>
<ul class="list">
<li>classes
<ul class="list">
<li>controller</li>
<li>model</li>
<li>view</li>
</ul>
</li>
<li>config</li>
<li>lang</li>
<li>tasks</li>
<li>views</li>
</ul>
<p>Module can have its own configuration files. It is very useful in the routing setup and it does not disturb the original configuration of the application. Another important concept is that, the module class can be reused by loading the module in the always_load configuration section as follows.</p>
<pre class="prettyprint notranslate">
'always_load =&gt; array ( 
   'modules' =&gt; array('employeemodule'), 
), 
</pre>
<p>Also, modules can be loaded and used instantly without configuring as follows.</p>
<pre class="prettyprint notranslate">
Module::load('employeemodule');  
\Employeemodule\Myclass::mymethod('params');
</pre>
<h1>FuelPHP - Packages</h1>
<p>Packages are similar to modules in code reuse but differs in the following ways,</p>
<ul class="list">
<li>It does not map to the web URLs</li>
<li>It is not approachable through HMVC requests</li>
</ul>
<p>In short, packages are not direct web functionalities such as blog, album, etc. Instead, it is a library of functions grouped together such as email processing, document creation, chart creation, authentication, etc. which aids in faster development of the web application.</p>
<h2>Creating Packages</h2>
<p>To create a package, first we need to arrange our source code specified as follows.</p>
<pre class="result notranslate">
/fuel 
   /packages 
      /package (root directory of package) 
         /bootstrap.php 
      /classes 
         /our.php 
      /classes.php 
         /here.php 
      /config 
         /config.php 
         /and_so_on
</pre>
<p>The structure of the package has two package specific files, config.php and bootstrap.php files. The purpose of the configuration file is to group the configuration of the package under the package folder itself without disturbing the main application. The purpose of the bootstrap file is to set the namespace so that the autoloader loads it properly.</p>
<p>Some ways to set the namespace is as follows,</p>
<pre class="prettyprint notranslate">
Autoloader::add_namespace('Mypackage', __DIR__.'/classes/'); 
Autoloader::add_core_namespace('Mypackage'); 
Autoloader::add_core_namespace('Mypackage', true); 
Autoloader::add_classes (array( 
   'Mypackage\\Classname' =&gt; __DIR__.'/classes/classname.php', 
   'Mypackage\\Anotherclass' =&gt; __DIR__.'/classes/anotherclass.php', 
)); 
</pre>
<p>Once the bootstrap file is properly configured and packages are loaded into the application, we can use it as follows.</p>
<pre class="prettyprint notranslate">
$instance = new Myclass; 
$instance = new Mynamespace\Myclass; 
</pre>
<h2>Installing Packages</h2>
<p>Packages are usually placed under fuel/packages directory. By default, the following packages are installed,</p>
<ul class="list">
<li><p><b>auth</b> &minus; Authentication package</p></li>
<li><p><b>email</b> &minus; Email package</p></li>
<li><p><b>oil</b> &minus; Fuel's command, oil package</p></li>
<li><p><b>orm</b> &minus; ORM package</p></li>
<li><p><b>parser</b> &minus; Markdown parser package</p></li>
</ul>
<p>To install a new package, following are the two options,</p>
<p><b>Option 1</b> &minus; Manual installation - download and install</p>
<p>To manually install the package, first download the package from the author's website. Unpack it and place it under <b>fuel/packages/</b> folder.</p>
<p><b>Option 2</b> &minus; Automatic method using oil command</p>
<p>FuelPHP provides an automated way of installing the packages hosted in github. Use the following command to install the package, mytestpackage.</p>
<pre class="result notranslate">
php oil package install mytestpackage
</pre>
<p>It clones the package source code using git client and moves it to fuel/packages folder. If git client is not available, then we can use –direct command argument to direct the command to download and install the packages as follows.</p>
<pre class="result notranslate">
php oil package install mytestpackage --direct
</pre>
<h2>Using Packages</h2>
<p>Packages can be used in the application once it is loaded into the application. There are two ways to load the packages into the application.</p>
<p><b>Option 1</b> &minus; Through Package class</p>
<p>FuelPHP provides a class, <b>Package</b> to load, unload, and check the availability of the packages through load, unload, and loaded methods, respectively. <b>load</b> method has two parameters. The first parameter, <b>$package</b> is the name of the package and second parameter, <b>path</b> is the path of the package. The second parameter is optional, if the package is installed in <b>fuel/packages</b> folder.</p>
<pre class="prettyprint notranslate">
// load the orm package 
Package::load('orm');  

// load the parser package from a specific directory 
Package::load('parser', '/path/to/packages/dir/');  

// load the non-existent package 
Package::load('awesome'); // Throws a PackageNotFoundException
</pre>
<p><b>Option 2</b> &minus; Through configuration file</p>
<p>To load a package permanently, just add the package under <b>always_load</b> configuration entry in the main configuration file, <b>fuel/app/config/config.php</b>. To load email package, use the following syntax.</p>
<pre class="result notranslate">
'always_load' =&gt; array ( 
   'packages' =&gt; array ( 
      'email', 
   ), 
), 
</pre>
<p>Once packages are loaded into the application, we can use it as follows.</p>
<pre class="prettyprint notranslate">
$instance = new Myclass; 
$instance = new Mynamespace\Myclass;
</pre>
<h1>FuelPHP - Cookie &amp; Session Management</h1>
<p><b>Cookie</b> provides client side data storage and it supports only a small amount of data. Usually, it is 2KB per domain and it depends on the browser. <b>Session</b> provides server side data storage and it supports a large amount of data. Let us go through how to create cookie and session in FuelPHP web application.</p>
<h2>Cookies</h2>
<p>FuelPHP provides a <b>Cookie</b> class to create a cookie item. Cookie class is used to create, assign, and delete cookies.</p>
<h3>Configure Cookie</h3>
<p>The Cookie class can be configured globally through the main application configuration file, located at fuel/app/config/config.php. It is defined as follows.</p>
<pre class="prettyprint notranslate">
'cookie' =&gt; array (  
   
   //Number of seconds before the cookie expires 
   'expiration'  =&gt; 0,  
   
   //Restrict the path that the cookie is available to 
   'path'        =&gt; '/',  
   
   //Restrict the domain that the cookie is available to 
   'domain'      =&gt; null,  
   
   // Only transmit cookies over secure connections 
   'secure'      =&gt; false,  
   
   // Only transmit cookies over HTTP, disabling Javascript access 
   'http_only'   =&gt; false, 
), 
</pre>
<h2>Methods</h2>
<p>Cookie class provides methods to create, access, and delete a cookie item. They are as follows &minus;</p>
<h3>set()</h3>
<p>set method is used to create a Cookie variable. It contains the following arguments,</p>
<ul class="list">
<li><p><b>$name</b> &minus; The key in the $_COOKIE array.</p></li>
<li><p><b>$value</b> &minus; The value of the cookie.</p></li>
<li><p><b>$expiration</b> &minus; Number of seconds the cookie should last for.</p></li>
<li><p><b>$path</b> &minus; The path on the server in which the cookie will be available on.</p></li>
<li><p><b>$domain</b> &minus; The domain that the cookie is available to.</p></li>
<li><p><b>$secure</b> &minus; Set to true if you only want to transmit cookies over secure connections.</p></li>
<li><p><b>$httponly</b> &minus; Allow only transmit of cookies over HTTP, disabling JavaScript access.</p></li>
</ul>
<pre class="prettyprint notranslate">
Cookie::set('theme', 'green');
</pre>
<h3>get()</h3>
<p>The get method is used to read a Cookie variable. It contains the following arguments,</p>
<ul class="list">
<li><p><b>$name</b> &minus; The key in the $_COOKIE array.</p></li>
<li><p><b>$value</b> &minus; The value to return if the key is not available i the $_COOKIE array.</p></li>
</ul>
<pre class="prettyprint notranslate">
Cookie::get('theme');
</pre>
<h3>delete()</h3>
<p>The delete method is used to delete a Cookie variable. It contains the following arguments,</p>
<ul class="list">
<li><p><b>$name</b> &minus; The key in the $_COOKIE array.</p></li>
<li><p><b>$value</b> &minus; The value of the cookie.</p></li>
<li><p><b>$domain</b> &minus; The domain that the cookie is available to.</p></li>
<li><p><b>$secure</b> &minus; Set to true if you only want to transmit cookies over secure connections.</p></li>
<li><p><b>$httponly</b> &minus; Allow only to transmit cookies over HTTP, disabling JavaScript access.</p></li>
</ul>
<pre class="prettyprint notranslate">
Cookie::delete('theme');
</pre>
<h2>Session</h2>
<p>FuelPHP provides class, <b>Session</b> to maintain state of the application.</p>
<h3>Configure Session</h3>
<p>Session class can be configured through the special configuration file, <b>fuel/core/config/session.php</b>. Some of the important configuration entries are as follows &minus;</p>
<ul class="list">
<li><p><b>auto_initialize</b> &minus; Initialize the session automatically.</p></li>
<li><p><b>driver</b> &minus; Name of the session driver. Session is implemented using driver and the possible options are cookie, db, memcached, redis, and file. The default driver is cookie.</p></li>
<li><p><b>match_ip</b> &minus; Check the client IP.</p></li>
<li><p><b>match_ua</b> &minus; Check the client user agent.</p></li>
<li><p><b>expiration_time</b> &minus; Session time out value in seconds.</p></li>
<li><p><b>rotation_time</b> &minus; Time to renew the session.</p></li>
</ul>
<h2>Session Methods</h2>
<p>Session class provides methods to manipulate the session data. They are as follows,</p>
<h3>instance()</h3>
<p>The <b>instance</b> method returns a default or a specific instance, which is identified by name.</p>
<pre class="prettyprint notranslate">
$session = Session::instance();            // default instance 
$session = Session::instance('myseesion'); // specific instance
</pre>
<h3>set()</h3>
<p>The <b>set</b> method is used to assign a Session variable.</p>
<pre class="result notranslate">
Session::set('userid', $userid);
</pre>
<h3>get()</h3>
<p>The <b>get</b> method allows you to retrieve the stored variables from the session.</p>
<pre class="result notranslate">
$userid = Session::get('userid'); 
</pre>
<h3>delete()</h3>
<p>The <b>delete</b> method allows you to delete a stored session variable.</p>
<pre class="result notranslate">
Session::delete('userid');
</pre>
<h3>create()</h3>
<p>The <b>create</b> method allows you to create a new session. If a session is already present, it will be destroyed and a new session is created.</p>
<pre class="result notranslate">
Session::create(); 
</pre>
<h3>destroy()</h3>
<p>The <b>destroy</b> method is used to destroy an existing session.</p>
<pre class="result notranslate">
Session::destroy();
</pre>
<h3>read()</h3>
<p>The <b>read</b> method allows you to read a session.</p>
<pre class="result notranslate">
Session::read(); 
</pre>
<h3>write()</h3>
<p>The <b>write</b> method allows you to write the session.</p>
<pre class="result notranslate">
Session::write();
</pre>
<h3>key()</h3>
<p>The <b>key</b> method allows you retrieve elements of the session key. The value of the key is unique.</p>
<pre class="result notranslate">
$session_id = Session::key('session_id'); 
</pre>
<h1>FuelPHP - Events</h1>
<p>An <b>event</b> is an action or occurrence recognized by the program that may be handled by the program itself. For example, we may define an action or event named my_fuel_event and then do some work whenever the event, my_fuel_event is called. FuelPHP provides class, <b>Event</b> to work with the events in the application.</p>
<h2>System Events</h2>
<p>FuelPHP defined some of the event through which we can do some work whenever the defined events are called or fired by the application. This help is changing the behavior of the FuelPHP without changing the FuelPHP's core code files. The pre-defined events are as follows &minus;</p>
<ul class="list">
<li><p><b>app_created</b> &minus; This event will be triggered after the FuelPHP framework has been initialized.</p></li>
<li><p><b>request_created</b> &minus; This event will be triggered after a new Request object has been forged.</p></li>
<li><p><b>request_started</b> &minus; This event will be triggered when execution of a request is requested.</p></li>
<li><p><b>controller_started</b> &minus; This event will be triggered before the controllers before() method is called.</p></li>
<li><p><b>controller_finished</b> &minus; This event will be triggered after the controllers after() method has been called and the response is received.</p></li>
<li><p><b>response_created</b> &minus; This event will be triggered after a new Response object has been forged.</p></li>
<li><p><b>request_finished</b> &minus; This event will be triggered when execution of a Request is complete and a response is received.</p></li>
<li><p><b>shutdown</b> &minus; This event will be triggered after the main request has been processed and the output has been sent.</p></li>
</ul>
<p>We can handle the events in the special configuration file, <b>fuel/app/config/events.php</b> as follows &minus;</p>
<pre class="prettyprint notranslate">
&lt;?php  
   return array ( 
      'fuelphp' =&gt; array ( 
         'app_created' =&gt; function() { 
            // After FuelPHP initialised
         }, 
         'request_created' =&gt; function() { 
            // After Request forged 
         }, 
         'request_started' =&gt; function() { 
            // Request is requested 
         }, 
         'controller_started' =&gt; function() { 
            // Before controllers before() method called 
         }, 
         'controller_finished' =&gt; function() { 
            // After controllers after() method called 
         }, 
         'response_created' =&gt; function() { 
            // After Response forged 
         }, 
         'request_finished' =&gt; function() { 
            // Request is complete and Response received 
         }, 
         'shutdown' =&gt; function() { 
            // Output has been send out 
         }, 
      ), 
   );
</pre>
<h2>Event Methods</h2>
<p>Event class provides methods to register, unregister, and fire events. They are as follows,</p>
<h3>register()</h3>
<p>The register method allows files to register an object that will be run when the trigger method is called.</p>
<pre class="prettyprint notranslate">
$my_event_code = function() { 
   echo 'my event'; 
} 
Event::register('my_event', $my_event_code); 
</pre>
<h3>unregister()</h3>
<p>The unregister method allows the files to unregister an object that would be run when the trigger method is called.</p>
<pre class="prettyprint notranslate">
Event::unregister('my_event', $my_event_code);
</pre>
<h3>trigger()</h3>
<p>The trigger method is used to trigger or activate callbacks that are associated through the register method.</p>
<pre class="prettyprint notranslate">
Event::trigger('my_event');
</pre>
<h3>has_events()</h3>
<p>The has_events method is available so you can check if a particular registered event has triggers.</p>
<pre class="prettyprint notranslate">
Event::has_events('my_event');
</pre>
<h3>forge()</h3>
<p>The forge returns a new event object.</p>
<pre class="prettyprint notranslate">
$event = Event::forge();
</pre>
<h3>instance()</h3>
<p>The instance returns a new event object singleton.</p>
<pre class="prettyprint notranslate">
$event = Event::instance('event_instance');
</pre>
<h1>FuelPHP - Email Management</h1>
<p>Email functionality is the most requested feature in a web framework. FuelPHP provides an elegant email class bundled as a package. It is used to send simple plain text email as well as advanced rich text email with multiple attachments. It supports the following features -  Plain-text mails, HTML mails, attachments, and inline attachments.</p>
<h2>Configuration</h2>
<p>To enable email functionality in the application, we need to just load the email package as specified below in the main configuration file, fuel/app/config/config.php.</p>
<pre class="prettyprint notranslate">
'always_load' =&gt; array ( 
   'packages' =&gt; array ( 
      'email', 
   ), 
),
</pre>
<p>Another option is to load the email package, the controller itself as follows.</p>
<pre class="result notranslate">
\Package::load('email');
</pre>
<p>The email setting can be done in the main configuration file and some of the important options are as follows,</p>
<ul class="list">
<li><p><b>driver</b> &minus; Email driver such as smtp</p></li>
<li><p><b>is_html</b> &minus; Whether to send mail as HTML content or not</p></li>
<li><p><b>priority</b> &minus; Priority of the email</p></li>
<li><p><b>smtp.host</b> &minus; SMTP server host</p></li>
<li><p><b>smtp.port</b> &minus; SMTP server port</p></li>
<li><p><b>smtp.username</b> &minus; SMTP server username</p></li>
<li><p><b>smtp.password</b> &minus; SMTP server password</p></li>
<li><p><b>smtp.timeout</b> &minus; SMTP timeout</p></li>
<li><p><b>smtp.starttls</b> &minus; Whether the SMTP server needs STARTTLS command</p></li>
</ul>
<h2>Email API</h2>
<p>Following are the API provided by the email and email driver class.</p>
<h3>forge</h3>
<p>Purpose: To create an instance of email driver. It creates the driver based on the configuration or input it receives. Email driver provides features to create and send mail. Some of the possible email drivers are <b>smtp, sendmail, mailgun,</b> and <b>mandrill</b>.</p>
<ul class="list">
<li><p><b>Parameter</b> &minus; None or array of configuration details</p></li>
<li><p><b>Returns</b> &minus; Returns the Email_Driver object</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$email = \Email::forge();  
$email = \Email::forge (array( 
   'driver' =&gt; 'smtp', 
));
</pre>
<h3>body</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To set the message body</p></li>
<li><p><b>Parameter</b> &minus; $body - message body</p></li>
<li><p><b>Returns</b> &minus; Returns the current instance</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$email = \Email::forge(); 
$email-&gt;body('Body message');  

//or pass it a View 
$email-&gt;body(\View::forge('my/view', $data); 
</pre>
<h3>alt_body</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To set the alternative message body</p></li>
<li><p><b>Parameter</b> &minus; $alt_body - alternative message body</p></li>
<li><p><b>Returns</b> &minus; Returns the current instance</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$email = \Email::forge(); 
$email-&gt;alt_body('Body message');  

//or pass it a View 
$email-&gt;alt_body(\View::forge('my/view', $data);
</pre>
<h3>priority</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To set the mail's priority</p></li>
<li><p><b>Parameter</b> &minus;</p>
<ul class="list">
<li><p><b>$priority</b> &minus; value of the priority. The options are &minus;</p></li>
</ul>
</li>
</ul>
<pre class="result notranslate">
a. \Email::P_LOWEST 
* \Email::P_LOW 
* \Email::P_NORMAL 
* \Email::P_HIGH 
* \Email::P_HIGHEST
</pre>
<ul class="list">
<li><p><b>Returns</b> &minus; Returns the current instance</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$email = \Email::forge(); 
$email-&gt;priority(\Email::P_HIGHEST);
</pre>
<h3>html_body</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To set the message body in HTML format</p></li>
<li><p><b>Parameter</b> &minus;</p>
<ul class="list">
<li><p><b>$html</b> &minus; message body in HTML;</p></li>
<li><p><b>generate_alt</b> &minus; whether to generate alternative message;</p></li>
<li><p><b>auto_attach</b> &minus; whether to embed the image or not</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Returns the current instance</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$email = \Email::forge();  

// Do generate the alt body, but don't auto attach images. 
$email-&gt;html_body(\View::forge('welcome/email', $data), true, false); 
</pre>
<h3>from</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To set the from address</p></li>
<li><p><b>Parameters</b> &minus;</p>
<ul class="list">
<li><p><b>$from</b> &minus; from email address;</p></li>
<li><p><b>$name</b> &minus; Name of the sender</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Returns the current instance</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$email = \Email::forge(); 
$email-&gt;from('test@test.com', 'My Name');
</pre>
<h3>subject</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To set the subject of the message</p></li>
<li><p><b>Parameter</b> &minus; $subject - subject of the email message</p></li>
<li><p><b>Returns</b> &minus; Returns the current instance</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$email = \Email::forge(); 
$email-&gt;subject('Suject of the mail message');
</pre>
<h3>to</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To set the receiver email address</p></li>
<li><p><b>Parameters</b> &minus;</p>
<ul class="list">
<li><p><b>$email</b> &minus; email address or array of email address;</p></li>
<li><p><b>$name</b> &minus; receiver name</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus;  Returns the current instance</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$email = \Email::forge();  
$email-&gt;to('test@test.com', 'My Dear Name'); 
$email-&gt;to (array( 
   'test@test.com', 
   'test@test.com' =&gt; 'My Dear friend', 
)); 
</pre>
<h3>header</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To set custom header to the email message</p></li>
<li><p><b>Parameters</b> &minus;</p>
<ul class="list">
<li><p><b>$header</b> &minus; header type or array of header;</p></li>
<li><p><b>$value</b> &minus; value of the header</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Returns the current instance</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$email = \Email::forge(); 
$email-&gt;header('X-SMTPAP', 'XXXXXXXX'); 
$email&gt;reply_to (array( 
   'X-SMTPAP'  =&gt; 'XXXXXX', 
   'X-SMTPAP2' &gt; 'XXXXXA',
));
</pre>
<h3>attach</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To attach a file to the email message</p></li>
<li><p><b>Parameters</b>&minus;</p>
<ul class="list">
<li><p><b>$file</b> &minus; file path;</p></li>
<li><p><b>$inline</b> &minus; whether to attach the file inline or not;</p></li>
<li><p><b>$cid</b> &minus; content identifier;</p></li>
<li><p><b>$mime</b> &minus; MIME type of the attachment file;</p></li>
<li><p><b>$name</b> &minus; attachment file name override</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; Returns the current instance</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$email = \Email::forge();
$email&gt;attach(DOCROOT.'attachments/sample_attachment.pdf');
</pre>
<h3>send</h3>
<ul class="list">
<li><p><b>Purpose</b> &minus; To send the mail.</p></li>
<li><p><b>Parameter</b> &minus;</p>
<ul class="list">
<li><p><b>$validate</b> &minus; whether to validate the email addresses</p></li>
</ul>
</li>
<li><p><b>Returns</b> &minus; true or false</p></li>
</ul>
<p>For example,</p>
<pre class="prettyprint notranslate">
$email = \Email::forge(); 
try{ 
   $email-&gt;send(); 

} catch(\EmailSendingFailedException $e) { 
   // The driver could not send the mail. 

} catch(\EmailValidationFailedException $e) { 
   // One or more email addresses failed validation. 
}
</pre>
<h3>Working Email Sample</h3>
<p>Let us use the API learned in the previous chapter and create a simple code to send a message. Following is the simplest code to send a message.</p>
<pre class="prettyprint notranslate">
$email = Email::forge(); 
$email-&gt;from('someone@gmail.com', 'person1'); 
$email-&gt;to('anotherone@gmail.com', 'person2'); 
$email-&gt;subject('Add something'); 
$email-&gt;body('contents of mail'); $email-&gt;send(); 
</pre>
<h1>FuelPHP - Profiler</h1>
<p><b>Profiler</b> is one of the important tools to analyze and improve the performance of the application. FuelPHP provides an excellent profiler to profile the application. Let us learn about the profile in FuelPHP in this chapter.</p>
<h2>Enable Profiling</h2>
<p>Profiling is disabled by default. To enable profiling, set the attribute profiling to true in the main configuration file, fuel/app/config/config.php as follows.</p>
<pre class="result notranslate">
'profiling'  =&gt; true, 
</pre>
<p>Now, profiling is enabled in the application. Once profiling in enabled, all requested pages will show an extra tab at the bottom of the page with profiling information as shown in the following screenshot.</p>
<img src="images/enable_profiling.jpg" alt="Enable Profiling" />
<h2>Profiler Information</h2>
<p>The Profiler has a tabbed interface and it consists of the following data,</p>
<ul class="list">
<li><p><b>Console</b> &minus; Provides information about errors, log entries, memory usage, or execution timings.</p></li>
<li><p><b>Load time</b> &minus; Shows request load time.</p></li>
<li><p><b>Database</b> &minus; The number of queries executed and the execution time.</p></li>
<li><p><b>Memory</b> &minus; Total memory used for the request.</p></li>
<li><p><b>Files</b> &minus; Shows all PHP files.</p></li>
<li><p><b>Config</b> &minus; Configuration contents at the end of the request.</p></li>
<li><p><b>Session</b> &minus; Session contents at the end of the request.</p></li>
<li><p><b>GET</b> &minus; The contents of the $_GET array.</p></li>
<li><p><b>POST</b> &minus; The contents of the $_POST array.</p></li> 
</ul>
<h2>Profiler Class</h2>
<p>The profiler class is used to add your profiling information. It implements a customized version of PHPQuickProfiler (PQP). Profiler contains a collection of javaScript variables to control the initial state of the Profiler.</p>
<p><b>Profiler</b> class supports the following <b>methods</b> &minus;</p>
<h3>mark()</h3>
<p>mark method will add a speed marker to the profiler. It shows the load time.</p>
<pre class="prettyprint notranslate">
Profiler::mark('my custom code'); 
</pre>
<h3>mark_memory()</h3>
<p>*mark_memory* method adds a memory marker to the profiler. If no input is specified, the memory usage at that point of time is logged. If we specify the variable and a label for the variable as shown below, then it will show the memory usage of the variable and label it using the specified label.</p>
<pre class="prettyprint notranslate">
mark_memory($this, 'My Employee Controller memory usage');
</pre>
<h3>console()</h3>
<p>The console method will simply add a log entry to the profiler.</p>
<pre class="prettyprint notranslate">
Profiler::console('log entry'); 
</pre>
<h1>FuelPHP - Error Handling &amp; Debugging</h1>
<p>FuelPHP provides an excellent support for handling the errors and debugging the application. Let us understand error handling and debugging in this chapter.</p>
<h2>Error Handling</h2>
<p>FuelPHP error handling is based on exceptions. FuelPHP provides PhpErrorException exception for all old php errors. FuelPHP raises PhpErrorException whenever an error in the PHP code is encountered. FuelPHP also makes it easy to display custom error pages for various HTTP status codes.</p>
<h3>File Not Found Error</h3>
<p>FuelPHP provides a new exception class, HttpNotFoundException to handle the unknown requests. Sometimes, we may encounter the request which may not be handled. At that time, we can just throw the HttpNotFoundException.</p>
<p>By default, a default page is configured for HttpNotFoundException in the routes configuration file, fuel/app/config/routes.php using 400 entry. Whenever HttpNotFoundException is raised, the request will get redirected to 400 page.</p>
<pre class="result notranslate">
'_404_'   =&gt; 'welcome/404',    // The main 404 route 
</pre>
<h3>Internal Errors</h3>
<p>FuelPHP provides a new exception class, HttpServerErrorException to handle all server errors. Sometimes, we may not be able to process the given request due to internal errors. At that time, we can just throw the HttpServerErrorException.</p>
<p>By default, a default page is configured for HttpServerErrorException in the routes configuration file, fuel/app/config/routes.php using 500 entry. Whenever HttpServerErrorException is raised, the request will get redirected to 500 page.</p>
<pre class="result notranslate">
'_500_'   =&gt; 'welcome/500',    // The main 500 route
</pre>
<p>This page will log the error, show the will formatted error in the page and occasionally send a notification to the system administrator.</p>
<h3>Access Violation Errors</h3>
<p>FuelPHP provides a new exception class, HttpNoAccessException to handle the access violations. Sometimes, we may not be able to process the request due to access restriction. At that time, we can just throw the HttpNoAccessException.</p>
<p>By default, a default page is configured for HttpNoAccessException in the routes configuration file, fuel/app/config/routes.php using 403 entry. Whenever HttpNoAccessException is raised, the request will get redirected to 403 page.</p>
<pre class="result notranslate">
'_403_'   =&gt; 'welcome/403',     // The main 403 route 
</pre>
<p>This page will show the access violation information.</p>
<h2>Debugging</h2>
<p>Debugging is one of the most frequent activities developing an application. FuelPHP provides a simple class, <b>Debug</b> to handle the debugging activity of the application. Let us learn the Debug class and its methods in this chapter.</p>
<h3>Debug Class</h3>
<p>Debug class provides utility methods to show the detailed information of variables, objects, array, etc. Debug class provides the following methods,</p>
<h3>dump</h3>
<p>The dump method returns multiple mixed values to the browser in a formatted structured way.</p>
<pre class="result notranslate">
Debug::dump($var1, $var2);
</pre>
<h3>backtrace()</h3>
<p>backtrace shows the detailed information about the current execution of code. It shows the PHP file information, current line, and all its previous actions.</p>
<pre class="result notranslate">
Debug::backtrace();
</pre>
<h3>classes()</h3>
<p>Returns a list of all classes.</p>
<pre class="result notranslate">
Debug::classes(); 
</pre>
<h3>interfaces()</h3>
<p>Returns a list of all interface classes.</p>
<pre class="result notranslate">
Debug::interfaces(); 
</pre>
<h3>includes()</h3>
<p>Returns a list of all included files currently loaded at the runtime.</p>
<pre class="result notranslate">
Debug::includes();
</pre>
<h3>functions()</h3>
<p>Returns a list of all functions.</p>
<pre class="result notranslate">
Debug::functions(); 
</pre>
<h3>constants()</h3>
<p>Returns a list of all constants.</p>
<pre class="result notranslate">
Debug::constants();
</pre>
<h3>extensions()</h3>
<p>Returns a list of all extensions.</p>
<pre class="result notranslate">
Debug::extensions();
</pre>
<h3>headers()</h3>
<p>Returns a list of all HTTP headers.</p>
<pre class="result notranslate">
Debug::headers(); 
</pre>
<h3>phpini()</h3>
<p>Prints a list of the configuration settings read from php.ini file.</p>
<pre class="result notranslate">
Debug::phpini(); 
</pre>
<h1>FuelPHP - Unit Testing</h1>
<p>Unit testing is an essential process in developing large projects. <b>Unit tests</b> help to automate the testing of the application’s components at every stage of development. It alerts when the component of the application is not working according to the business specification of the project. Unit testing can be done manually but is often automated.</p>
<h2>PHPUnit</h2>
<p>FuelPHP framework integrates with the PHPUnit testing framework. To write a unit test for the FuelPHP framework, we need to set up the PHPUnit. If PHPUnit is not installed, then download and install it. We can confirm the availability of PHPUnit in our system using the following command.</p>
<pre class="result notranslate">
phpunit --version
</pre>
<p>If PHPUnit is available, you will see the result similar to the following.</p>
<pre class="result notranslate">
PHPUnit 5.1.3 by Sebastian Bergmann and contributors. 
</pre>
<h2>Creating Unit Tests</h2>
<p>The standard location provided by FuelPHP to write unit test is fuel/app/tests. We can write the unit test for controller, model, view and presenters in separate folders. Let us write a unit test to validate the Model_Employee object.</p>
<ul class="list">
<li><p><b>Step 1</b> &minus; Create a folder, model under fuel/app/tests folder.</p></li>
<li><p><b>Step 2</b> &minus; Create a file, employee.php under fuel/app/tests/model/ folder.</p></li>
<li><p><b>Step 3</b> &minus; Create a new test class, Test_Model_Employee by extending TestCase class provided of PHPUnit.</p></li>
<li><p><b>Step 4</b> &minus; Write a method, testInstanceOfEmployee() to asset the employee object creation using assertInstanceOf() method provided by PHPUnit's TestCase class.</p></li>
</ul>
<p>Following is the complete code &minus;</p>
<pre class="prettyprint notranslate">
&lt;?php  
   class Test_Model_Employee extends TestCase { 
      public function testInstanceOfEmployee() { 
         $this-&gt;assertInstanceOf(Model_Employee::class, new Model_Employee()); 
      } 
   } 
</pre>
<h3>Creating a Test Group</h3>
<p>FuelPHP provides an option to create a group of test cases. Creating a group is as simple as adding docblock attribute, @group. Let us include our test case inside the MyTest group.</p>
<pre class="prettyprint notranslate">
&lt;?php   
   /** 
      * @group MyTest 
   */ 
   class Test_Model_Employee extends TestCase { 
      public function testInstanceOfEmployee() { 
         $this-&gt;assertInstanceOf(Model_Employee::class, new Model_Employee()); 
      } 
   }
</pre>
<h2>Run Test</h2>
<p>To run all the test in the directory, use the following command.</p>
<pre class="result notranslate">
$ php oil test
</pre>
<p>To run a specific group of tests, use the following command.</p>
<pre class="result notranslate">
$ php oil test --group = MyTest
</pre>
<p>After executing the command, you will receive the following response.</p>
<pre class="result notranslate">
Tests Running...This may take a few moments.
PHPUnit 5.1.3 by Sebastian Bergmann and contributors.
                                        1 / 1 (100%).
Time: 123 ms, Memory: 8.00Mb
OK (1 test, 1 assertion)
</pre>
<h1>FuelPHP - Complete Working Example</h1>
<p>In this chapter, we will learn how to create a complete MVC based BookStore application in FuelPHP.</p>
<h2>Step 1 Create a project</h2>
<p>Create a new project named “BookStore” in FuelPHP using the following command.</p>
<pre class="result notranslate">
oil create bookstore
</pre>
<h2>Step 2 Create a layout</h2>
<p>Create a new layout for our application. Create a file, layout.php at location fuel/app/views/layout.php. The code is as follows,</p>
<h3>fuel/app/views/layout.php</h3>
<pre class="prettyprint notranslate">
&lt;!DOCTYPE html&gt; 
&lt;html lang = "en"&gt; 
   &lt;head&gt; 
      &lt;meta charset = "utf-8"&gt; 
      &lt;meta http-equiv = "X-UA-Compatible" content = "IE = edge"&gt; 
      &lt;meta name = "viewport" content = "width = device-width, initial-scale = 1"&gt;  
      &lt;title&gt;&lt;?php echo $title; ?&gt;&lt;/title&gt;  
      
      &lt;!-- Bootstrap core CSS --&gt; 
      &lt;link href = "/assets/css/bootstrap.min.css" rel = "stylesheet"&gt;  
      &lt;script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"&gt;
      &lt;/script&gt; 
      &lt;script src = "/assets/js/bootstrap.min.js"&gt;&lt;/script&gt; 
   &lt;/head&gt;  
   
   &lt;body&gt; 
      &lt;nav class = "navbar navbar-inverse navbar-fixed-top"&gt; 
         &lt;div class = "container"&gt; 
            &lt;div class = "navbar-header"&gt;
               
               &lt;button type = "button" class = "navbar-toggle collapsed" 
                  datatoggle = "collapse" data-target = "#navbar" 
                  aria-expanded = "false" ariacontrols = "navbar"&gt; 
                  &lt;span class=  "sr-only"&gt;Toggle navigation&lt;/span&gt; 
                  &lt;span class = "icon-bar"&gt;&lt;/span&gt; 
                  &lt;span class = "icon-bar"&gt;&lt;/span&gt; 
                  &lt;span class = "icon-bar"&gt;&lt;/span&gt; 
               &lt;/button&gt; 
               &lt;a class = "navbar-brand" href = "#"&gt;FuelPHP Sample&lt;/a&gt; 
            &lt;/div&gt; 
            
            &lt;div id = "navbar" class = "collapse navbar-collapse"&gt; 
               &lt;ul class = "nav navbar-nav"&gt; 
                  &lt;li class = "active"&gt;&lt;a href = "/book/index"&gt;Home&lt;/a&gt;&lt;/li&gt; 
                  &lt;li&gt;&lt;a href = "/book/add"&gt;Add book&lt;/a&gt;&lt;/li&gt; 
               &lt;/ul&gt; 
            &lt;/div&gt;&lt;!--/.nav-collapse --&gt; 
         &lt;/div&gt; 
      &lt;/nav&gt;  
      
      &lt;div class = "container"&gt; 
         &lt;div class = "starter-template" style = "padding: 50px 0 0 0;"&gt; 
            &lt;?php echo $content; ?&gt; 
         &lt;/div&gt; 
      
      &lt;/div&gt;&lt;!-- /.container --&gt; 
   &lt;/body&gt;
   
&lt;/html&gt;
</pre>
<p>Here, we are using bootstrap template. FuelPHP has first class support for bootstrap templates. We have created two variables, title and content. title is used to specify the current page's title and content is used to specify the current page details.</p>
<h2>Step 3 Create a Controller</h2>
<p>Create a new controller, Controller_Book to show, add, edit, and delete the book. Create a new file, fuel/app/classes/controller/book.php and place the following code.</p>
<h3>fuel/app/classes/controller/book.php</h3>
<pre class="prettyprint notranslate">
&lt;?php  
   class Controller_Book extends Controller_Template {
      public $template = 'layout'; 
      public function action_index() { 
         
         // Create the view object 
         $view = View::forge('book/index');  
         
         // set the template variables 
         $this-&gt;template-&gt;title = "Book index page"; 
         $this-&gt;template-&gt;content = $view; 
      } 
   } 
</pre>
<p>Here, we have created the book controller by inheriting template controller and set the default template as fuel/app/views/layout.php.</p>
<h2>Step 4 Create the index view</h2>
<p>Create a folder, book in views directory under fuel/app/views folder. Then, create a file index.php inside the book folder and add the following code,</p>
<h3>fuel/app/views/index.php</h3>
<pre class="prettyprint notranslate">
&lt;h3&gt;index page&lt;/h3&gt;
</pre>
<p>As of now, we have created a basic book controller.</p>
<h2>Step 5 Modify the default route</h2>
<p>Update the default route to set the home page of the application to book controller. Open the default routing configuration file, fuel/app/config/routes.php and change it as follows.</p>
<h3>fuel/app/config/routes.php</h3>
<pre class="prettyprint notranslate">
&lt;?php 
   return array ( 
      '_root_'  =&gt; 'book/index',  // The default route 
      '_404_'   =&gt; 'welcome/404', // The main 404 route 

      'hello(/:name)?' =&gt; array('welcome/hello', 'name' =&gt; 'hello'), 
   ); 
</pre>
<p>Now, requesting the URL, http://localhost:8080/ will return the index page of the book controller as follows,</p>
<img src="images/return_index_page.jpg" alt="Return Index Page" />
<h2>Step 6 Create database</h2>
<p>Create a new database in MySQL server, using the following command,</p>
<pre class="result notranslate">
create database tutorialspoint_bookdb 
</pre>
<p>Then, create a table inside the database using the following command,</p>
<pre class="prettyprint notranslate">
CREATE TABLE book ( 
   id INT PRIMARY KEY AUTO_INCREMENT, 
   title VARCHAR(80) NOT NULL, 
   author VARCHAR(80) NOT NULL, 
   price DECIMAL(10, 2) NOT NULL 
);
</pre>
<p>Insert some sample record into the table using the following SQL statement.</p>
<pre class="prettyprint notranslate">
INSERT 
INTO 
   book(title, 
   author, 
   price) 
VALUES( 
   'The C Programming Language', 
   'Dennie Ritchie', 
   25.00 
),( 
   'The C++ Programming Language', 
   'Bjarne Stroustrup', 
   80.00
),( 
   'C Primer Plus (5th Edition)', 
   'Stephen Prata', 
   45.00 
),('Modern PHP', 'Josh Lockhart', 10.00),( 
   'Learning PHP, MySQL & JavaScript, 4th Edition', 
   'Robin Nixon', 
   30.00 
)
</pre>
<h2>Step 7 Configure database</h2>
<p>Configure the database using database configuration file, db.php located at fuel/app/config.</p>
<h3>fuel/app/config/db.php</h3>
<pre class="prettyprint notranslate">
&lt;?php  
   return array ( 
      'development' =&gt; array ( 
         'type'           =&gt; 'mysqli', 
         'connection'     =&gt; array ( 
            'hostname'       =&gt; 'localhost', 
            'port'           =&gt; '3306', 
            'database'       =&gt; 'tutorialspoint_bookdb', 
            'username'       =&gt; 'root', 
            'password'       =&gt; 'password', 
            'persistent'     =&gt; false, 
            'compress'       =&gt; false, 
         ), 
         'identifier'     =&gt; '`', 
         'table_prefix'   =&gt; '', 
         'charset'        =&gt; 'utf8', 
         'enable_cache'   =&gt; true, 
         'profiling'      =&gt; false, 
         'readonly'       =&gt; false, 
      ),
      'production' =&gt; array ( 
         'type'           =&gt; 'mysqli', 
         'connection'     =&gt; array ( 
            'hostname'       =&gt; 'localhost', 
            'port'           =&gt; '3306', 
            'database'       =&gt; 'tutorialspoint_bookdb', 
            'username'       =&gt; 'root', 
            'password'       =&gt; 'password', 
            'persistent'     =&gt; false, 
            'compress'       =&gt; false, 
         ), 
         'identifier'     =&gt; '`', 
         'table_prefix'   =&gt; '', 
         'charset'        =&gt; 'utf8', 
         'enable_cache'   =&gt; true, 
         'profiling'      =&gt; false, 
         'readonly'       =&gt; false, 
      ), 
   );
</pre>
<h2>Step 8 Include Orm package</h2>
<p>Update the main configuration file to include ORM package. It is located at “fuel/app/config/”.</p>
<h3>fuel/app/config/config.php</h3>
<pre class="prettyprint notranslate">
'always_load' =&gt; array ( 
   'packages' =&gt; array ( 
      'orm' 
   ), 
), 
</pre>
<h2>Step 9 Create a model</h2>
<p>Create a book model in book.php located at “fuel/app/classes/model”. It is defined as follows &minus;</p>
<h3>fuel/app/classes/model/book.php</h3>
<pre class="prettyprint notranslate">
&lt;?php  
   class Model_Book extends Orm\Model { 
      protected static $_connection = 'production'; 
      protected static $_table_name = 'book'; 
      protected static $_primary_key = array('id'); 
      
      protected static $_properties = array ( 
         'id',  
         'title' =&gt; array ( 
            'data_type' =&gt; 'varchar', 
            'label' =&gt; 'Book title', 
            'validation' =&gt; array ( 
               'required',  
               'min_length' =&gt; array(3),  
               'max_length' =&gt; array(80) 
            ), 
            
            'form' =&gt; array ( 
               'type' =&gt; 'text' 
            ), 
         ),  
         'author' =&gt; array ( 
            'data_type' =&gt; 'varchar', 
            'label' =&gt; 'Book author', 
            'validation' =&gt; array ( 
               'required', 
            ), 
            'form' =&gt; array ( 
               'type' =&gt; 'text' 
            ), 
         ),  
         'price' =&gt; array ( 
            'data_type' =&gt; 'decimal', 
            'label' =&gt; 'Book price', 
            'validation' =&gt; array ( 
               'required', 
            ), 
            'form' =&gt; array ( 
               'type' =&gt; 'text' 
            ), 
         ),  
      );  
      protected static $_observers = array('Orm\\Observer_Validation' =&gt; array ( 
         'events' =&gt; array('before_save') 
      )); 
   }
</pre>
<p>Here, we have specified the database details as properties of the model. It has validation details as well.</p>
<h2>Step 10 Display books</h2>
<p>Update the index action in book controller to list the available books in the database.</p>
<h3>fuel/app/classes/controller/book.php</h3>
<pre class="prettyprint notranslate">
&lt;?php  
   class Controller_Book extends Controller_Template { 
      public $template = 'layout'; 
      public function action_index() { 
         
         // Create the view object 
         $view = View::forge('book/index');  
         
         // fetch the book from database and set it to the view 
         $books = Model_Book::find('all'); 
         $view-&gt;set('books', $books);  
         
         // set the template variables
         $this-&gt;template-&gt;title = "Book index page"; 
         $this-&gt;template-&gt;content = $view; 
      } 
   }
</pre>
<p>Here, we have used the <b>orm</b> to fetch the book details from the database and then passed the book details to views.</p>
<h2>Step 11 Update index view</h2>
<p>Update the view file index.php located at “fuel/app/views/book”. The complete updated code is as follows,</p>
<h3>fuel/app/views/book/index.php</h3>
<pre class="prettyprint notranslate">
&lt;table class = "table"&gt; 
   &lt;thead&gt; 
      &lt;tr&gt; 
         &lt;th&gt;#&lt;/th&gt; 
         &lt;th&gt;Title&lt;/th&gt; 
         &lt;th&gt;Author&lt;/th&gt; 
         &lt;th&gt;Price&lt;/th&gt; 
         &lt;th&gt;&lt;/th&gt; 
      &lt;/tr&gt; 
   &lt;/thead&gt; 
   
   &lt;tbody&gt; 
      &lt;?php 
         foreach($books as $book) {  
      ?&gt; 
      
      &lt;tr&gt; 
         &lt;td&gt;&lt;?php echo $book['id']; ?&gt;&lt;/td&gt; 
         &lt;td&gt;&lt;?php echo $book['title']; ?&gt;&lt;/td&gt; 
         &lt;td&gt;&lt;?php echo $book['author']; ?&gt;&lt;/td&gt; 
         &lt;td&gt;&lt;?php echo $book['price']; ?&gt;&lt;/td&gt; 
         &lt;td&gt; 
            &lt;a href = "/book/edit/&lt;?php echo $book['id']; ?&gt;"&gt;Edit&lt;/a&gt; 
            &lt;a href = "/book/delete/&lt;?php echo $book['id']; ?&gt;"&gt;Delete&lt;/a&gt; 
         &lt;/td&gt;
      &lt;/tr&gt; 
      
      &lt;?php 
      } 
      ?&gt; 
   &lt;/tbody&gt; 
&lt;/table&gt; 
&lt;ul&gt;
&lt;/ul&gt; 
</pre>
<p>Now, requesting the URL, http://localhost:8080/ will show the page as follows &minus;</p>
<img src="images/index_view.jpg" alt="Index View" />
<h2>Step 12 Create action to add book</h2>
<p>Create the functionality to add a new book into the bookstore. Create a new action, action_add in the book controller as follows,</p>
<pre class="prettyprint notranslate">
public function action_add() { 
   
   // create a new fieldset and add book model 
   $fieldset = Fieldset::forge('book')-&gt;add_model('Model_Book');  
   
   // get form from fieldset 
   $form = $fieldset-&gt;form();  
   
   // add submit button to the form 
   $form-&gt;add('Submit', '', array('type' =&gt; 'submit', 'value' =&gt; 'Submit'));
   
   // build the form  and set the current page as action  
   $formHtml = $fieldset-&gt;build(Uri::create('book/add'));  
   $view = View::forge('book/add'); 
   $view-&gt;set('form', $formHtml, false);  
   
   if (Input::param() != array()) { 
      try { 
         $book = Model_Book::forge(); 
         $book-&gt;title = Input::param('title'); 
         $book-&gt;author = Input::param('author'); 
         $book-&gt;price = Input::param('price'); 
         $book-&gt;save();  
         Response::redirect('book'); 
      } catch (Orm\ValidationFailed $e) { 
         $view-&gt;set('errors', $e-&gt;getMessage(), false); 
      } 
   }  
   $this-&gt;template-&gt;title = "Book add page";  
   $this-&gt;template-&gt;content = $view; } 
</pre>
<p>Here the following two processes are being performed,</p>
<ul class="list">
<li><p>Building the book form to add book using Fieldset methods and Book model.</p></li>
<li><p>Processing the book form, when the user enters the book information and submitted back the form. It can be found by checking the Input::param() method for any submitted data. Processing the form involves the following steps &minus;</p>
<ul class="list">
<li><p>Gather the book information.</p></li>
<li><p>Validate the book information. We have already set the validation to be called before save method. If the validation fails, it will throw <i>Orm</i>\ValidationFailed exception.</p></li>
<li><p>Store the book information into the database.</p></li>
<li><p>Redirect the user to index page on success. Otherwise, show the form again.</p></li>
</ul>
</li>
</ul>
<p>We are doing both, showing the form as well as processing the form in the same action. When the user calls the action for the first time, it will show the form. When the user enters the book information and submits the data, then it will process the form.</p>
<h2>Step 13 Create the view for add book action</h2>
<p>Create the view for add book action. Create a new file, fuel/app/views/book/add.php and enter the following code,</p>
<pre class="prettyprint notranslate">
&lt;style&gt;  
   #form table { 
      width: 90%; 
   }  
   #form table tr { 
      width: 90% 
   }  
   #form table tr td { 
      width: 50% 
   }  
   #form input[type = text], select { 
      width: 100%; 
      padding: 12px 20px; 
      margin: 8px 0; 
      display: inline-block; 
      border: 1px solid #ccc; 
      border-radius: 4px; 
      box-sizing: border-box; 
   }  
   #form input[type = submit] { 
      width: 100%;
      background-color: #3c3c3c; 
      color: white; 
      padding: 14px 20px; 
      margin: 8px 0; 
      border: none; 
      border-radius: 4px; 
      cursor: pointer; 
   }  
   #form div { 
      border-radius: 5px; 
      background-color: #f2f2f2; 
      padding: 20px; 
   }  
&lt;/style&gt;  

&lt;div id = "form"&gt;  
   &lt;h2&gt;Book form&lt;/h2&gt; 
   
   &lt;?php   
      if(isset($errors)) { 
         echo $errors; 
      } 
      echo $form;  
   ?&gt; 
&lt;/div&gt; 
</pre>
<p>Here, we are just showing the form created in the action method. In addition, we are showing the errors, if any.</p>
<h2>Step 14 Checking the add book action</h2>
<p>Requesting the url, http://localhost:8080/book/add or clicking the Add book navigation link, will show the form as follows,</p>
<h3>Form</h3>
<img src="images/updated_view.jpg" alt="Updated View" />
<h3>Form with data</h3>
<img src="images/form_with_data.jpg" alt="Form With Data" />
<p>After entering the book information and submitting the page, the book information will be stored into the database and the page gets redirected to index page as follows.</p>
<h3>Book list with newly added book</h3>
<img src="images/book_list.jpg" alt="Book List" />
<h2>Step 15 Creating action to edit book</h2>
<p>Create the functionality to edit and update the existing book information. Create a new action, action_edit in the book controller as follows.</p>
<pre class="prettyprint notranslate">
public function action_edit($id = false) { 
   if(!($book = Model_Book::find($id))) { 
      throw new HttpNotFoundException(); 
   }  
   
   // create a new fieldset and add book model 
   $fieldset = Fieldset::forge('book')-&gt;add_model('Model_Book'); 
   $fieldset-&gt;populate($book);  
   
   // get form from fieldset 
   $form = $fieldset-&gt;form();  
   
   // add submit button to the form
   $form-&gt;add('Submit', '', array('type' =&gt; 'submit', 'value' =&gt; 'Submit'));  
   
   // build the form  and set the current page as action  
   $formHtml = $fieldset-&gt;build(Uri::create('book/edit/' . $id));  
   $view = View::forge('book/add'); 
   $view-&gt;set('form', $formHtml, false);  
   
   if (Input::param() != array()) { 
      try { 
         $book-&gt;title = Input::param('title'); 
         $book-&gt;author = Input::param('author'); 
         $book-&gt;price = Input::param('price'); 
         $book-&gt;save(); 
         Response::redirect('book'); 
      } catch (Orm\ValidationFailed $e) { 
         $view-&gt;set('errors', $e-&gt;getMessage(), false); 
      } 
   }  
   $this-&gt;template-&gt;title = "Book edit page"; 
   $this-&gt;template-&gt;content = $view; 
}
</pre>
<p>It is similar to add action, except it searches the requested book by id before processing the page. If any book information is found in the database, it will proceed and show the book information in the form. Otherwise, it will throw file not found exception and exit.</p>
<h2>Step 16 Create the view for edit action</h2>
<p>Create the view for edit book action. Here, we are using the same view used for add action.</p>
<h2>Step 17 Checking the edit book action.</h2>
<p>Click the edit link of any book in the book listing page, it will show the corresponding book form as follows &minus;</p>
<h3>Form with book details</h3>
<img src="images/form_book_details.jpg" alt="Form Book Details" />
<h2>Step 18 Create action to delete book</h2>
<p>Create the functionality to delete book from the bookstore. Create a new action, action_delete in the book controller as follows,</p>
<pre class="prettyprint notranslate">
public function action_delete($id = null) { 
   if ( ! ($book = Model_Book::find($id))) { 
      throw new HttpNotFoundException(); 

   } else { 
      $book-&gt;delete(); 
   } 
   Response::redirect('book'); 
} 
</pre>
<p>Here, we are checking for the existence of book in the database using the supplied book id. If the book is found, then it is deleted and redirected to index page. Otherwise, a page not found information will be shown.</p>
<h2>Step 19 Checking the delete action</h2>
<p>Check the delete action by clicking the delete link in the book listing page. It will delete the requested book and then again be redirected to the index page.</p>
<p>Finally, all the functionalities to add, edit, delete, and list the book information is created.</p>
<p>FuelPHP is simple, flexible, scalable, and easily configurable compared to other MVC based PHP frameworks. It provides all the features of the modern MVC framework. It can be used as is or can be changed completely to suit our needs. Above all, it is a great choice for web development.</p>
<hr />
<div class="pre-btn">
<a href="fuelphp_complete_working_example.html"><i class="icon icon-arrow-circle-o-left big-font"></i> Previous Page</a>
</div>
<div class="print-btn center">
<a href="../cgi-bin/printpage.html" target="_blank"><i class="icon icon-print big-font"></i> Print</a>
</div>
<div class="nxt-btn">
<a href="fuelphp_useful_resources.html">Next Page <i class="icon icon-arrow-circle-o-right big-font"></i>&nbsp;</a>
</div>
<hr />
<!-- PRINTING ENDS HERE -->
<div class="bottomgooglead">
<div class="bottomadtag">Advertisements</div>
<script type="text/javascript"><!--
var width = 580;
var height = 400;
var format = "580x400_as";
if( window.innerWidth < 468 ){
   width = 300;
   height = 250;
   format = "300x250_as";
}
google_ad_client = "pub-7133395778201029";
google_ad_width = width;
google_ad_height = height;
google_ad_format = format;
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
</div>
</div>
<div class="row">
<div class="col-md-3" id="rightbar">
<div class="simple-ad">
<a href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.facebook.com/sharer.php?u=' + 'http://www.tutorialspoint.com/fuelphp/fuelphp_quick_guide.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/facebookIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://twitter.com/share?url=' + 'http://www.tutorialspoint.com/fuelphp/fuelphp_quick_guide.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/twitterIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.linkedin.com/cws/share?url=' + 'http://www.tutorialspoint.com/fuelphp/fuelphp_quick_guide.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/linkedinIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://plus.google.com/share?url=http://www.tutorialspoint.com/fuelphp/fuelphp_quick_guide.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/googlePlusIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.stumbleupon.com/submit?url=http://www.tutorialspoint.com/fuelphp/fuelphp_quick_guide.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;">
<img src="../images/StumbleUponIcon.jpg" alt="img" />
</a>
<a  href="javascript:void(0)" onclick="var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://reddit.com/submit?url=http://www.tutorialspoint.com/fuelphp/fuelphp_quick_guide.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=656,top='+sTop+',left='+sLeft);return false;">
<img src="../images/reddit.jpg" alt="img" />
</a>
</div>
<div class="rightgooglead">
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 300;
google_ad_height = 250;
google_ad_format = "300x250_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
<div class="rightgooglead">
<script type="text/javascript"><!--
google_ad_client = "pub-7133395778201029";
google_ad_width = 300;
google_ad_height = 600;
google_ad_format = "300x600_as";
google_ad_type = "image";
google_ad_channel ="";
//--></script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
<div class="rightgooglead">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-2537027957187252";
/* Right Side Ad */
google_ad_slot = "right_side_ad";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="../../pagead2.googlesyndication.com/pagead/f.txt">
</script>
</div>
</div>
</div>
</div>
</div>
</div>

<div class="footer-copyright">
<div class="container">
<div class="row">
<div class="col-md-1">
<a href="../index-2.html" class="logo"> <img alt="Tutorials Point" class="img-responsive" src="../scripts/img/logo-footer.png"> </a>
</div>
<div class="col-md-4 col-sm-12 col-xs-12">
   <nav id="sub-menu">
      <ul>
         <li><a href="../about/tutorials_writing.html">Write for us</a></li>
         <li><a href="../about/faq.html">FAQ's</a></li>
         <li><a href="../about/about_helping.html">Helping</a></li>
         <li><a href="../about/contact_us.html">Contact</a></li>
      </ul>
   </nav>
</div>
<div class="col-md-3 col-sm-12 col-xs-12">
<p>&copy; Copyright 2017. All Rights Reserved.</p>
</div>
<div class="col-md-4 col-sm-12 col-xs-12">
   <div class="news-group">
      <input type="text" class="form-control-foot search" name="textemail" id="textemail" autocomplete="off" placeholder="Enter email for newsletter" onfocus="if (this.value == 'Enter email for newsletter...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Enter email for newsletter...';}">
      <span class="input-group-btn"> <button class="btn btn-default btn-footer" id="btnemail" type="submit" onclick="javascript:void(0);">go</button> </span>
      <div id="newsresponse"></div>
   </div>
</div>
</div>
</div>
</div>
</div>
<!-- Libs -->
<script type="text/javascript" src="../theme/js/custom-min7b30.js?v=4"></script>
<script src="../../www.google-analytics.com/urchin.js">
</script>
<script type="text/javascript">
_uacct = "UA-232293-6";
urchinTracker();
$('.pg-icon').click(function(){
   $('.wrapLoader').show();
});
</script>
</div>
</body>

<!-- Mirrored from www.tutorialspoint.com/fuelphp/fuelphp_quick_guide.htm by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Aug 2017 18:06:14 GMT -->
</html>
